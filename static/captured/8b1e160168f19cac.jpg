"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["59177"],{843174:function(e,t,a){a.d(t,{utf8:function(){return i}});var n=a(519428),r=a(436041);let i={length(e){let t=0,a=0;for(let n=0;n<e.length;++n)(a=e.charCodeAt(n))<128?t+=1:a<2048?t+=2:(64512&a)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},read(e,t,a){if(a-t<1)return"";let n="";for(let r=t;r<a;){let t=e[r++];if(t<=127)n+=String.fromCharCode(t);else if(t>=192&&t<224)n+=String.fromCharCode((31&t)<<6|63&e[r++]);else if(t>=224&&t<240)n+=String.fromCharCode((15&t)<<12|(63&e[r++])<<6|63&e[r++]);else if(t>=240){let a=((7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;n+=String.fromCharCode(55296+(a>>10)),n+=String.fromCharCode(56320+(1023&a))}}return n},write(e,t,a){let n,r;let i=a;for(let i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t[a++]=n:(n<2048?t[a++]=n>>6|192:((64512&n)==55296&&(64512&(r=e.charCodeAt(i+1)))==56320?(n=65536+((1023&n)<<10)+(1023&r),++i,t[a++]=n>>18|240,t[a++]=n>>12&63|128):t[a++]=n>>12|224,t[a++]=n>>6&63|128),t[a++]=63&n|128);return a-i},posCalcRange(e,t){let a=0,i={},l=(0,n.default)(t);l=(0,r.default)(l.sort((e,t)=>e-t));for(let t=0;t<e.length&&(a===l[0]&&(i[l[0]]=t,l.shift()),(64512&e[t].charCodeAt(0))==55296&&(64512&e[t+1].charCodeAt(0))==56320?(a+=this.length(`${e[t]}${e[t+1]}`),t++):a+=this.length(e[t]),l.length);t++);return i},posCalc(e,t){let a="",n=0;for(let r=0;r<e.length;r++)if(a+=e[r],this.length(a)===t){n=r+1;break}return n}}},568388:function(e,t,a){var n,r;a.d(t,{ParseState:function(){return i},ReviewState:function(){return l}});let i=((n={})[n.ParseState_Default=0]="ParseState_Default",n[n.ParseState_Success=1]="ParseState_Success",n[n.ParseState_Failed=2]="ParseState_Failed",n[n.ParseState_Processing=3]="ParseState_Processing",n),l=((r={})[r.ReviewState_Default=0]="ReviewState_Default",r[r.ReviewState_Access=1]="ReviewState_Access",r[r.ReviewState_NotCompliant=2]="ReviewState_NotCompliant",r[r.ReviewState_Processing=3]="ReviewState_Processing",r)},666196:function(e,t,a){a.d(t,{ChatServiceContext:function(){return r},ChatServiceContextProvider:function(){return i},useChatService:function(){return l}});var n=a(713738);let r=(0,n.createContext)(null),i=r.Provider;r.Consumer;let l=e=>{let t=(0,n.useContext)(r);if(!t)throw Error("not found ChatServiceContext, Please use ChatServiceContextProvider to provider it");let a=t[e];if(!a)throw Error(`not found target service [${e}]`);return a}},226982:function(e,t,a){a.d(t,{ContentType:function(){return n},SkillType:function(){return r}});var n={Unknown:0,SamanthaText:2001,SamanthaSuggest:2002,SamanthaLoading:2003,SamanthaMusic:2004,SamanthaMusicGenInput:2005,SamanthaMusicGenOutput:2006,SamanthaSearchCard:2007,SamanthaSearchText:2008,SamanthaImageInput:2009,SamanthaImageOutput:2010,SamanthaTranslate:2011,SamanthaReadInput:2012,SamanthaWebpageInput:2013,SamanthaSearchInput:2014,SamanthaWriteInput:2015,SamanthaWriteOutlineOutput:2016,SamanthaWritePagesCardOutput:2017,SamanthaWriteArtifactOutput:2018,SamanthaWriteIntentionCardOutput:2019,SamanthaVideoGenerationInput:2020,SamanthaVideoGenerationOutput:2021,SamanthaCanvasInput:2022,SamanthaCanvasOutput:2023,SamanthaAiPPTInput:2024,SamanthaAiPPTOutput:2025,SamanthaWriteEditorInput:2026,SamanthaReadOutput:2030,SamanthaDeepSearchInput:2031,SamanthaEduInput:2032,SamanthaMediaUnderstandingByAsrInput:2033,SamanthaAiPodcastInput:2034,SamanthaAiPodcastOutput:2035,SamanthaUserCustomSkillInput:2036,SamanthaCodeAssistantInput:2070,SamanthaCodeAssistantOutput:2071,SamanthaCodeInterpreterInput:2080,SamanthaCodeInterpreterOutput:2081,SamanthaSearchEngineInput:2072,SamanthaSearchEngineOutput:2073,SamanthaCreationOutput:2074,SamanthaWritingGenerateInput:2075,SamanthaDesExtTranslate:2501,SamanthaSummaryHighlight:2502,SamanthaExplain:2503,SamanthaDesExtSearchCard:2504,SamanthaLinkPreview:2505,SamanthaDesExtSuggest:2506,SamanthaVideoSummary:2508,SamanthaOneLevelVideoSummary:2509,SamanthaRewriteWithTone:2510,SamanthaCustomSkill:2511,SamanthaSearchMindNote:2512,SamanthaTextToMindNote:2513,SamanthaBilingualSentence:2514,SamanthaAITitle:2515,SamanthaPodcastScriptInput:2516,SamanthaWebsiteDetail:2517,SamanthaSummary:2518,SamanthaVideoListSummary:2519,SamanthaCommentAnalyze:2520,SamanthaVideoDeepAnalyze:2521,SamanthaTopicTrendAnalyze:2522,SamanthaDesExtAIToolSummary:2523,SamanthaDesExtReferenceAsk:2524,SamanthaDesExtMindMap:2525,SamanthaSimplifiedRead:2526,SamanthaDesExtGrammar:2527,SamanthaDesExtReply:2528,SamanthaDesExtMultiWebsites:2529,SamanthaPodcastScriptOutput:2530,SamanthaSharedAppAssistant:2531,SamanthaPageTranslate:2532,SamanthaDesExtGrammarCorrection:2536,SamanthaDesExtPodcastReadingInput:2537,SamanthaDesExtPodcastReadingOutput:2538,SamanthaDeepResearchInput:2533,SamanthaDeepReSearchAsyncInput:2534,SamanthaDesExtSupertask:2535,SamanthaDesExtEncyclopedia:2539,SamanthaDesExtMindMapGenerate:2540,SamanthaDesExtLastPlaceHolder:2999,SamanthaBlockText:1e4,SamanthaBlockResearchProcessCard:10001,SamanthaBlockSuperTask:10015,SamanthaBlockCreationLoading:10018,SamanthaBlockArtifactCodeFile:10021,SamanthaBlockCodeAssistantProcessCard:10022,SamanthaBlockArtifact:10030,SamanthaOAPIReadInput:11001,SamanthaOAPISearchInput:11002,SamanthaOAPIReadOutput:11501,SamanthaOAPISuggest:11502,SamanthaOAPISearchText:11503,BlockTypeLinkReader:10006,BlockTypeCode:10008,BlockTypePOISearch:10009,BlockTypeThink:10040,BlockTypeRoutePlan:10026,BlockRequirementClarify:10023,BlockGenericTool:10024,BlockTypeSearchQueryResult:10025,BlockImageAnalysis:10027},r={SkillFreeChat:0,SkillWrite:2,SkillImageGen:3,SkillSearch:4,SkillTranslate:5,SkillRead:6,SkillWebpage:7,SkillDeepSearch:8,SkillMusicGen:9,SkillEdu:11,SkillCodeInterpreter:13,SkillCodeAssistant:16,SkillVideoGeneration:17,SkillType_AiPPT:18,SkillTypeMediaUnderstandingByAsr:19,SkillSearchEngine:20,SkillDeepResearch:25,SkillAiPodcast:26,SkillUserCustomSkill:27,DesExtSkillMultiWebsites:12,DesExtSkillReferenceAsk:14,DesExtChatSkillPlaceholder:100,DesExtSkillTranslate:101,DesExtSkillSummaryHighlight:102,DesExtSkillExplain:103,DesExtSkillDesExtSearchCard:104,DesExtSkillLinkPreview:105,DesExtSkillDesExtSuggest:106,DesExtSkillAIToolSummary:107,DesExtSkillVideoSummary:108,DesExtSkillOneLevelVideoSummary:109,DesExtSkillRewriteWithTone:110,DesExtSkillCustomSkill:111,DesExtSkillSearchMindNote:112,DesExtSkillTextToMindNote:113,DesExtSkillBilingualSentence:114,DesExtSkillAITitle:115,DesExtPodcastTranscript:116,DesExtSkillWebsiteDetail:117,DesExtSkillSummary:118,DesExtSkillVideoListSummary:119,DesExtSkillCommentAnalyze:120,DesExtSkillVideoDeepAnalyze:121,DesExtSkillTopicTrendAnalyze:122,DesExtSkillMindMap:125,DesExtSkillSimplifiedRead:126,DesExtSkillGrammar:127,DesExtSkillReply:128,DesExtSkillSharedAppAssistant:131,DesExtSkillPageTranslate:132,DesExtSkillMeetingSummary:133,DesExtSkillGrammarCorrection:136,DesExtSkillPodcastReading:137,DesExtSkillSuperTask:138,DesExtSkillEncyclopedia:139,DesExtSkillMindMapGenerate:140}},845647:function(e,t,a){a.d(t,{ChatType:function(){return n}});var n={Conversation:0,Bot:1,ThreadLocalConversation:2,ProfileBot:3,NewThread:4,CollectionLocalConversation:6,SharedThreadContinueChat:8,NewDoc:9}},588426:function(e,t,a){a.d(t,{getConversationTypeById:function(){return i},getThreadIdByConversationId:function(){return l}});var n=a(785926),r=a(230932);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,n.conversationTypeByIdSelector)(r.useFeedStore.getState(),e,t)},l=e=>(0,n.threadIdByConversationIdSelector)(r.useFeedStore.getState(),e)},300841:function(e,t,a){a.d(t,{isDirectoryAttachment:function(){return i},isLongCtxBot:function(){return S},isRefAttachment:function(){return n},isRefImage:function(){return r},isRefLink:function(){return l},isRefText:function(){return o},isRegenerate:function(){return s}});let n=e=>(null==e?void 0:e.type)==="attachment"||(null==e?void 0:e.type)==="file",r=e=>(null==e?void 0:e.type)==="image",i=e=>(null==e?void 0:e.type)==="directory",l=e=>(null==e?void 0:e.type)==="link",o=e=>(null==e?void 0:e.type)==="text";function S(e){return!!e&&["7400765672814379027","7411132181101838390","7264586389273018423"].includes(e)}let s=e=>{var t;return!!(e.operation&&"regenerate"in e.operation&&(null===(t=e.operation)||void 0===t?void 0:t.regenerate))}},717554:function(e,t,a){a.d(t,{useInitNewThread:function(){return p},useInitNewThreadOuterChatView:function(){return d}});var n=a(713738),r=a(101874),i=a(845647),l=a(698392),o=a(230932),S=a(604889),s=a(915299),u=a(441259),h=a(856392),c=a(178230),m=a(651159);let d=e=>{let{chatId:t,chatType:a,navigate:n}=e,S=(0,s.useTranslateFn)();return{localThreadSendMessage:(0,m.useLocalThreadSendMessage)({chatType:a}),sendMessageHelper:()=>{let e=t||o.useFeedStore.getState().addNewLocalConversation({reportEvent:(0,h.createReportEvent)({eventName:"create_conversation",meta:{from:"header"}}),conversation:{conversation_type:r.PcchatExprConversationType.CocoWebSub,name:S("sidebar_newChat_placeholder")},conversationId:t});return{resolveLocalConversationId:e,toNewChat:function(a){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2?arguments[2]:void 0;setTimeout(()=>{r&&(0,l.getChatStore)("chatInputStore").getState().updateHidePopoverWhenMount(t,!0);let S=new URLSearchParams({...o,type:`${i.ChatType.ThreadLocalConversation}`});null==n||n(`/chat/${e}?${S.toString()}`,{replace:a})},100)}}}}},p=e=>{let{chatId:t,chatType:a,eventPrefix:r="new_thread_view",navigate:i}=e,{chatInputRef:l}=(0,S.useChatRef)();return(0,n.useEffect)(()=>{if(!(0,u.getIsMobileOrIPad)()){var e;null===(e=l.current)||void 0===e||e.focus()}return c.logger.persist.info({eventName:`${r}_show`,meta:{localConversationId:t}}),()=>{t||c.logger.persist.warning({eventName:`${r}_without_localConversationId`})}},[]),d({chatId:t,chatType:a,navigate:i})}},37435:function(e,t,a){a.d(t,{AISpaceImageEditUrlAction:function(){return r}});var n=a(228494);let r={matcher:e=>e===n.EUrlActionName.AISpace_ImageEdit,handler:e=>Promise.all([a.e("85824"),a.e("57382")]).then(a.bind(a,931521)).then(t=>{t.default(e)}),prehandler:e=>Promise.all([a.e("85824"),a.e("81263")]).then(a.bind(a,938091)).then(t=>t.default(e))}}}]);
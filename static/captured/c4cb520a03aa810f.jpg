"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["65258"],{419977:function(e,t,n){n.d(t,{KT:function(){return o},UX:function(){return a},j2:function(){return i}});var r=n(771982);let a={PREFIX:`${r.T}-input`},i={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},o={}},123811:function(e,t,n){n.d(t,{KT:function(){return l},UX:function(){return i},j2:function(){return o}});var r=n(244277),a=n(771982);let i={PREFIX:`${a.T}-popover`,ARROW:`${a.T}-popover-icon-arrow`},o={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},l={ARROW_BOUNDING:Object.assign(Object.assign({},r.KT.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},380074:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}},109044:function(e,t,n){n.d(t,{q7:function(){return r}});let r="Enter";t.ZP={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229}},853466:function(e,t,n){n.d(t,{W8:function(){return i},kK:function(){return a}});var r=n(429996);function a(e){return r.isValidElement(e)}function i(e){return 0===r.Children.count(e)}},40412:function(e,t,n){let r=n(429996).createContext(null);t.Z=r},792324:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(118200),a=n(429996),i=n(295011),o=n.n(i),l=n(40412),s=n(925962),u=n(826706);class c extends a.Component{renderChildren(e,t){let{componentName:n}=this.props,a=e;(null==e?void 0:e.code)||(a=u.Z);let i=(0,r.Z)(u.Z,"dateFnsLocale"),o=(0,r.Z)(a,"dateFnsLocale",i);return t(a[n],a.code,o)}render(){let{children:e}=this.props;return a.createElement(s.Z.Consumer,null,t=>{let{locale:n}=t;return a.createElement(l.Z.Consumer,null,t=>this.renderChildren(n||t,e))})}}c.propTypes={componentName:o().string.isRequired,children:o().any},c.defaultProps={componentName:""}},826706:function(e,t,n){let r={code:"zh-CN",dateFnsLocale:n(872563).Z,Pagination:{pageSize:"\u6BCF\u9875\u6761\u6570\uFF1A${pageSize}",total:"\u603B\u9875\u6570\uFF1A${total}",jumpTo:"\u8DF3\u81F3",page:"\u9875"},Modal:{confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88"},TimePicker:{placeholder:{time:"\u8BF7\u9009\u62E9\u65F6\u95F4",timeRange:"\u8BF7\u9009\u62E9\u65F6\u95F4\u8303\u56F4"},begin:"\u5F00\u59CB\u65F6\u95F4",end:"\u7ED3\u675F\u65F6\u95F4",hour:"\u65F6",minute:"\u5206",second:"\u79D2",AM:"\u4E0A\u5348",PM:"\u4E0B\u5348"},DatePicker:{placeholder:{date:"\u8BF7\u9009\u62E9\u65E5\u671F",dateTime:"\u8BF7\u9009\u62E9\u65E5\u671F\u53CA\u65F6\u95F4",dateRange:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],dateTimeRange:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],monthRange:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"]},presets:"\u5FEB\u6377\u9009\u62E9",footer:{confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88"},selectDate:"\u8FD4\u56DE\u9009\u62E9\u65E5\u671F",selectTime:"\u9009\u62E9\u65F6\u95F4",year:"\u5E74",month:"\u6708",day:"\u65E5",monthText:"${year}\u5E74 ${month}",months:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"\u4E00",Tue:"\u4E8C",Wed:"\u4E09",Thu:"\u56DB",Fri:"\u4E94",Sat:"\u516D",Sun:"\u65E5"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"\u6536\u8D77\u4FA7\u8FB9\u680F",expandText:"\u5C55\u5F00\u4FA7\u8FB9\u680F"},Popconfirm:{confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88"},Table:{emptyText:"\u6682\u65E0\u6570\u636E",pageText:"\u663E\u793A\u7B2C ${currentStart} \u6761-\u7B2C ${currentEnd} \u6761\uFF0C\u5171 ${total} \u6761"},Select:{emptyText:"\u6682\u65E0\u6570\u636E",createText:"\u521B\u5EFA"},Cascader:{emptyText:"\u6682\u65E0\u6570\u636E"},Tree:{emptyText:"\u6682\u65E0\u6570\u636E",searchPlaceholder:"\u641C\u7D22"},List:{emptyText:"\u6682\u65E0\u6570\u636E"},Calendar:{allDay:"\u5168\u5929",AM:"\u4E0A\u5348${time}\u65F6",PM:"\u4E0B\u5348${time}\u65F6",datestring:"\u65E5",remaining:"\u8FD8\u6709${remained}\u9879"},Upload:{mainText:"\u70B9\u51FB\u4E0A\u4F20\u6587\u4EF6\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u8FD9\u91CC",illegalTips:"\u4E0D\u652F\u6301\u6B64\u7C7B\u578B\u6587\u4EF6",legalTips:"\u677E\u624B\u5F00\u59CB\u4E0A\u4F20",retry:"\u91CD\u8BD5",replace:"\u66FF\u6362\u6587\u4EF6",clear:"\u6E05\u7A7A",selectedFiles:"\u5DF2\u9009\u62E9\u6587\u4EF6",illegalSize:"\u6587\u4EF6\u5C3A\u5BF8\u4E0D\u5408\u6CD5",fail:"\u4E0A\u4F20\u5931\u8D25"},TreeSelect:{searchPlaceholder:"\u641C\u7D22"},Typography:{copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Transfer:{emptyLeft:"\u6682\u65E0\u6570\u636E",emptySearch:"\u65E0\u641C\u7D22\u7ED3\u679C",emptyRight:"\u6682\u65E0\u5185\u5BB9\uFF0C\u53EF\u4ECE\u5DE6\u4FA7\u52FE\u9009",placeholder:"\u641C\u7D22",clear:"\u6E05\u7A7A",selectAll:"\u5168\u9009",clearSelectAll:"\u53D6\u6D88\u5168\u9009",total:"\u603B\u4E2A\u6570\uFF1A${total}",selected:"\u5DF2\u9009\u4E2A\u6570\uFF1A${total}"},Form:{optional:"\uFF08\u53EF\u9009\uFF09"},Image:{preview:"\u9884\u89C8",loading:"\u52A0\u8F7D\u4E2D",loadError:"\u52A0\u8F7D\u5931\u8D25",prevTip:"\u4E0A\u4E00\u5F20",nextTip:"\u4E0B\u4E00\u5F20",zoomInTip:"\u653E\u5927",zoomOutTip:"\u7F29\u5C0F",rotateTip:"\u65CB\u8F6C",downloadTip:"\u4E0B\u8F7D",adaptiveTip:"\u9002\u5E94\u9875\u9762",originTip:"\u539F\u59CB\u5C3A\u5BF8"}};t.Z=r},895337:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(814986),a=n(607278),i=n(429996),o=n(669160),l=n.n(o),s=n(295011),u=n.n(s),c=n(925962),d=n(123811),f=n(387834),p=n(118200),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{position:t="",className:n,arrowStyle:r,popStyle:a}=e,o=m(e,["position","className","arrowStyle","popStyle"]),s=0===t.indexOf("top")||0===t.indexOf("bottom"),u=l()(n,d.UX.ARROW),c=(0,p.Z)(r,"borderOpacity",d.j2.DEFAULT_ARROW_STYLE.borderOpacity),f=(0,p.Z)(r,"backgroundColor",(0,p.Z)(a,"backgroundColor",d.j2.DEFAULT_ARROW_STYLE.backgroundColor)),h=(0,p.Z)(r,"borderColor",(0,p.Z)(a,"borderColor",d.j2.DEFAULT_ARROW_STYLE.borderColor)),g=Object.assign(Object.assign({},o),{width:d.KT.ARROW_BOUNDING.width,height:d.KT.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:u});return s?i.createElement("svg",Object.assign({},g),i.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:h,opacity:c}),i.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:f})):i.createElement("svg",Object.assign({},g),i.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:h,opacity:c}),i.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:f}))};h.propTypes={position:u().string,className:u().string,arrowStyle:u().object,popStyle:u().object};var g=n(112230),v=n(156287),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let _=d.j2.POSITION_SET,y=d.j2.TRIGGER_SET;class x extends i.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:t}=e,{content:n,contentClassName:r,prefixCls:a}=this.props,{direction:o}=this.context,s=l()(a,r,{[`${a}-rtl`]:"rtl"===o}),u=this.renderContentNode({initialFocusRef:t,content:n});return i.createElement("div",{className:s},i.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=e=>{let{initialFocusRef:t,content:n}=e;return(0,a.Z)(n)?n({initialFocusRef:t}):n},this.tooltipRef=i.createRef()}render(){let e=this.props,{children:t,prefixCls:n,showArrow:r,arrowStyle:a={},arrowBounding:o,position:l,style:s,trigger:u}=e,c=b(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]),{spacing:p}=this.props,m=!!r&&i.createElement(h,Object.assign({},{position:l,className:"",popStyle:s,arrowStyle:a}));return(0,g.Z)(p)&&(p=r?d.KT.SPACING_WITH_ARROW:d.KT.SPACING),i.createElement(f.Z,Object.assign({guardFocus:!0,ref:this.tooltipRef},c,{trigger:u,position:l,style:s,content:this.renderPopCard,prefixCls:n,spacing:p,showArrow:m,arrowBounding:o,role:"click"===u||"custom"===u?"dialog":"tooltip"}),t)}}x.contextType=c.Z,x.propTypes={children:u().node,content:u().oneOfType([u().node,u().func]),visible:u().bool,autoAdjustOverflow:u().bool,motion:u().bool,position:u().oneOf(_),margin:u().oneOfType([u().number,u().object]),mouseEnterDelay:u().number,mouseLeaveDelay:u().number,trigger:u().oneOf(y).isRequired,contentClassName:u().oneOfType([u().string,u().array]),onVisibleChange:u().func,onClickOutSide:u().func,style:u().object,spacing:u().oneOfType([u().number,u().object]),zIndex:u().number,showArrow:u().bool,arrowStyle:u().shape({borderColor:u().string,backgroundColor:u().string,borderOpacity:u().oneOfType([u().string,u().number])}),arrowPointAtCenter:u().bool,arrowBounding:u().object,prefixCls:u().string,guardFocus:u().bool,disableArrowKeyDown:u().bool},x.__SemiComponentName__="Popover",x.defaultProps=(0,v.GW)(x.__SemiComponentName__,{arrowBounding:d.KT.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:d.KT.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:d.UX.PREFIX,onClickOutSide:r.Z,onEscKeyDown:r.Z,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});var w=x},625554:function(e,t,n){n.d(t,{Z:function(){return c},t:function(){return a}});var r,a,i=n(429996),o=n(568120),l=n(295011),s=n.n(l),u=n(70059);(r=a||(a={})).Width="width",r.Height="height",r.All="all";class c extends u.Z{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return(0,o.findDOMNode)(this.childNode||this)}catch(e){return null}},this.handleResizeEventTriggered=e=>{var t,n,r,i;if(this.props.observerProperty===a.All)null===(n=(t=this.props).onResize)||void 0===n||n.call(t,e);else{let t=[];for(let n of e)this.formerPropertyValue.has(n.target)?n.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(n.target)&&(this.formerPropertyValue.set(n.target,n.contentRect[this.props.observerProperty]),t.push(n)):(this.formerPropertyValue.set(n.target,n.contentRect[this.props.observerProperty]),t.push(n));t.length>0&&(null===(i=(r=this.props).onResize)||void 0===i||i.call(r,t))}},this.observeElement=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(n&&n instanceof Element)){t.observer.disconnect();return}(n!==t.element||e)&&(t.observer.disconnect(),t.element=n,t.observer.observe(n),t.props.observeParent&&n.parentNode&&n.parentNode.ownerDocument&&n.parentNode.ownerDocument.defaultView&&n.parentNode instanceof n.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=n.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(e,t)=>{this.childNode=t,"function"==typeof e?e(t):"object"==typeof e&&e&&"current"in e&&(e.current=t)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;null===(e=this.observeElement)||void 0===e||e.call(this)}componentDidUpdate(e){var t;null===(t=this.observeElement)||void 0===t||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){let e=i.Children.only(this.props.children),{ref:t}=e;return i.cloneElement(e,{ref:e=>this.mergeRef(t,e)})}}c.propTypes={onResize:s().func,observeParent:s().bool,observerProperty:s().string,delayTick:s().number},c.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0}},66046:function(e,t,n){n.d(t,{j:function(){return a}});var r={};function a(){return r}},726903:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},874682:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(428498),a=n(726903),i=n(219048),o=n(66046);function l(e,t){(0,a.Z)(1,arguments);var n,l,s,u,c,d,f,p,m=(0,o.j)(),h=(0,i.Z)(null!==(n=null!==(l=null!==(s=null!==(u=null==t?void 0:t.weekStartsOn)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==s?s:m.weekStartsOn)&&void 0!==l?l:null===(f=m.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.Z)(e),v=g.getUTCDay();return g.setUTCDate(g.getUTCDate()-(7*(v<h)+v-h)),g.setUTCHours(0,0,0,0),g}},219048:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},797675:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}},378606:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=null!=n&&n.width?String(n.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var o=e.defaultWidth,l=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}},516822:function(e,t,n){function r(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var l=o[0],s=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(s,function(e){return e.test(l)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(s,function(e){return e.test(l)});return n=e.valueCallback?e.valueCallback(u):u,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(l.length)}}}n.d(t,{Z:function(){return r}})},876771:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}},872563:function(e,t,n){n.d(t,{Z:function(){return p}});var r={lessThanXSeconds:{one:"\u4E0D\u5230 1 \u79D2",other:"\u4E0D\u5230 {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u949F",lessThanXMinutes:{one:"\u4E0D\u5230 1 \u5206\u949F",other:"\u4E0D\u5230 {{count}} \u5206\u949F"},xMinutes:{one:"1 \u5206\u949F",other:"{{count}} \u5206\u949F"},xHours:{one:"1 \u5C0F\u65F6",other:"{{count}} \u5C0F\u65F6"},aboutXHours:{one:"\u5927\u7EA6 1 \u5C0F\u65F6",other:"\u5927\u7EA6 {{count}} \u5C0F\u65F6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7EA6 1 \u4E2A\u661F\u671F",other:"\u5927\u7EA6 {{count}} \u4E2A\u661F\u671F"},xWeeks:{one:"1 \u4E2A\u661F\u671F",other:"{{count}} \u4E2A\u661F\u671F"},aboutXMonths:{one:"\u5927\u7EA6 1 \u4E2A\u6708",other:"\u5927\u7EA6 {{count}} \u4E2A\u6708"},xMonths:{one:"1 \u4E2A\u6708",other:"{{count}} \u4E2A\u6708"},aboutXYears:{one:"\u5927\u7EA6 1 \u5E74",other:"\u5927\u7EA6 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u8FC7 1 \u5E74",other:"\u8D85\u8FC7 {{count}} \u5E74"},almostXYears:{one:"\u5C06\u8FD1 1 \u5E74",other:"\u5C06\u8FD1 {{count}} \u5E74"}},a=n(797675),i={date:(0,a.Z)({formats:{full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},o=n(726903),l=n(874682);function s(e,t,n){var r="eeee p";return!function(e,t,n){(0,o.Z)(2,arguments);var r=(0,l.Z)(e,n),a=(0,l.Z)(t,n);return r.getTime()===a.getTime()}(e,t,n)?e.getTime()>t.getTime()?"'\u4E0B\u4E2A'"+r:"'\u4E0A\u4E2A'"+r:r}var u={lastWeek:s,yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:s,other:"PP p"},c=n(378606),d={ordinalNumber:function(e,t){var n=Number(e);switch(null==t?void 0:t.unit){case"date":return n.toString()+"\u65E5";case"hour":return n.toString()+"\u65F6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79D2";default:return"\u7B2C "+n.toString()}},era:(0,c.Z)({values:{narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},defaultWidth:"wide"}),quarter:(0,c.Z)({values:{narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63"],wide:["\u7B2C\u4E00\u5B63\u5EA6","\u7B2C\u4E8C\u5B63\u5EA6","\u7B2C\u4E09\u5B63\u5EA6","\u7B2C\u56DB\u5B63\u5EA6"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,c.Z)({values:{narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},defaultWidth:"wide"}),day:(0,c.Z)({values:{narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},defaultWidth:"wide"}),dayPeriod:(0,c.Z)({values:{narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},defaultFormattingWidth:"wide"})},f=n(516822),p={code:"zh-CN",formatDistance:function(e,t,n){var a,i=r[e];return(a="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=n&&n.addSuffix)?n.comparison&&n.comparison>0?a+"\u5185":a+"\u524D":a},formatLong:i,formatRelative:function(e,t,n,r){var a=u[e];return"function"==typeof a?a(t,n,r):a},localize:d,match:{ordinalNumber:(0,n(876771).Z)({matchPattern:/^(第\s*)?\d+(日|时|分|秒)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,f.Z)({matchPatterns:{narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(前)/i,/^(公元)/i]},defaultParseWidth:"any"}),quarter:(0,f.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,f.Z)({matchPatterns:{narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},defaultParseWidth:"any"}),day:(0,f.Z)({matchPatterns:{narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},defaultParseWidth:"any"}),dayPeriod:(0,f.Z)({matchPatterns:{any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}}},428498:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(601457),a=n(726903);function i(e){(0,a.Z)(1,arguments);var t=Object.prototype.toString.call(e);return new Date(e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===t?e.getTime():"number"==typeof e||"[object Number]"===t?e:NaN)}},878533:function(e,t){var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e||e.length>254||!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64||t[1].split(".").some(function(e){return e.length>63}))}},487149:function(e,t,n){n.d(t,{$j:function(){return I},pR:function(){return N},s8:function(){return k},po:function(){return u},Jt:function(){return C},wG:function(){return d},WC:function(){return T},Hi:function(){return f},Xv:function(){return w},$B:function(){return S},L9:function(){return D},im:function(){return Z}});var r=n(429996),a=n(187370),i=n(627394);let o=r.createContext({open:!1,setOpen:()=>{},isHoveringMenuContentRef:r.createRef(),updateIsHoveringMenuContent:()=>{}}),l=()=>r.useContext(o);var s=n(126544);function u(e){let{...t}=e,n=(0,s.KX)(),{modal:l,...u}=t,{trigger:c="click"}=t;n&&(c="click");let[d,f]=r.useState(!1),p=r.useRef(!1),m=["contextMenu","hover"].includes(c),h=m?{onOpenChange:e=>{f(e)},open:d}:{},g="hover"!==c&&l;return r.useEffect(()=>{if(m){var e;null==t||null===(e=t.onOpenChange)||void 0===e||e.call(t,d)}},[d]),(0,i.jsx)(o.Provider,{value:{open:d,setOpen:f,isHoveringMenuContentRef:p,updateIsHoveringMenuContent:e=>{p.current=e},trigger:c},children:(0,i.jsx)(a.fC,{"data-slot":"dropdown-menu",modal:g,...u,...h})})}var c=n(966640);function d(e){let{className:t,...n}=e;return(0,i.jsx)(a.__,{"data-slot":"dropdown-menu-label",className:(0,c.cn)(`
          h-30 truncate px-10 pt-8 pb-4
          [font-size:12px]
          leading-18
          [font-weight:500]
          text-dbx-text-tertiary
        `,t),...n})}let f=r.forwardRef(function(e,t){let{className:n,...r}=e;return(0,i.jsx)(a.ck,{"data-slot":"dropdown-menu-item","data-selected":null==r?void 0:r.active,className:(0,c.cn)(`
          h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          leading-30
          [font-weight:400]
          text-dbx-text-primary
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          [&:not([data-disabled])]:hover:cursor-pointer
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,n),ref:t,...r})});var p=n(757658),m=n(461387);let h=(0,m.j)("flex",{variants:{direction:{horizontal:"",vertical:"h-auto py-8"}},defaultVariants:{direction:"horizontal"}}),g=(0,m.j)("mr-8 size-16 flex-shrink-0 text-dbx-text-primary",{variants:{direction:{horizontal:"",vertical:"mt-2 self-start"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),v=(0,m.j)("flex flex-1 truncate leading-22",{variants:{direction:{horizontal:"justify-between",vertical:"flex-col"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),b=(0,m.j)("truncate",{variants:{direction:{horizontal:"h-22 leading-22",vertical:"mb-2 h-20 leading-20"}},defaultVariants:{direction:"horizontal"}}),_=(0,m.j)(`
    truncate
    [font-weight:400]
  `,{variants:{direction:{horizontal:`
          ml-8 max-w-140 min-w-28 items-center text-right
          [font-size:14px]
          leading-22
        `,vertical:`
          flex flex-col
          [font-size:12px]
          leading-18 whitespace-normal
        `},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:"text-dbx-text-tertiary"}},defaultVariants:{direction:"horizontal",themeType:"default"}}),y=(0,m.j)("",{variants:{direction:{horizontal:"",vertical:"flex h-20 items-center self-start"}},defaultVariants:{direction:"horizontal"}}),x=(0,m.j)("",{variants:{direction:{horizontal:"size-14",vertical:"size-16"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),w=e=>{let{icon:t,className:n,children:a,showTick:o=!0,extraInfo:l,classNames:s,extraInfoDirection:u="horizontal",rightNode:d,themeType:m="default",...w}=e,{active:S,disabled:C}=e,k=m;C&&(k="disabled");let T=(0,r.useMemo)(()=>d||o,[d,o]);return(0,i.jsxs)(f,{className:(0,c.cn)(h({direction:u}),n,null==s?void 0:s.wrapper),...w,children:[t?(0,i.jsx)("div",{className:(0,c.cn)(g({direction:u,themeType:k}),null==s?void 0:s.iconWrapper),children:r.isValidElement(t)?r.cloneElement(t,{width:16,height:16}):t}):null,(0,i.jsxs)("div",{className:(0,c.cn)(v({direction:u,themeType:k}),null==s?void 0:s.middleWrapper),children:[(0,i.jsx)("div",{className:(0,c.cn)(b({direction:u}),null==s?void 0:s.content),children:a}),l?(0,i.jsx)("div",{className:(0,c.cn)(_({direction:u,themeType:k}),null==s?void 0:s.extraInfo),children:l}):null]}),T?(0,i.jsx)("div",{className:(0,c.cn)(y({direction:u}),l&&"vertical"!==u?"ml-4":"ml-8",null==s?void 0:s.rightNodeWrapper),children:d||(o&&S?(0,i.jsx)(p.s,{className:(0,c.cn)(x({direction:u,themeType:k}))}):null)}):null]})};function S(e){let{className:t,...n}=e;return(0,i.jsx)(a.Z0,{"data-slot":"dropdown-menu-separator",className:(0,c.cn)("mx-8 my-4 h-[0.5px] bg-dbx-line-10",t),...n})}let C=r.forwardRef(function(e,t){let{className:n,sideOffset:r=4,align:o="start",side:s="bottom",collisionPadding:u={top:20,bottom:20,left:20,right:20},onCloseAutoFocus:d=e=>{e.preventDefault()},...f}=e,{trigger:p,updateIsHoveringMenuContent:m,setOpen:h}=l(),g="hover"===p?{onMouseLeave:e=>{var t;null==f||null===(t=f.onMouseLeave)||void 0===t||t.call(f,e),m(!1),h(!1)},onMouseEnter:e=>{var t;null==f||null===(t=f.onMouseEnter)||void 0===t||t.call(f,e),m(!0)}}:{};return(0,i.jsx)(a.VY,{"data-slot":"dropdown-menu-content",onCloseAutoFocus:d,align:o,side:s,sideOffset:r,collisionPadding:u,className:(0,c.cn)(`
          [max-height:min(var(--radix-popper-available-height),480px)]
          max-w-420 min-w-140 overflow-x-hidden overflow-y-auto rounded-dbx-lg
          [border-width:0.5px]
          border-solid border-dbx-line-10 bg-dbx-bg-float p-[3.5px]
          shadow-[0px_2px_4px_0px_rgba(0,0,0,0.02),0px_4px_10px_0px_rgba(0,0,0,0.03),0px_4px_16px_0px_rgba(0,0,0,0.03)]
          data-[side=bottom]:slide-in-from-top-2
          data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2
          data-[side=top]:slide-in-from-bottom-2
          data-[state=closed]:animate-out data-[state=closed]:fade-out-0
          data-[state=closed]:zoom-out-95
          data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95
        `,"custom-scrollbar-style",n),ref:t,...f,...g})});function k(e){let{...t}=e;return(0,i.jsx)(a.Uv,{"data-slot":"dropdown-menu-portal",...t})}function T(e){let{className:t,sideOffset:n=4,style:r,alignOffset:o=-4,collisionPadding:l={top:20,bottom:20,left:20,right:20},...s}=e;return(0,i.jsx)(a.tu,{collisionPadding:l,alignOffset:o,sideOffset:n,"data-slot":"dropdown-menu-sub-content",style:{...r,"--tw-animation-duration":"300ms"},className:(0,c.cn)(`
          [max-height:min(var(--radix-popper-available-height),480px)]
          max-w-420 min-w-140 overflow-x-hidden overflow-y-auto rounded-dbx-lg
          [border-width:0.5px]
          border-solid border-dbx-line-10 bg-dbx-bg-float p-[3.5px]
          shadow-[0px_2px_4px_0px_rgba(0,0,0,0.02),0px_4px_10px_0px_rgba(0,0,0,0.03),0px_4px_16px_0px_rgba(0,0,0,0.03)]
          data-[side=bottom]:slide-in-from-top-2
          data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2
          data-[side=top]:slide-in-from-bottom-2
          data-[state=closed]:animate-out data-[state=closed]:fade-out-0
          data-[state=closed]:zoom-out-95
          data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95
        `,"custom-scrollbar-style",t),...s})}let M=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M8.15146 4.84874C7.68283 4.38011 7.68283 3.6201 8.15146 3.15147C8.62009 2.68284 9.3801 2.68284 9.84872 3.15147L17.0001 10.3028C17.9373 11.2401 17.9374 12.7601 17.0001 13.6974L9.84873 20.8487L9.7579 20.9308C9.28657 21.3155 8.59091 21.2882 8.15146 20.8487C7.712 20.4093 7.68469 19.7136 8.06943 19.2423L8.15146 19.1515L15.3028 12.0001L8.15146 4.84874Z",fill:"currentColor"}));function N(e){let{className:t,children:n,...r}=e;return(0,i.jsxs)(a.fF,{"data-slot":"dropdown-menu-sub-trigger",className:(0,c.cn)(`
          flex h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          [font-weight:400]
          text-dbx-text-primary
          hover:cursor-pointer
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          data-[state=open]:bg-dbx-fill-trans-10-hover
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,t),...r,children:[n,(0,i.jsx)(M,{className:"ml-auto size-12 text-dbx-text-tertiary"})]})}let P=(0,m.j)("flex",{variants:{direction:{horizontal:"",vertical:"h-auto py-8"}},defaultVariants:{direction:"horizontal"}}),E=(0,m.j)("mr-8 size-16 flex-shrink-0 text-dbx-text-primary",{variants:{direction:{horizontal:"",vertical:"mt-2 self-start"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),R=(0,m.j)("flex flex-1 truncate leading-22",{variants:{direction:{horizontal:"justify-between",vertical:"flex-col"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),A=(0,m.j)("truncate",{variants:{direction:{horizontal:"h-22 leading-22",vertical:"mb-2 h-20 leading-20"}},defaultVariants:{direction:"horizontal"}}),j=(0,m.j)(`
    truncate
    [font-weight:400]
  `,{variants:{direction:{horizontal:`
          ml-8 max-w-140 min-w-28 items-center text-right
          [font-size:14px]
          leading-22
        `,vertical:`
          flex flex-col
          [font-size:12px]
          leading-18 whitespace-normal
        `},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:"text-dbx-text-tertiary"}},defaultVariants:{direction:"horizontal",themeType:"default"}}),z=(0,m.j)("",{variants:{direction:{horizontal:"",vertical:"flex h-20 items-center self-start"}},defaultVariants:{direction:"horizontal"}}),O=(0,m.j)("size-12 text-dbx-text-tertiary",{variants:{direction:{horizontal:"",vertical:""},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),I=e=>{let{icon:t,className:n,children:o,extraInfo:l,classNames:s,extraInfoDirection:u="horizontal",themeType:d="default",...f}=e,{disabled:p}=e,m=d;return p&&(m="disabled"),(0,i.jsxs)(a.fF,{"data-slot":"dropdown-menu-sub-trigger",className:(0,c.cn)(`
          flex h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          [font-weight:400]
          text-dbx-text-primary
          hover:cursor-pointer
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          data-[state=open]:bg-dbx-fill-trans-10-hover
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,P({direction:u}),n,null==s?void 0:s.wrapper),...f,children:[t?(0,i.jsx)("div",{className:(0,c.cn)(E({direction:u,themeType:m}),null==s?void 0:s.iconWrapper),children:r.isValidElement(t)?r.cloneElement(t,{width:16,height:16}):t}):null,(0,i.jsxs)("div",{className:(0,c.cn)(R({direction:u,themeType:m}),null==s?void 0:s.middleWrapper),children:[(0,i.jsx)("div",{className:(0,c.cn)(A({direction:u}),null==s?void 0:s.content),children:o}),l?(0,i.jsx)("div",{className:(0,c.cn)(j({direction:u,themeType:m}),null==s?void 0:s.extraInfo),children:l}):null]}),(0,i.jsx)("div",{className:(0,c.cn)(z({direction:u}),l&&"vertical"!==u?"ml-4":"ml-8",null==s?void 0:s.rightNodeWrapper),children:(0,i.jsx)(M,{className:(0,c.cn)(O({direction:u,themeType:m}))})})]})},Z=r.forwardRef(function(e,t){let{setOpen:n,trigger:r,isHoveringMenuContentRef:o}=l(),s="hover"===r?{onMouseEnter:t=>{var r;null==e||null===(r=e.onMouseEnter)||void 0===r||r.call(e,t),n(!0)},onMouseLeave:t=>{var r;null==e||null===(r=e.onMouseLeave)||void 0===r||r.call(e,t),setTimeout(()=>{!o.current&&n(!1)},100)}}:"contextMenu"===r?{onContextMenu:e=>{e.preventDefault(),n(!0)}}:{};return(0,i.jsx)(a.xz,{"data-slot":"dropdown-menu-trigger",ref:t,...e,...s})});function D(e){let{...t}=e;return(0,i.jsx)(a.Tr,{"data-slot":"dropdown-menu-sub",...t})}a.Eh},124901:function(e,t,n){n.d(t,{Z:function(){return i}}),n(429996);var r=n(339512),a=n(627394),i=(0,r.G)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M20.307 20.307a.997.997 0 0 0 .003-1.412l-6.845-6.844 6.845-6.845a.997.997 0 0 0-.003-1.412.997.997 0 0 0-1.412-.002l-6.844 6.844-6.845-6.845a.997.997 0 0 0-1.412.003.997.997 0 0 0-.002 1.412l6.844 6.844-6.845 6.845a.997.997 0 0 0 .003 1.412.997.997 0 0 0 1.412.003l6.844-6.845 6.845 6.845a.997.997 0 0 0 1.412-.003"})}),{}))},222334:function(e,t,n){n.d(t,{N:function(){return p},V:function(){return h}});var r=n(429996),a=n(669160),i=n.n(a),o=n(577831),l=n(436450),s=n(442291),u=n(107675),c=n(928096),d={container:"container-kxxSU4","hide-scrollbar":"hide-scrollbar-O3Tbtt",hideScrollbar:"hide-scrollbar-O3Tbtt","custom-scrollbar":"custom-scrollbar-stmEIo",customScrollbar:"custom-scrollbar-stmEIo",flow:"flow-QnNhHl"},f=n(627394);let p=(0,r.forwardRef)(function(e,t){var n;let{theme:a="flow",customScrollbar:u=!0,hideScrollBar:p=!1,enableAltCtrlEnter:m=!1,...h}=e,{defaultValue:g,value:v,onChange:b,className:_,"data-testid":y,readOnly:x,onKeyDown:w}=h,S=(0,c.Su)(),[C,k]=(0,r.useState)(""),T=(0,l.Vr)(null!==(n=null!=v?v:C)&&void 0!==n?n:g,!0),M=(0,r.useRef)(null);return(0,r.useEffect)(()=>{M.current&&(M.current(),M.current=null)},[v]),(0,f.jsx)(s.Z,{ref:t,dir:S?T:"ltr",...h,...x?{readonly:!0,disabled:void 0}:{disabled:h.disabled},className:i()(d.container,d[a],_,{[d["custom-scrollbar"]]:u,[d["hide-scrollbar"]]:p}),onKeyDown:e=>{let t=e.nativeEvent.target;if(!t||!m){null==w||w(e);return}if(13===e.keyCode&&((0,o.V5)()&&e.altKey||(0,o.ED)()&&e.ctrlKey)){e.preventDefault();try{var n;let r=null!==(n=null!=v?v:C)&&void 0!==n?n:g,a=t.selectionStart,i=t.selectionEnd,o=`${r.substring(0,a)}
${r.substring(i)}`;M.current=()=>{t.selectionStart=a+1,t.selectionEnd=a+1},null==b||b(o,e)}catch(e){}}null==w||w(e)},onChange:(e,t)=>{k(e),null==b||b(e,t)},"data-testid":y})}),m=(0,u.Z)(p,{maintainCursor:!0}),h=e=>(0,f.jsx)(m,{...e})},514447:function(e,t,n){n.d(t,{r:function(){return s}});var r=n(429996),a=n(669160),i=n.n(a),o=n(895337),l=n(627394);let s=r.forwardRef(function(e,t){return(0,l.jsx)(o.Z,{ref:t,...e,className:i()("samantha-popover-tTqfwm",e.className),children:e.children})})},928096:function(e,t,n){n.d(t,{B$:function(){return i},Su:function(){return a}});let r=(0,n(429996).createContext)(null),a=()=>!1,i=r.Provider},436450:function(e,t,n){n.d(t,{Vr:function(){return s}});var r=n(429996);let a=["ae","aeb","ajt","apc","apd","ar","ara","arb","arc","arq","ars","ary","arz","ave","avl","bal","bcc","bej","bft","bgn","bqi","brh","cja","ckb","cld","dcc","dgl","div","drw","dv","fa","fas","fia","fub","gbz","gjk","gju","glk","grc","gwc","gwt","haz","he","heb","hnd","hno","iw","ji","kas","kby","khw","ks","kvx","kxp","kzh","lad","lah","lki","lrc","luz","mde","mfa","mki","mvy","myz","mzn","nqo","oru","ota","otk","oui","pal","pbu","per","pes","phl","phn","pnb","pra","prd","prs","ps","pus","rhg","rmt","scl","sd","sdh","shu","skr","smp","snd","sog","swb","syr","tnf","trw","ug","uig","ur","urd","wni","xco","xld","xmn","xmr","xna","xpr","xsa","ydd","yi","yid","zdj"];var i=n(993047);let o=e=>RegExp(`^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{2B8}\u{300}-\u{590}\u{800}-\u{1FFF}\u{2C00}-\u{FB1C}\u{FDFE}-\u{FE6F}\u{FEFD}-\u{FFFF}]*[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]`).test(e),l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let r=e.trim();if(!r)return t;let{franc:l}=await (0,i.C5)(()=>n.e("33441").then(n.bind(n,799021))),s=l(r,{minLength:20});if("und"===s)return o(r.charAt(0));return a.includes(s)}catch(e){return t}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,a]=(0,r.useState)("ltr"),i=async()=>{a(await l(e,t)?"rtl":"ltr")};return(0,r.useEffect)(()=>{i()},[e,t]),n}},900789:function(e,t,n){var r,a,i,o,l,s;n.d(t,{E7:function(){return c},KF:function(){return u},MZ:function(){return p},Tv:function(){return f},m9:function(){return m},nw:function(){return d}});let u=((r={})[r.MessageDelete=1]="MessageDelete",r[r.MessageLike=2]="MessageLike",r[r.MessageDislike=3]="MessageDislike",r[r.MessageIDLocalMapping=4]="MessageIDLocalMapping",r[r.MessageNotCompliant=5]="MessageNotCompliant",r[r.ConversationArchive=11]="ConversationArchive",r[r.ConversationAdd=12]="ConversationAdd",r[r.ConversationCreateSection=13]="ConversationCreateSection",r[r.ConversationClearHistory=14]="ConversationClearHistory",r[r.ConversationUpdate=15]="ConversationUpdate",r[r.ConversationRead=16]="ConversationRead",r[r.ConversationLandingInsert=17]="ConversationLandingInsert",r[r.OnboardingBegin=21]="OnboardingBegin",r[r.OnboardingFail=22]="OnboardingFail",r[r.OnboardingCancel=23]="OnboardingCancel",r[r.OnboardingNeedStart=26]="OnboardingNeedStart",r[r.UserBanned=31]="UserBanned",r[r.UserBanRelease=32]="UserBanRelease",r[r.UserLogout=33]="UserLogout",r[r.UserConfigUpdate=41]="UserConfigUpdate",r[r.NeedLocation=51]="NeedLocation",r[r.PushToast=60]="PushToast",r[r.TTSBegin=91]="TTSBegin",r[r.UserMute=101]="UserMute",r[r.UserMuteRelease=102]="UserMuteRelease",r[r.TouristReachChatLimit=1e3]="TouristReachChatLimit",r[r.NestedMessageStateChange=1001]="NestedMessageStateChange",r[r.TouristReachThreadLimit=1002]="TouristReachThreadLimit",r[r.MessageRefImagesNotCompliant=1003]="MessageRefImagesNotCompliant",r[r.MessageUpdate=1004]="MessageUpdate",r[r.MailboxActivated=1005]="MailboxActivated",r[r.QueryBroadcast=1006]="QueryBroadcast",r[r.SafetyResponseAnswer=1007]="SafetyResponseAnswer",r[r.FetchAnswer=1008]="FetchAnswer",r[r.GuidanceTaskCompleted=1009]="GuidanceTaskCompleted",r[r.DisableActionBar=1010]="DisableActionBar",r[r.DeepResearchFinished=1011]="DeepResearchFinished",r[r.SuperTaskFinished=1012]="SuperTaskFinished",r[r.SuperTaskNeedAskHuman=1013]="SuperTaskNeedAskHuman",r[r.CodeAssistantAsyncTaskFinished=1014]="CodeAssistantAsyncTaskFinished",r[r.SuperTaskModelCallOverload=1015]="SuperTaskModelCallOverload",r[r.SuperTaskApplyTrialSuccess=1016]="SuperTaskApplyTrialSuccess",r[r.ActionBarRefresh=1e4]="ActionBarRefresh",r),c=((a={})[a.User=0]="User",a[a.System=1]="System",a),d=((i={})[i.Default=0]="Default",i[i.Like=1]="Like",i[i.Unlike=2]="Unlike",i[i.Better=3]="Better",i[i.Almost=4]="Almost",i[i.BothBad=5]="BothBad",i[i.Form=6]="Form",i),f=((o={})[o.Unknown=0]="Unknown",o[o.File=1]="File",o[o.OCRImage=2]="OCRImage",o[o.Audio=3]="Audio",o[o.Video=4]="Video",o),p=((l={})[l.ParseState_Default=0]="ParseState_Default",l[l.ParseState_Success=1]="ParseState_Success",l[l.ParseState_Failed=2]="ParseState_Failed",l[l.ParseState_Processing=3]="ParseState_Processing",l),m=((s={})[s.ReviewState_Default=0]="ReviewState_Default",s[s.ReviewState_Access=1]="ReviewState_Access",s[s.ReviewState_NotCompliant=2]="ReviewState_NotCompliant",s[s.ReviewState_Processing=3]="ReviewState_Processing",s)},543281:function(e,t,n){var r,a,i;n.d(t,{MZ:function(){return l},i1:function(){return o},m9:function(){return s}});let o=((r={})[r.Coco=1]="Coco",r[r.Bot=2]="Bot",r[r.CocoSub=3]="CocoSub",r[r.CocoWeb=4]="CocoWeb",r[r.CocoWebSub=5]="CocoWebSub",r),l=((a={})[a.ParseState_Default=0]="ParseState_Default",a[a.ParseState_Success=1]="ParseState_Success",a[a.ParseState_Failed=2]="ParseState_Failed",a[a.ParseState_Processing=3]="ParseState_Processing",a),s=((i={})[i.ReviewState_Default=0]="ReviewState_Default",i[i.ReviewState_Access=1]="ReviewState_Access",i[i.ReviewState_NotCompliant=2]="ReviewState_NotCompliant",i[i.ReviewState_Processing=3]="ReviewState_Processing",i)},338212:function(e,t,n){n.d(t,{y:function(){return m},U:function(){return y}});var r,a=n(878533);let i="https?|s?ftp|ftps|nfs|ssh",o="\\b([/#?][\\-A-Z0-9@:%_+.~#?&'/=;$,!\\*\\[\\]\\(\\){}^|<>]*[-A-Z0-9&@#/%=~\\(\\)_|]?)?",l=RegExp(`((((${i})://)?(${/localhost(:[0-9]{2,5})?/.source}))|(((${i})://)(${/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(:[0-9]{2,5})?/.source})))${o}`,"gi"),s="([-A-Z0-9%_+~#@][\\-A-Z:0-9%_+~#@]{0,256}\\.){1,50}",u="[a-z\\-]{2,15}",c=RegExp(`(((${i}):\\/\\/${s}${u})|(${s}(com|cn|tk|de|net|org|uk|info|nl|ru|hk)))(:[0-9]{2,5})?${o}`,"gi"),d="[\\w.!#$%&'*+-/=?^_\\`{|}~]{1,2000}@[A-Za-z0-9_.-]+\\.",f=RegExp(`^(?!data:)((mailto:${d}${u})|(${d}(com|org|net|int|edu|gov|mil|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gh|gi|gl|gm|gn|gp|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|site|top|wtf|xxx|xyz|cloud|engineering|help|one)))\\b`,"gi"),p=RegExp(`(${l.source})|(${c.source})|(${f.source})`,"gi"),m=((r={})[r.text=0]="text",r[r.link=1]="link",r),h={"(":")","[":"]","{":"}","<":">"},g=Object.keys(h),v=Object.values(h),b=[".",",","!","?","'",":",";","@","#"],_=e=>{let t=-1,n=[];for(let r=0;r<e.length;++r){let a=e[r];if(g.includes(a))n.push({char:a,index:r});else if(v.includes(a)){if(n.length){let{char:e}=n[n.length-1];if(a===h[e])n.pop();else{({index:t}=n[0]);break}}else{t=r;break}}}for(n.length&&({index:t}=n[0]),-1===t&&(t=e.length);t>1&&b.includes(e[t-1]);)t--;return e.slice(0,t)},y=e=>{let t=[],n=0;for(p.lastIndex=0;;){let r=p.exec(e);if(!r)break;let{index:i,0:o}=r,l=e.slice(n,i);if(l&&t.push({type:m.text,text:l}),o){let e=/^(@|#|\+|-|%)+/.exec(o);if(e)t.push({type:m.text,text:e[0]}),n=r.index+e[0].length,p.lastIndex=n;else{let e=_(o);if(e)a.validate(e)?t.push({type:m.text,text:e}):t.push({type:m.link,url:e}),n=r.index+e.length,p.lastIndex=n;else{let e=o.slice(0,1);t.push({type:m.text,text:e}),n=r.index+e.length,p.lastIndex=n}}}}return n!==e.length&&t.push({type:m.text,text:e.slice(n)}),t}},997213:function(e,t,n){n.d(t,{$E:function(){return l},Cy:function(){return c},Dt:function(){return u},i1:function(){return o},kK:function(){return a},ww:function(){return s},xp:function(){return i}});var r=n(474227);let a=e=>"type"in e,i=e=>"paragraph"===e.type,o=e=>"labeled_input"===e.type,l=e=>"labeled_select"===e.type,s=e=>e.map(e=>{if(a(e)){if(l(e))return e.value;let{children:t}=e,n=t.map(e=>s([e])).join("");return i(e)?`${n}
`:n}return e.text}).join(""),u=()=>"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),c=(e,t)=>(0,r.Z)(JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t)))},12107:function(e,t,n){n.d(t,{I3:function(){return l},Iz:function(){return u},Z6:function(){return c},dz:function(){return o},on:function(){return s},yW:function(){return i}});var r=n(106307),a=n(997213);let i=e=>e.type===r.f.Select,o=e=>e.type===r.f.Text,l=e=>e.type===r.f.Placeholder,s=e=>e.map((t,n)=>{if((0,a.kK)(t)){if((0,a.xp)(t)){let{children:a}=t;return s(a).concat(n===e.length-1?[]:[{type:r.f.Text,text:"\n"}])}if((0,a.i1)(t)){let{children:e,placeholder:n,key:i,clickable:o}=t;return{type:r.f.Placeholder,placeholder:n,text:(0,a.ww)(e),key:i,clickable:o}}if((0,a.$E)(t)){let{value:e,options:n,title:a,key:i}=t;return{type:r.f.Select,title:a,key:i,optionList:n,value:e}}}return{type:r.f.Text,text:"text"in t?t.text:""}}).flat(),u=e=>{if(!e.length)return[{type:"paragraph",children:[{text:""}]}];let t=[{type:"paragraph",children:[]}];for(let n of e)if(n.type===r.f.Text&&"\n"===n.text)t.push({type:"paragraph",children:[]});else if(l(n)){let{text:e,placeholder:r,key:a,clickable:i}=n;t[t.length-1].children.push({type:"labeled_input",children:[{text:e}],placeholder:r,key:a,clickable:i})}else if(i(n)){let{optionList:e,value:r,title:a,key:i}=n;t[t.length-1].children.push({type:"labeled_select",title:a,key:i,options:e,value:r,children:[{text:""}]})}else if(o(n)){let{text:e}=n;t[t.length-1].children.push({text:e})}return t},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{stringifyItem:n}=t;return e.map(e=>{if(l(e))return e.text||e.placeholder;if(i(e)){var t;return null!==(t=null==n?void 0:n(e))&&void 0!==t?t:e.value}if(o(e))return e.text}).join("")}},938137:function(e,t,n){n.d(t,{P:function(){return d},V:function(){return f}});var r,a=n(669160),i=n.n(a),o=n(702534),l=n(257695),s=n(734181),u={"expand-btn-wrapper":"expand-btn-wrapper-sLsgt2","expand-btn-svg":"expand-btn-svg-YGGXHK","collapse-btn-svg":"collapse-btn-svg-OzGFks",small:"small-L4VgD2","expand-btn-v2":"expand-btn-v2-wthFAA"},c=n(627394);let d=((r={}).Collapse="collapse",r.Expand="Expand",r.Invisible="Invisible",r),f=e=>{let{className:t,status:n=d.Collapse,text:r,size:a="default",onClick:f}=e,p={[d.Expand]:(0,c.jsx)(l.H,{className:u["expand-btn-svg"]}),[d.Collapse]:(0,c.jsx)(s.K,{className:u["collapse-btn-svg"]}),[d.Invisible]:null};return[d.Expand,d.Collapse].includes(n)?(0,c.jsx)(o.Z,{color:n===d.Expand?"grey-filled":"grey-outline",leadingIcon:p[n],onClick:e=>{e.stopPropagation(),null==f||f(n)},className:i()(u["expand-btn-wrapper"],t,u["expand-btn-v2"],{[u.small]:"small"===a}),size:"sm",variant:n===d.Expand?"rectangle":"text",children:r}):null}},245966:function(e,t,n){n.d(t,{f:function(){return o}});var r=n(429996),a=n(923362),i=n(944406);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,o]=(0,r.useState)(!0),{key:l,defaultValue:s,autoRefresh:u=!1,isServerAb:c=!1}=e,[d=s,f]=(0,a.Z)(`libra_setting_${l}`,{defaultValue:s}),p=(0,r.useCallback)(async()=>{f(await (0,i.gN)(l,s,{isServerAb:c}))},[l,s]);return(0,r.useEffect)(()=>{o(!0),p(),o(!1)},t),(0,r.useEffect)(()=>{if(u)return(0,i.d)(p)},[u]),{loading:n,value:d}}},216179:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(156217);let a=()=>{let{canvas_type:e,canvas_sub_type:t}=(0,r.GL)("chatViewService").getCanvasTeaParams();return e?{canvas_type:e,canvas_sub_type:t}:{}}},316820:function(e,t,n){n.d(t,{J:function(){return v},A:function(){return g}});var r=n(429996),a=n(210230),i=n(51679),o=n(499050),l=n(46499);let s=/^https:\/\/(www\.)?arxiv\.org\/pdf\/.+$/i,u=e=>{let t=(0,l.P)(e);return s.test(t)},c=e=>/^https:\/\/.*\.pdf$/i.test(e),d=e=>u(e)||c(e),f=new Map,p=new Map,m=e=>f.get(e),h=async e=>{let t=p.get(e);if(t)return t;let n=0,r=async()=>{try{var t,o,l;let n=await i.mH.SniffUrl({urls:[e]}),r=null===(l=n.data)||void 0===l?void 0:null===(o=l.results)||void 0===o?void 0:null===(t=o.find(t=>t.url===e))||void 0===t?void 0:t.ContentType;if((0,a.Z)(r)||!r)throw Error("Invalid Response.");return/^application\/pdf\b/.test(r)}catch(e){if(n>1)return!1;return n++,await r()}},o=r();p.set(e,o);let l=await o;return f.set(e,l),p.delete(e),l},g=e=>{e=(0,l.P)(e);let[t,n]=(0,r.useState)(0),a=()=>{n(t+1)},i=!!(e&&(0,o.jv)(e,{allowedProtocols:["https:"]}))&&m(e);return void 0===i?(h(e).then(()=>{a()}),d(e)):i},v=async e=>{let t=(0,o.jv)(e,{allowedProtocols:["https:"]})&&m(e);return void 0!==t?t:t=await h(e)}},287491:function(e,t,n){let r,a,i;n.d(t,{GX:function(){return v},I9:function(){return g},VZ:function(){return h},e$:function(){return f}});var o=n(429996),l=n(644367),s=n(633126);let u=[".py",".java",".js",".ts",".c",".cpp",".h",".hpp",".cc",".cxx",".html",".css",".php",".rb",".pl",".sh",".bash",".swift",".kt",".kts",".ktm",".go",".dart",".scala",".cs",".aspx",".xaml",".vue",".mod",".proto",".tsx",".jsx",".rs",".json",".yaml",".yml",".xml",".env",".config",".properties",".ini",".toml",".plist",".md",".markdown",".adoc",".feature",".sum",".bat",".cmd",".ps1",".vbs",".lua",".vmx",".vbox",".dockerfile",".wxml",".wxss",".m",".for",".f90",".f95",".f",".xhtml",".rdf",".tmpl",".scss",".thrift",".rst",".meta",".gitignore",".patch",".sql"],c=["makefile","gemfile","build.gradle"],d=[".py",".java",".js",".ts",".c",".cpp",".h",".hpp",".html",".css",".php",".rb",".pl",".sh",".bash",".swift",".kt",".go",".dart",".scala",".cs",".xaml",".vue",".json",".yaml",".yml",".xml",".env",".ini",".toml",".plist",".feature",".bat",".cmd",".ps1",".vbs",".vmx",".vbox",".dockerfile",".proto",".lua",".mod",".sum"],f=()=>{let[e,t]=(0,o.useState)(i),[n,l]=(0,o.useState)(r);(0,o.useEffect)(()=>{(!e||!n)&&(0,s.T)().then(e=>{var n,o,s,u,c,d;r=r||(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(n=o.code_assistant_config)||void 0===n?void 0:n.supported_code_file_types),a=a||(null==e?void 0:null===(u=e.data)||void 0===u?void 0:null===(s=u.code_assistant_config)||void 0===s?void 0:s.supported_file_names),(i=i||(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(c=d.code_assistant_config)||void 0===c?void 0:c.default_assistant_file_types))&&t([...i]),r&&l([...r])})},[e]);let u=/^\.([^.]+)/;return{supportedCodeFileTypesInFree:(null==e?void 0:e.filter(e=>u.test(e)).map(e=>e.slice(1)))||[],supportedCodeFileTypes:n}},p=(e,t,n)=>{if(!(null==t?void 0:t.length)||!e)return!1;let r=!1;return t.some(t=>{if(e.endsWith(t))return r=!0,!0}),n.some(t=>{if(e===t)return r=!0,!0}),r},{assertCodeFileAsync:m,assertCodeFileSync:h,preloadCodeFileExtList:g,assertCodeFileSyncInFree:v,assertCodeFileAsyncInFree:b}=(()=>{let e=()=>{(0,s.T)().then(e=>{var t,n,o;let{data:l}=e;r=null==l?void 0:null===(t=l.code_assistant_config)||void 0===t?void 0:t.supported_code_file_types,a=null==l?void 0:null===(n=l.code_assistant_config)||void 0===n?void 0:n.supported_file_names,i=null==l?void 0:null===(o=l.code_assistant_config)||void 0===o?void 0:o.default_assistant_file_types})},t=async e=>(i||await n(),!!i&&p(e,i,[])),n=async()=>{if(!a||!r)try{var e,t,n;let{data:o}=await (0,s.T)();r=null==o?void 0:null===(e=o.code_assistant_config)||void 0===e?void 0:e.supported_code_file_types,a=null==o?void 0:null===(t=o.code_assistant_config)||void 0===t?void 0:t.supported_file_names,i=null==o?void 0:null===(n=o.code_assistant_config)||void 0===n?void 0:n.default_assistant_file_types}catch(e){l.k.persist.error({eventName:"fetch_support_code_types_error",error:e instanceof Error?e:Error(String(e))})}};return{assertCodeFileAsync:async e=>(r&&a||await n(),!!r&&!!a&&p(e,r,a)),assertCodeFileSync:t=>(r&&a||e(),p(t,r||u,a||c)),preloadCodeFileExtList:n,assertCodeFileSyncInFree:t=>(i||e(),p(t,i||d,[])),assertCodeFileAsyncInFree:t}})()},466298:function(e,t,n){n.d(t,{d:function(){return l}});var r=n(432626),a=n(120012),i=n(170072),o=n(986118);let l=()=>{let e=(0,o.p)(),t=(0,r.g1)();return async function(n){var r,o,l,s;let u=!(arguments.length>1)||void 0===arguments[1]||arguments[1],c=await (0,i.T)(n),d=null==c?void 0:null===(r=c.repository)||void 0===r?void 0:r.not_support_reason,f="",p=(null===(o=c.repository)||void 0===o?void 0:o.is_repo)===!0;if(p||(f=t("cici_web_ai_coding_repo_limit")),(null==c?void 0:c.code)===0x280de883&&(f=t("cici_web_ai_coding_zip_size_limit")),(d===a.lP.NotPublicRepository||d===a.lP.NotGitHubLink)&&(f=t("cici_web_ai_coding_repo_limit")),d===a.lP.SizeOverLimit){let e=Number(null!==(s=null==c?void 0:null===(l=c.repository)||void 0===l?void 0:l.size_limit_kb)&&void 0!==s?s:40960)/1024;f=t("cici_web_ai_coding_zip_size_limit_2",{postProcess:"sprintf",sprintf:[`${e.toFixed()} MB`]})}f&&u&&e.error(f);let m=null==c?void 0:c.repository;return{valid:!!p,errorMessage:f,metaInfo:{...m,original_url:n,analysis_url:null==m?void 0:m.link}}}}},170072:function(e,t,n){n.d(t,{T:function(){return a}});var r=n(51679);let a=(()=>{let e={};return async t=>{if(e[t])return e[t];try{var n,a,i,o;let l=await r.mH.SniffLink({links:[t],with_content_type:!1,with_repository:!0}),s=(null===(a=l.data)||void 0===a?void 0:null===(n=a.results)||void 0===n?void 0:n.find(e=>e.url===t))||(null===(o=l.data)||void 0===o?void 0:null===(i=o.failed_urls)||void 0===i?void 0:i.find(e=>e.url===t));if(!s)return null;return e[t]=s,s}catch(e){return null}}})()},46499:function(e,t,n){n.d(t,{P:function(){return a}});let r=/\.pdf$/i,a=e=>{if(!(e=e.trim()).startsWith("https://arxiv.org/"))return e;let t=e;return t.startsWith("https://arxiv.org/abs")&&(t=t.replace("https://arxiv.org/abs","https://arxiv.org/pdf")),r.test(t)&&(t=t.replace(r,"")),t}},200235:function(e,t,n){n.d(t,{AP:function(){return x},Dc:function(){return f},E5:function(){return v},GJ:function(){return _},LA:function(){return g},Rs:function(){return p},hx:function(){return w},r9:function(){return m},rp:function(){return h},vQ:function(){return b}});var r=n(354187),a=n(474227),i=n(107481),o=n(93708),l=n(15348),s=n(947020),u=n(811208),c=n(851510);let d=(e,t)=>{var n,r,a;let{chatId:i,skillType:o="default"}=t;return null!==(a=null===(r=e.attachmentsMap)||void 0===r?void 0:null===(n=r[i])||void 0===n?void 0:n[`_${o}`])&&void 0!==a?a:[]},f=e=>d((0,o.GX)("attachmentsStore"),e),p=e=>(0,o.sQ)("attachmentsStore",t=>d(t,e)),m=(e,t)=>e.map(e=>{var n,r,a,o,l,d;let f=(0,c.u$)(e)&&(0,s.zq)(e.url)&&e.localKey;if((0,c.u$)(e)&&!f)return{type:"link",fileName:e.url,fileKey:"",url:e.url,uploadPercent:100,status:i.O.Normal};if((0,c.Q1)(e))return{type:"remote",fileName:e.fileName,fileKey:e.key,size:e.size,uploadPercent:100,status:i.O.Normal};let p=t.preprocessTaskMap[e.localKey]||t.preprocessDirTaskMap[e.localKey];if(!p)return{type:"file",fileName:(0,u.G)("name")(e.file),fileKey:"",uploadPercent:0,status:i.O.Retry};let m=p.key||"",h=[{key:m,image_thumb:{url:null!==(l=null==p?void 0:p.blobUrl)&&void 0!==l?l:"",width:0,height:0,format:""},image_ori:{url:null!==(d=null==p?void 0:p.blobUrl)&&void 0!==d?d:"",width:0,height:0,format:""},feedback:"",request_id:"",description:""}],g=(null===(n=e.file)||void 0===n?void 0:n.size)||(null==e?void 0:e.size),{fileName:v}=e||{},{type:b}=e;return{type:b,fileName:"string"==typeof v?v:"directory"===b?e.dirName:f?(0,u.G)("name")(p.repoInfo||{}):(0,u.G)("name")(e.file),fileKey:m,isRepo:p.isRepo,repoInfo:p.repoInfo,size:g,imageList:h,uploadPercent:p.percent,status:p.failed?i.O.Retry:p.loading?i.O.Uploading:i.O.Normal,parseState:p.parseState,parsePercent:p.parsePercent,reviewState:p.reviewState,uploadWay:null===(r=p.ctx)||void 0===r?void 0:r.uploadWay,localKey:p.localKey,md5:p.md5,imageWidth:null===(a=p.uploadResult)||void 0===a?void 0:a.ImageWidth,imageHeight:null===(o=p.uploadResult)||void 0===o?void 0:o.ImageHeight,parsedCharCount:p.parsedCharCount}}),h=e=>m(f(e),(0,o.GX)("attachmentUploadStore")),g=e=>{let t=p(e);return(0,o.sQ)("attachmentUploadStore",e=>m(t,e),a.Z)},v=()=>(0,o.sQ)("attachmentUploadStore",e=>e.attachmentUploadConfig,r.X),b=e=>{let t=p(e);return(0,o.sQ)("attachmentUploadStore",e=>t.map(t=>{if((0,c.u$)(t))return;if((0,c.Q1)(t))return t.key;let n=e.preprocessTaskMap[t.localKey];return(null==n?void 0:n.key)||void 0}),r.X)},_=e=>{let{chatId:t,skillType:n="default"}=e;return(0,o.sQ)("attachmentUploadStore",e=>{var r;return null===(r=e.preGeneratedLocalMessageIdMap[t])||void 0===r?void 0:r[`_${n}`]},r.X)},y=e=>{var t;let{chatId:n,skillType:r="default"}=e;return null===(t=(0,o.GX)("attachmentUploadStore").preGeneratedLocalMessageIdMap[n])||void 0===t?void 0:t[`_${r}`]},x=async e=>{if(!y(e)){let t=await (0,l.D)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)}return y(e)},w=e=>{let t=t=>async n=>{var r;let a=await (0,l.D)("attachmentsStoreService");return null==a?void 0:null===(r=a[t])||void 0===r?void 0:r.call(a,{...e,...n})};return{clearAttachments:t("clearAttachments"),addAttachment:t("addAttachment"),addDirAttachment:t("addDirAttachment"),addLink:t("addLink"),addGitHubLink:t("addGitHubLink"),addRemoteAttachment:t("addRemoteAttachment"),clearAllAttachments:t("clearAllAttachments"),clearChatAttachments:t("clearChatAttachments"),deleteAttachment:t("deleteAttachment"),replaceLink:t("replaceLink"),reuploadAttachment:t("reuploadAttachment"),getPreGeneratedLocalMessageId:()=>x(e),updatePreGeneratedLocalMessageId:async()=>{let t=await (0,l.D)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)},addAttachmentDirectly:t("addAttachmentDirectly")}}},190831:function(e,t,n){n.d(t,{Lv:function(){return u},UC:function(){return c},W2:function(){return f},ZO:function(){return d}});var r=n(429996),a=n(986091),i=n(474227),o=n(93708),l=n(543281),s=n(851510);let u=(e,t)=>{let n=e.refContentMap[t];if(!(!n||(0,a.Z)(n.refContents)))return n},c=e=>{let t=(0,o.sQ)("refContentStore",t=>u(t,e),i.Z),n=(0,o.sQ)("attachmentUploadStore",e=>e.preprocessTaskMap,i.Z);return(0,r.useMemo)(()=>{if(!t||(0,a.Z)(t.refContents))return;let e=t.refContents.filter(e=>{if("attachment"!==e.type)return!0;for(let t in n)if(n[t].key===e.fileKey)return n[t].reviewState!==l.m9.ReviewState_NotCompliant;return!0});return{...t,refContents:e}},[t,n])},d=e=>{let t=c(e);return(0,r.useMemo)(()=>({...t,refContents:(null==t?void 0:t.refContents)?(0,s._c)(t.refContents):void 0}),[t])},f=e=>!!(0,o.GX)("attachmentUploadStore").preprocessTaskMap[e]},200694:function(e,t,n){n.d(t,{M:function(){return i},X:function(){return a}});var r=n(210230);let a=(e,t)=>{let n=e.chunk_seq,a=null==t?void 0:t.chunk_seq;return!!(!(0,r.Z)(n)&&!(0,r.Z)(a)&&Number(n)<=Number(a))},i=(e,t)=>{let n=e.chunk_seq,a=null==t?void 0:t.chunk_seq;return!!(!(0,r.Z)(n)&&!(0,r.Z)(a)&&Number(n)<Number(a))}},721557:function(e,t,n){var r;n.d(t,{KP:function(){return a},k5:function(){return i},vQ:function(){return o}});let a=((r={})[r.SummarizeSingle=1]="SummarizeSingle",r[r.SummarizeMultiple=2]="SummarizeMultiple",r[r.SummarizeWebsite=3]="SummarizeWebsite",r[r.HighlightSingle=4]="HighlightSingle",r[r.HighlightMultiple=5]="HighlightMultiple",r[r.HighlightWebsite=6]="HighlightWebsite",r[r.GenerateMindMap=7]="GenerateMindMap",r[r.CreateByDoc=8]="CreateByDoc",r[r.CreateByPPT=9]="CreateByPPT",r[r.MakeQuiz=10]="MakeQuiz",r[r.CreateByWebsite=11]="CreateByWebsite",r[r.ExplainImage=12]="ExplainImage",r[r.SummarizeImage=13]="SummarizeImage",r[r.ExtractTextFromImage=14]="ExtractTextFromImage",r[r.IntroFolder=15]="IntroFolder",r[r.UsageFolder=16]="UsageFolder",r[r.IntroRepo=17]="IntroRepo",r[r.IntroFile=18]="IntroFile",r[r.UsageFile=19]="UsageFile",r[r.SummarizeData=20]="SummarizeData",r[r.GenerateCharts=21]="GenerateCharts",r[r.AnalyzeQueryData=22]="AnalyzeQueryData",r[r.GeneratePodcast=23]="GeneratePodcast",r[r.GenerateWhiteboardCode=24]="GenerateWhiteboardCode",r),i={[a.SummarizeSingle]:"skill_read_file_shortcut2",[a.SummarizeMultiple]:"skill_read_file_shortcut5",[a.SummarizeWebsite]:"skill_read_file_shortcut7",[a.HighlightSingle]:"skill_read_file_shortcut1",[a.HighlightMultiple]:"skill_read_file_explainDoc",[a.HighlightWebsite]:"skill_read_file_shortcut8",[a.GenerateMindMap]:"skill_read_file_shortcut6",[a.CreateByDoc]:"skill_read_file_refineDoc",[a.CreateByPPT]:"skill_read_file_pptScript",[a.MakeQuiz]:"skill_read_file_shortcut3",[a.CreateByWebsite]:"skill_read_file_writeFromWebpage",[a.ExplainImage]:"skill_read_image_shortcut1",[a.SummarizeImage]:"skill_read_pic_prompt1",[a.ExtractTextFromImage]:"skill_read_pic_prompt2",[a.IntroFolder]:"cici_web_ai_coding_default_query_intro_folder",[a.UsageFolder]:"cici_web_ai_coding_default_query_usage_folder",[a.IntroRepo]:"cici_web_ai_coding_default_query_intro_repo",[a.IntroFile]:"cici_web_ai_coding_default_query_intro_file",[a.UsageFile]:"cici_web_ai_coding_default_query_usage_file",[a.SummarizeData]:"skill_dataAnalysis_prompt1",[a.GenerateCharts]:"skill_dataAnalysis_prompt2",[a.GeneratePodcast]:"podcast_chat_option_generate",[a.AnalyzeQueryData]:"web_ai_coding_default_query_data_analysis",[a.GenerateWhiteboardCode]:"coding_website_build_drawboard_query"},o={[a.HighlightSingle]:"highlight",[a.SummarizeSingle]:"summarize",[a.MakeQuiz]:"make_a_quiz",[a.GenerateMindMap]:"generate_mind_map",[a.SummarizeImage]:"image_summary",[a.ExtractTextFromImage]:"image_read_text",[a.ExplainImage]:"image_vlm_summary",[a.SummarizeData]:"data_analysis_summary",[a.GenerateCharts]:"data_analysis_three_charts",[a.SummarizeWebsite]:"link_summary",[a.HighlightWebsite]:"link_main_content",[a.GeneratePodcast]:"generate_podcast"}},205379:function(e,t,n){n.d(t,{zU:function(){return a}});var r=n(468494);function a(e){let{localConversationMap:t}=r.useFeedStore.getState();return e in t}},257149:function(e,t,n){n.d(t,{Kr:function(){return i},Pf:function(){return a},X1:function(){return o}});var r=n(708481);let a=async e=>{let t=await (0,r.cf)("AliceChatStream");null==t||t.pullMessage([e])},i=async e=>{let t=await (0,r.cf)("AliceChatFallback");null==t||t.cancelTask(e)},o=async e=>{let{replyId:t,localMessageId:n}=e;if(t){let e=await (0,r.cf)("AliceChatStream"),n=await (0,r.cf)("AliceChatFallback");null==e||e.cancelTask(t),null==n||n.cancelTask(t)}if(n){let e=await (0,r.cf)("SamanthaChat");null==e||e.cancelTask(n)}}},626101:function(e,t,n){n.d(t,{s:function(){return T}});var r=n(177056),a=n(210230),i=n(81192),o=n(669384),l=n(81307),s=n(148824),u=n(228535),c=n(200694),d=n(589944),f=n(708481),p=n(126628),m=n(792288),h=n(468494),g=n(666396),v=n(644367),b=n(831929),_=n(623666),y=n(744947),x=n(777433),w=n(530836),S=n(789691),C=n(298113),k=n(969537);let T=e=>{var t,n;let T=w.useMessageStore.getState(),{conversation_id:M,message_id:N,reply_id:P="",stream_id:E}=e,R=!!(null===(t=e.content_blocks)||void 0===t?void 0:t.find(e=>e.block_type===o.zc.SamanthaSuggest));try{let t=(0,m.QW)(h.useFeedStore.getState(),M),n=(0,s.zu)(e),o=(0,u.FFC)(e),_=(0,u.ZFo)(e),A=(0,u.qF)(e),j=(0,s.bf)(e),z=(0,u.AS7)(e),O=(0,u.vlk)(e),I=A?g.YR:P;if(T.updateMessageList({conversationId:M,immerUpdate:function(){for(var s,u,p,m,h=arguments.length,_=Array(h),y=0;y<h;y++)_[y]=arguments[y];let[w]=_,{draftLocalMessageMap:C,draftMessageMap:k,draftMessageLinks:T,draftRegenerateMessageMap:P}=w,R=!!k[N],A=C[N];if(!R&&!A){let{messageLink:n}=(0,b.Bi)(w,I,E)||{};(0,b.ae)({isRegenerate:j,immerUpdateMessage:_,newLocalMessageId:N,messageId:"",conversationId:M,replyId:I,message:e,sectionId:e.section_id,localMessageStatus:l.JR.ReceivingStream,conversationType:t,skillType:null==e?void 0:null===(s=e.skill)||void 0===s?void 0:s.skill_type}),(0,b.eD)({isRegenerate:j,immerUpdateMessage:_,newLocalMessageId:N,messageKey:null!==(u=null==n?void 0:n.messageKey)&&void 0!==u?u:(0,S.s)()}),A=C[N]}if(!R&&A){if((0,c.M)(e,A))return;let{receiveStreamPackageUpdateTimeout:t=g.Gv}=(0,d.$)("chatMessageConfig")||{};if(C[N]={...A,local:{...A.local,status:l.JR.ReceivingStream,failed:!1,failedExpired:n||o?void 0:Date.now()+t},...(0,r.Z)(e,a.Z),local_message_id:A.local_message_id},n){if(v.k.console.info({namespace:null===(p=e.local_info)||void 0===p?void 0:p.from,message:"replaceLocalMessageByRemote",meta:{message:e}}),(0,x.yk)({draft:w,localMessage:A,message:e}),A.local.isRegenerate){let t=(0,i.Z)(e);t.is_regen=!0,t.regen_active=!0,P.messageMap={...P.messageMap,[N]:t}}I&&(0,f.cf)("AliceChatFallback").then(e=>null==e?void 0:e.cancelTask(I))}}else{let t=k[N];if((0,c.M)(e,t))return;k[N]=e,R||T.push({isLocalMessage:!1,messageId:N}),n&&v.k.persist.info({namespace:null===(m=e.local_info)||void 0===m?void 0:m.from,message:"Receive Non-local Finished Message",meta:{message_id:N,conversation_id:M,is_exist:R}})}}}),e.section_id&&!_){let t=A?void 0:(0,y.K9)(w.useMessageStore.getState(),M,{isLocalMessage:!1,messageId:I});(null==t?void 0:t.section_id)!==e.section_id&&h.useFeedStore.getState().updateLastSectionId(M,e.section_id)}let Z=(0,u.LxO)(e);if(n&&Z&&e.reply_id){let{receiveStreamPackageUpdateTimeout:e=g.Gv}=(0,d.$)("chatMessageConfig")||{};T.updateSuggestMessage(M,()=>({replyId:P,loading:!0,failed:!1,expired:Date.now()+e,suggests:[]}))}z&&Z&&T.updateSuggestMessage(M,()=>{});let D=C.t.getSessionIdBySentMessageId(M,P);z||(R?(0,k.cV)(M,D,e):(0,k.il)(M,D,e)),o?(0,k.Kr)(M,D,e):O?(0,k.ox)(M,D,e):n&&Z&&!z?(0,k.ZL)(M,D,e):z&&(R?(0,k.Pw)(M,D,e):(0,k.hV)(M,D,e)),(0,p.IK)().then(t=>{let n=t.filter(t=>t.matchPlugin(e)).map(e=>e.pluginIdentifier);(0,f.$$)(n).then(t=>{t.forEach(t=>{var n;null==t||null===(n=t.handleReceivingMessageError)||void 0===n||n.call(t,e)})}),n.length>0&&v.k.persist.warning({message:"receive message failed"})})}catch(a){let t=(0,i.Z)(e);t.final_status={message:null===(n=t.final_status)||void 0===n?void 0:n.message,session:(0,_.RB)(a)};let r=C.t.getSessionIdBySentMessageId(M,P);throw R?(0,k.Pw)(M,r,e):((0,k.wJ)(M,r,t),(0,k.Kr)(M,r,t)),a}}},831929:function(e,t,n){n.d(t,{$_:function(){return _},BH:function(){return g},Bi:function(){return y},ae:function(){return v},eD:function(){return b}});var r=n(475666),a=n(508830),i=n(260325),o=n(81307),l=n(900730),s=n(589944),u=n(666396),c=n(455746),d=n(63746),f=n(297562),p=n(436462),m=n(334578),h=n(777433);function g(e,t){let{conversationId:n,replyId:i}=t,o=(0,r.Z)(e.localMessageMap[n],e=>(null==e?void 0:e.reply_id)===i);return(0,a.Z)(o)}function v(e){var t;let{isRegenerate:n,immerUpdateMessage:r,newLocalMessageId:a,conversationId:i,replyId:o,sectionId:l,message:m={},timeout:h=0,localMessageStatus:g}=e,[v]=r,{receiveMessageStartTimeout:b=u.Gr}=(0,s.$)("chatMessageConfig")||{},_=(0,d.UQ)({messageMap:v.draftMessageMap});v.draftLocalMessageMap[a]=(0,f.W)({prevMessageId:n?null===(t=(0,p.Pw)(v.draftMessageLinks,e=>{var t;return(null===(t=_(e))||void 0===t?void 0:t.reply_id)===o}))||void 0===t?void 0:t.messageId:o,localMessageStatus:g,message:{...m,is_delta:!1,user_type:c.UserType.Bot,conversation_id:i,section_id:l,local_message_id:a,reply_id:o},failedExpired:Date.now()+(1e3*Number(h)||b),messageLinks:v.draftMessageLinks,isRegenerate:n})}function b(e){let{immerUpdateMessage:t,newLocalMessageId:n,messageKey:r}=e,[a]=t;if(!(0,i.Z)(a.draftMessageLinks,e=>e.messageId===n)){let e={isLocalMessage:!0,messageId:n,...r?{messageKey:r}:{}};a.draftMessageLinks.push(e)}}function _(e){let[t]=e,{draftLocalMessageMap:n,draftMessageLinks:r,draftMessageMap:a}=t;r.filter(e=>{var t,r;let{isLocalMessage:a,messageId:i}=e;return a&&(null===(r=n[i])||void 0===r?void 0:null===(t=r.local)||void 0===t?void 0:t.status)===o.JR.ReceivingFirstPackage}).sort((e,t)=>(0,m.Z)(a[n[t.messageId].reply_id||""],a[n[e.messageId].reply_id||""])).forEach((e,n)=>{n&&(0,h.Tt)(t,e)})}function y(e,t,n){let{draftLocalMessageMap:r}=e,a=(0,l.J)(t,n),i=(0,l.J)(t),o=r[u.lf],s=r[i],c=r[a];return o?(0,h.FL)(e,u.lf):s?(0,h.FL)(e,i):c?(0,h.FL)(e,a):void 0}},844108:function(e,t,n){n.d(t,{D:function(){return k}});var r=n(81192),a=n(327386),i=n(985871),o=n.n(i),l=n(81307),s=n(414817),u=n(148824),c=n(228535),d=n(729813),f=n(455746),p=n(51679),m=n(967037),h=n(644367),g=n(920679),v=n(436462),b=n(744947),_=n(530836),y=n(298113),x=n(969537),w=n(626101),S=n(257149);async function C(e,t,n,i){if(!n)return;let{message_id:v,local_message_id:C,reply_id:k}=n,T=e.getState();if((0,s.H)(n)&&((0,u.ad)(n)||(0,c.TDR)(n)||(0,u.Oy)(n))){T.finishSendMessageTask(C),await T.updateMessageList({conversationId:t,immerUpdate:e=>{let{draftLocalMessageMap:t}=e,r=t[(null==n?void 0:n.local_message_id)||""];r&&(r.local.hasBroken=!0,r.status=f.PushMessageStatus.InVisible,r.local.status=l.JR.Broken)}}),d.v.emit("chat.localBreak");let e=(0,r.Z)(n);e.final_status={message:"Broken",session:"Broken"};let a=y.t.getSessionIdBySentMessageId(t,n.local_message_id||"");await (0,x.BF)(t,a,e),await (0,S.X1)({localMessageId:(0,u.Oy)(n)?null==n?void 0:n.reply_id:null==n?void 0:n.local_message_id});return}if(!(0,u.zu)(n)||(0,s.H)(n)&&(0,c.pdQ)(n)){let e=(0,b.K9)(_.useMessageStore.getState(),t,{isLocalMessage:!1,messageId:k||""});if((0,s.H)(n)&&(0,u.ph)(n))await T.updateMessageList({conversationId:t,immerUpdate:e=>{let{draftLocalMessageMap:a,draftMessageLinks:i}=e,o=a[C||""];o&&(o.local.hasBroken=!0,o.status=f.PushMessageStatus.InVisible,o.local.status=l.JR.Broken,o.final_status={message:"Broken",session:"Broken"});let s=i.find(e=>e.messageId===C);s&&(s.messageKey=`${s.messageId}_break`);let u=y.t.getSessionIdBySentMessageId(t,n.reply_id||"");(0,x.ox)(t,u,(0,r.Z)(o))}});else if(((0,s.H)(n)&&(0,c.$28)(n)||!(0,u.zu)(n))&&v){let e={conversation_id:t,message_id:v,...(0,a.Z)(n,["local","local_message_id"]),status:f.PushMessageStatus.Broken,chunk_seq:"999999",is_finish:!0,is_delta:!1,final_status:{message:"Broken",session:"Broken"}};(0,w.s)(e)}await (0,S.X1)({replyId:k||"",localMessageId:null==e?void 0:e.local_message_id}),d.v.emit("chat.localBreak");let M=k||v,N=(0,m.zQ)({eventName:"break_message"});if(!function(e){if(!e)return!1;let t=(0,g.v)(Number(e.create_time||Date.now()));return o()().isBefore(o()(t).add(10,"minute"))}(n)||!M||(null==t?void 0:t.startsWith("local"))||(0,c.vlk)(n)){h.k.persist.log({eventName:"break_message_invalid",meta:{replyId:String(M),conversation_id:String(t),is_finished:(0,u.zu)(n)?"1":"0",create_time:String(n.create_time),message_type:String(n.message_type),content_type:String(n.content_type),status:String(n.status),localMessageStatus:(0,s.H)(n)&&String(n.local.status)}});return}p.kz.MessageReport({reply_id:M,conversation_id:t,action:"break"}).then(()=>{N.addDurationPoint("success"),N.success()},e=>{N.error({reason:"break message failed",error:e,meta:{replyId:String(M),conversation_id:String(t),is_finished:(0,u.zu)(n)?"1":"0",create_time:String(n.create_time),message_type:String(n.message_type),content_type:String(n.content_type),status:String(n.status),localMessageStatus:(0,s.H)(n)&&String(n.local.status)}}),null==i||i()})}}async function k(e,t){let n=e.getState(),r=(0,b.Sv)(n,t);if((0,c.Q5B)(r)){let n=(0,v.MF)(t);(null==n?void 0:n.length)&&await Promise.all(null==n?void 0:n.map(n=>C(e,t,n)))}else{if((0,u.Wj)(r))return;await C(e,t,r)}}},724391:function(e,t,n){n.d(t,{N6:function(){return s},dr:function(){return l},og:function(){return u}});var r=n(429996),a=n(993047),i=n(162957),o=n(627394);let l=(0,i.y)((0,r.lazy)(()=>(0,a.AD)({fn:()=>Promise.all([n.e("6973"),n.e("68592"),n.e("60681")]).then(n.bind(n,559521)).then(e=>{let{AttachmentFileArea:t}=e;return{default:t}}),fallback:{default:()=>(0,o.jsx)("div",{})}})),()=>(0,o.jsx)("div",{})),s=(0,i.y)((0,r.lazy)(()=>(0,a.AD)({fn:()=>Promise.all([n.e("6973"),n.e("62192"),n.e("60410")]).then(n.bind(n,625939)).then(e=>{let{AttachmentImageArea:t}=e;return{default:t}}),fallback:{default:()=>(0,o.jsx)("div",{})}})),()=>(0,o.jsx)("div",{})),u=(0,i.y)((0,r.lazy)(()=>(0,a.AD)({fn:()=>Promise.all([n.e("6973"),n.e("43850"),n.e("17478")]).then(n.bind(n,448917)).then(e=>{let{AttachmentArea:t}=e;return{default:t}}),fallback:{default:()=>(0,o.jsx)("div",{})}})),()=>(0,o.jsx)("div",{}))},147333:function(e,t,n){n.d(t,{Mr:function(){return s},XR:function(){return l.XR},mh:function(){return l.mh},yB:function(){return l.yB},ys:function(){return l.ys}});var r=n(429996),a=n(993047),i=n(162957),o=n(627394),l=n(787670);let s=(0,i.y)((0,r.lazy)(()=>(0,a.AD)({fn:()=>Promise.all([n.e("6973"),n.e("62192"),n.e("74212"),n.e("43850"),n.e("33382"),n.e("3821")]).then(n.bind(n,215381)).then(e=>{let{ChatInputRefContent:t}=e;return{default:t}}),fallback:{default:()=>(0,o.jsx)("div",{})}})),()=>(0,o.jsx)("div",{}))},787670:function(e,t,n){n.d(t,{XR:function(){return s},mh:function(){return l},yB:function(){return i},ys:function(){return o}});var r=n(380815),a=n(126473);let i=e=>(0,r.sV)(e)?e.link:(0,r.xR)(e)?e.fileName:(0,r.DG)(e)?e.text:"",o=e=>(0,r.sV)(e)?(0,a.lm)(e.link):(0,r.xR)(e)?(0,a.lm)(e.fileName):"",l=(e,t)=>0===e.length?"No file.":1===e.length?e[0]:t("file_ref_all_files",{postProcess:"sprintf",sprintf:[e[0],`${e.length-1}`]}),s=e=>e.filter(e=>!!e).join(", ")},122621:function(e,t,n){n.d(t,{$c:function(){return c},A_:function(){return d},Tt:function(){return g},Z8:function(){return h},eg:function(){return b},m0:function(){return v},me:function(){return f},tz:function(){return p},xz:function(){return m}});var r=n(577518),a=n(986091),i=n(41359),o=n(15348),l=n(851510),s=n(631150),u=n(811208);let c=e=>({blob:e.file,local_key:e.localKey,from:e.from}),d=(e,t,n)=>({compositeContent:{text:e,images:[c(t)]},reportParams:n}),f=(e,t)=>({compositeContent:{text:e,files:[c(t)]},reportParams:{scene:"keyboard"}}),p=(e,t)=>({text:e,reportParams:t}),m=(e,t)=>({reportParams:t,image:e.file,local_key:e.localKey}),h=(e,t)=>({reportParams:t,file:e.file,local_key:e.localKey}),g=(e,t)=>({reportParams:t,file_key:e.key,file_name:e.fileName}),v=(e,t)=>{let{text:n,attachments:o,attachmentKeys:c,attachmentStates:d,enableImageVlm:f}=e,p=o.map((e,t)=>{var n,a,o,s;if((0,l.u$)(e))return;let p=c[t],m=null!==(a=e.fileName)&&void 0!==a?a:(0,u.G)("name")(e.file);if(!p)return;let h=(0,l.Q1)(e)?null!==(o=e.size)&&void 0!==o?o:0:null!==(s=null===(n=e.file)||void 0===n?void 0:n.size)&&void 0!==s?s:e.size,g=(0,l.Q1)(e)?(0,r.Z)():e.localKey,v=d[t],b={fileKey:p,fileName:m,size:h,identifier:g,parseState:v.parseState,reviewState:v.reviewState,md5:v.md5,localKey:v.localKey};return(0,l.Or)(e)?{...b,type:f?i.U3.Image:i.U3.File,fileType:i.bQ.OCRImage,image:{key:p,image_ori:{width:v.imageWidth,height:v.imageHeight}}}:{...b,type:i.U3.File,fileType:i.bQ.File}}).filter(s.Av);if(!(0,a.Z)(p))return{text:n,nestedItems:p,reportParams:{...t}}},b=async e=>{let t=await (0,o.D)("attachmentUploadStoreService"),n=null==t?void 0:t.popPreGeneratedId(e);return n?{pre_generate_id:n}:{}}},380041:function(e,t,n){n.d(t,{kb:function(){return p},mD:function(){return f},xv:function(){return m}});var r=n(429996),a=n(477041),i=n(981376),o=n(669160),l=n.n(o),s=n(877754),u=n(708481),c={"tool-button":"tool-button-G0uH2M",small:"small-P_cvE6"},d=n(627394);let f=e=>{let{className:t,list:n,...r}=e;return(0,d.jsx)("div",{className:l()("flex items-center",t),children:n.map(e=>(0,d.jsx)(m,{identifier:e,...r},e.toString()))})},p=e=>{let{list:t,toolButtonProps:n,...a}=e,i=(e,t,r)=>(0,d.jsx)(m,{identifier:e,...n,...r,isToolButtonSmall:r.small},t),o=(0,r.useMemo)(()=>t.map((e,t)=>n=>i(e,t,n)),[t,n]);return(0,d.jsx)(s.f,{...a,list:o})},m=e=>{let{identifier:t,onUpdateValue:n,type:r,className:o,...s}=e,{plugin:f,loading:p}=(0,u.Xg)(t);return!f||p?null:(0,d.jsx)(f.Content,{...s,className:l()(o,c["tool-button"],s.isToolButtonSmall&&c.small),onUpdateValue:e=>{"textarea"===r&&(0,a.Z)(e)?null==n||n(e):"editor"===r&&(0,i.Z)(e)&&(null==n||n(e))}})}},564634:function(e,t,n){n.d(t,{L:function(){return d}});var r=n(429996),a=n(107481),i=n(633126),o=n(17135),l=n(432626),s=n(51679),u=n(900789),c=n(698570);function d(e){var t,n;let{attachmentStates:d,trackParams:p,scene:m}=e,h=(0,l.g1)(),{data:g,enableUltraLongText:v}=(0,i.o)(),b=d.length>0,{data:_}=(0,c.Z)(async()=>{if(b){var e,t;return null!==(t=null===(e=(await s.mH.CheckUltraLongTextQuota()).data)||void 0===e?void 0:e.has_quota)&&void 0!==t&&t}},{refreshDeps:[b]}),y=Number((null==g?void 0:null===(t=g.ai_reader)||void 0===t?void 0:t.max_char_count)||1e5),x=Number((null==g?void 0:null===(n=g.ai_reader)||void 0===n?void 0:n.ult_max_char_count)||1e5);return(0,r.useMemo)(()=>{if(0===d.length)return{success:!0};if(d.some(e=>e.status===a.O.Retry))return{success:!1,tips:h("file_upload_failed")};if(d.some(e=>e.status===a.O.Uploading))return{success:!1,tips:h("file_uploading_cant_sent")};if(d.filter(f).some(e=>e.parseState===u.MZ.ParseState_Failed))return{success:!1,tips:h("multi_files_parse_failed")};if(d.filter(f).some(e=>{let{parseState:t=u.MZ.ParseState_Default}=e;return[u.MZ.ParseState_Default,u.MZ.ParseState_Processing].includes(t)}))return{success:!1,tips:h("skill_read_parsing")};let e=d.reduce((e,t)=>{var n;return e+(null!==(n=t.parsedCharCount)&&void 0!==n?n:0)},0),t=1===d.length,n=e>y,r=n?(y/e*100).toFixed(1):"100";return("attachmentArea"===m&&(0,o.trackEvent)("upload_parse",{all_token_length:e,single_file_token_length:d.map(e=>{let{parsedCharCount:t}=e;return t||0}).join(","),is_long_file:+!!n,file_cnt:d.length,success_cnt:d.length,...p}),t)?{success:!0,tips:n?h("single_file_exceed_limit",{postProcess:"sprintf",sprintf:["\u8C46\u5305",`${r}%`]}):void 0}:{success:!n,tips:n?h("multi_files_exceed_limit_alert",{postProcess:"sprintf",sprintf:["\u8C46\u5305",`${r}%`]}):void 0}},[d,h,y,v,_,x])}function f(e){return"file"===e.type||"directory"===e.type||e.isRepo}},693612:function(e,t,n){n.d(t,{J:function(){return o}});var r=n(429996),a=n(529537),i=n(729813);let o=e=>{let t=(0,r.useCallback)((0,a.Z)(()=>{i.v.emit("chat.chatInput.init")}),[]);(0,r.useEffect)(()=>{e||setTimeout(t)},[e,t])}},544888:function(e,t,n){n.d(t,{Fd:function(){return g.F},Hf:function(){return _},JM:function(){return v.J},Ll:function(){return c.L},MR:function(){return h.MR},OT:function(){return b.O},Pq:function(){return b.P},W2:function(){return m.W},ac:function(){return m.a},b6:function(){return s.b6},jw:function(){return f.j},ku:function(){return y},mZ:function(){return s.mZ},n:function(){return u.n},n1:function(){return s.n1},oQ:function(){return h.oQ},pO:function(){return u.pO},ri:function(){return h.ri},uy:function(){return d.u},vb:function(){return u.vb},x5:function(){return p.x},zP:function(){return s.zP}});var r=n(429996),a=n(291375),i=n(93708),o=n(468494),l=n(205379),s=n(877384),u=n(322828),c=n(564634),d=n(443682),f=n(160195),p=n(445620),m=n(894883),h=n(821192),g=n(305919),v=n(693612),b=n(268022);function _(e){let t=(0,i.sQ)("chatViewCoreStore",e=>{var t;return null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId}),n=(0,r.useRef)("");(0,r.useEffect)(()=>{var r;if(!t)return;let{localConversationMap:i,conversationMap:s}=o.useFeedStore.getState(),u=i[n.current||""]||s[n.current||""];if((0,l.zU)(n.current)&&(null==u?void 0:null===(r=u.local)||void 0===r?void 0:r.createStatus)===a.ns.Done){n.current=t;return}e(n.current||"",t),n.current=t},[t])}function y(e){let t=(0,i.sQ)("chatViewCoreStore",e=>{var t;return null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId}),n=(0,s.n1)(t||""),a=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{t&&(a.current||n)&&(a.current!==n&&e(a.current,n),a.current=n)},[n])}},443682:function(e,t,n){n.d(t,{u:function(){return i}});var r=n(429996),a=n(432626);let i=e=>{let{showUltraLongText:t}=e,n=(0,a.g1)();return(0,r.useMemo)(()=>{if(t)return n("skill_copliotreading_btn_2M")},[t])}},894883:function(e,t,n){n.d(t,{W:function(){return u},a:function(){return l}});var r=n(429996),a=n(210230),i=n(190412),o=n(605743);let l=480,s=!1,u=()=>{var e;let t=(0,o.PG)(),n=(0,r.useRef)(null),u=null===(e=(0,i.Z)(n))||void 0===e?void 0:e.width,c=t||((0,a.Z)(u)||0===u?s:u<l);return s=c,{isToolButtonSmall:c,inputWidthDivRef:n}}},268022:function(e,t,n){n.d(t,{O:function(){return i},P:function(){return a}});var r=n(17135);let a=Object.freeze({Keyboard:"keyboard",Click:"click"}),i=function(){let{exitScene:e,trackParams:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.trackEvent)("skill_module_close",{exit_scene:e,...t}),(0,r.trackEvent)("exit_skill",{exit_scene:e,...t})}},445620:function(e,t,n){n.d(t,{x:function(){return b}});var r=n(444614),a=n(67864),i=n(477710),o=n(156217),l=n(530836),s=n(744947),u=n(93708),c=n(234761),d=n(468494),f=n(886421),p=n(46499),m=n(17135),h=n(636674);let g=async e=>e?e.startsWith("local_")?new Promise(t=>{let n=!0,r=!1,i=()=>{n&&(l(),n=!1,r||clearTimeout(s))},o=e=>{i(),t(e)},l=(0,u.Wp)("chatViewCoreStore").subscribe(t=>{let{currentChatViewConfig:n}=t;if(!n)return;let{chatType:r,chatId:i,chatKey:l}=n;r===a.z.Conversation&&(l&&l===e?o(i):o(null))}),s=window.setTimeout(()=>{r=!0,o(null)},6e4)}):e:null,v=async e=>{let t=await g(e);return!!t&&new Promise(e=>{let n=!0,a=!1,i=()=>{n&&(u(),n=!1,a||clearTimeout(c))},o=t=>{i(),e(t)},u=l.useMessageStore.subscribe(e=>{var n,a;let i=(0,s.Sv)(e,t);!(0,r.Z)(null==i?void 0:i.verbose)&&o(Number(null==i?void 0:null===(a=i.verbose)||void 0===a?void 0:null===(n=a.agent_to_skill)||void 0===n?void 0:n.skill_type)===h.SkillType.ReadPDF)}),c=window.setTimeout(()=>{a=!0,o(!1)},6e4)})},b=function(){let{chatViewConfig:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.GL)("chatViewService"),n=t=>{let{chatId:n}=null!=e?e:{},r=(0,c.jo)(d.useFeedStore.getState(),n);(0,m.trackEvent)("copilot_button_click",{bot_id:(0,f.SR)(n),conversation_type:null==r?void 0:r.conversation_type,conversation_id:n,collection_id:null==t?void 0:t.collectionId,message_id:null==t?void 0:t.messageId,entrance_type:null==t?void 0:t.entranceType})};return{onAfterOpenFile:n,openFileByKey:(r,a,o,l,s)=>{let{pdf:u={},messageId:c,openFrom:d,delayToIntension:f=!1}=o||{},p=async()=>{let{anchorPage:a,highlightArea:o,assetList:p,realFileKey:m,fileName:h}=u;(!f||await v(null==e?void 0:e.chatId))&&(t.openCanvasPanel({conversationId:(null==e?void 0:e.chatId)||"",messageId:c||"",readContent:{pdfId:r,realFileKey:null!=m?m:r,pdfName:h,assetList:p,pdfAnchorConfig:{page:a,areas:o},teaCtx:l,openFrom:d},canvasLayoutState:i.P.CANVAS_ONLY},s),n(l))};if("PDF"===a)return p(),!1},openFileByLink:(r,a,o,l)=>{let{attchmentType:s,pdf:u={},messageId:c,openFrom:d,delayToIntension:f=!1}=a||{},m=async()=>{let{anchorPage:a,highlightArea:s,assetList:m,realFileKey:h}=u;(!f||await v(null==e?void 0:e.chatId))&&(r=(0,p.P)(r),t.openCanvasPanel({conversationId:(null==e?void 0:e.chatId)||"",messageId:c||"",readContent:{pdfUrl:r,pdfName:r,realFileKey:null!=h?h:r,assetList:m,pdfAnchorConfig:{page:a,areas:s},teaCtx:o,openFrom:d},canvasLayoutState:i.P.CANVAS_ONLY},l),n(o))};if("pdf"===s)return m(),!1}}}},160195:function(e,t,n){n.d(t,{j:function(){return c}});var r=n(93708),a=n(276971),i=n(995129),o=n(316820),l=n(999132),s=n(126473),u=n(445620);let c=e=>{let{attachmentStates:t,openFrom:n}=e,c="sm"===(0,a.y)({sm:800,md:1200}),d=(0,r.sQ)("chatViewCoreStore",e=>e.currentChatViewConfig),{openFileByKey:f,openFileByLink:p}=(0,u.x)({chatViewConfig:d});return{openReadCanvas:(0,l.Z)(async e=>{if(c)return;let r=t[0];if(!r)return;let a=(null==e?void 0:e.skillType)?{skillType:e.skillType}:{};if(["file","remote"].includes(r.type)){let{fileKey:t}=r,o=(0,s.JB)((0,s.lm)(r.fileName));if("Document"===o){let e=await (0,i.s)(t);e&&(t=e,o="PDF")}"PDF"===o&&f(t,o,{pdf:{fileName:r.fileName,realFileKey:r.fileKey},openFrom:(null==e?void 0:e.openFrom)||n,delayToIntension:!0},a)}else"link"===r.type&&r.url&&await (0,o.J)(r.url)&&p(r.url,{attchmentType:"pdf",openFrom:(null==e?void 0:e.openFrom)||n,delayToIntension:!0},a)})}}},492284:function(e,t,n){n.d(t,{x:function(){return o}});var r=n(145625),a=n(93708),i=n(46793);let o=()=>{let e=(0,i.ae)();return(0,a.sQ)("chatInputStore",t=>e&&t.sendMessageStatusMap[e]||r.M.Default)}},510361:function(e,t,n){n.d(t,{O:function(){return o},z:function(){return l}});var r=n(429996),a=n(814986),i=n(577831);let o=e=>{let{disabled:t,onSubmit:n,value:a,setValue:o,allowEmpty:l=!1,clearInputOnSubmit:s=!0,attachmentCanNotSend:u=!1,onEmptyAt:c}=e,d=(0,r.useRef)(null),[f,p]=(0,r.useState)(null);(0,r.useLayoutEffect)(()=>{if(null!==f){if(d.current){let e=f+1;d.current.selectionStart=e,d.current.selectionEnd=e}p(null)}},[d.current,f,a]);let m=(0,r.useCallback)(()=>{o("")},[]),h=(0,r.useCallback)((e,r)=>{if(!t&&(l||a.trim())&&!u){if("dependOnSubmit"===s){(async()=>{await (null==n?void 0:n(null!=r?r:a))&&o("")})();return}null==n||n(null!=r?r:a),s&&o("")}},[t,n,a,l,s]),g=(0,r.useCallback)(e=>{let t=e.shiftKey||!!(0,i.V5)()&&e.altKey||!!(0,i.ED)()&&e.ctrlKey;if(13===e.keyCode&&!t){(0,i.KX)()||e.preventDefault(),h();return}},[a,p,h]);return{textAreaRef:d,textAreaProps:{value:a,onChange:e=>{!a&&("@"===e||"/"===e)&&c?c(!0,e):(null==c||c(!1),o(e))},onKeyDown:g},submit:h,clear:m}},l=e=>{let{defaultValue:t="",onChange:n=a.Z,...i}=e,[l,s]=(0,r.useState)(t),{textAreaRef:u,textAreaProps:c,submit:d,clear:f}=o({value:l,setValue:(0,r.useCallback)(e=>{n(e),s(e)},[n]),...i});return{textAreaRef:u,textAreaProps:c,submit:d,clear:f,value:l,setValue:s}}},568218:function(e,t,n){n.d(t,{b:function(){return x}}),n(429996);var r=n(145625),a=n(156217),i=n(744947),o=n(530836),l=n(844108),s=n(93708),u=n(15348),c=n(46793),d=n(886421),f=n(216179),p=n(689337),m=n(17135),h=n(432626),g=n(640078),v=n(644367),b=n(492284),_=n(629738),y=n(627394);function x(e){let{disableToSend:t,onClickSendButton:n,onClickDisabledSendButton:x,disableDebounce:w=!1,...S}=e,C=(0,h.g1)(),k=(0,a.GL)("chatViewService"),T=(0,c.ae)(),M=(0,s.sQ)("chatInputStore",e=>T?e.activeSkillTypeMap[T]:void 0),N=(0,b.x)(),P=N===r.M.Sending||N===r.M.Receiving,E=t||N===r.M.Sending||N===r.M.Receiving,R=(0,f.g)(),{run:A}=(0,g.Z)(()=>{v.k.persist.info({eventName:"send_button_click"}),null==n||n()},{wait:300*!w,leading:!0,trailing:!1}),{run:j}=(0,g.Z)(()=>{v.k.persist.warning({eventName:"send_button_disabled_click"}),null==x||x()},{wait:300*!w,leading:!0,trailing:!1}),{run:z}=(0,g.Z)(async()=>{v.k.persist.info({eventName:"local_break_button_click"});let e=await (0,u.D)("chatInputService");if(await (null==e?void 0:e.emitBeforeBreakMessage())===!1){v.k.persist.warning({eventName:"local_break_button_interrupt"});return}v.k.persist.info({eventName:"local_break_button_break_message"});let t=(0,i.Sv)(o.useMessageStore.getState(),T||"");(0,m.trackEvent)("break_message",{...k.getCanvasTeaParams(),message_id:(null==t?void 0:t.message_id)||"",reply_id:(null==t?void 0:t.reply_id)||"",conversation_id:T||"",section_id:(null==t?void 0:t.section_id)||"",bot_id:(0,d.SR)(T),skill_id:(null==M?void 0:M.toString())||null,skill_name:(0,p.Nu)(M)||null,click_from:"click_break_message",scene:"chat_enter_bar",...R}),(0,l.D)(o.useMessageStore,T||""),T&&(0,u.D)("chatInputStoreService").then(e=>null==e?void 0:e.updateSendMessageStatus(T,r.M.Default))},{wait:300*!w,leading:!0,trailing:!1});return(0,y.jsx)(_.a,{breakBtnVisible:P,disableToSend:E,onClickBreakButton:z,breakBtnHoverText:C("input_box_stop_generating_tooltip"),onClickDisabledSendButton:j,onClickSendButton:A,onWrapperClick:()=>{v.k.persist.info({eventName:"send_and_break_button_click",meta:{break_btn_visible:P,send_message_status:N,disable_to_send:E,disable_to_send_from_props:t,hide_send_and_break_btn:S.hideSendAndBreakBtn,small:S.small,chat_id:T,skill_type:M||"generic"}})},...S})}},170193:function(e,t,n){n.d(t,{b:function(){return u}});var r=n(429996),a=n(669160),i=n.n(a);let o=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M21.1504 12C21.1504 6.94659 17.0534 2.84961 12 2.84961C6.94659 2.84961 2.84961 6.94659 2.84961 12C2.84961 17.0534 6.94659 21.1504 12 21.1504V22.75C6.06294 22.75 1.25 17.9371 1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75V21.1504C17.0534 21.1504 21.1504 17.0534 21.1504 12Z",fill:"currentColor"}),r.createElement("path",{d:"M7.5 11.5C7.5 9.61438 7.5 8.67157 8.08579 8.08579C8.67157 7.5 9.61438 7.5 11.5 7.5H12.5C14.3856 7.5 15.3284 7.5 15.9142 8.08579C16.5 8.67157 16.5 9.61438 16.5 11.5V12.5C16.5 14.3856 16.5 15.3284 15.9142 15.9142C15.3284 16.5 14.3856 16.5 12.5 16.5H11.5C9.61438 16.5 8.67157 16.5 8.08579 15.9142C7.5 15.3284 7.5 14.3856 7.5 12.5V11.5Z",fill:"currentColor"}));var l=n(627394);let s=(0,r.lazy)(()=>Promise.all([n.e("62192"),n.e("53358")]).then(n.bind(n,184365)).then(e=>({default:e.DbxTooltip})));function u(e){let{onClick:t,className:n,tooltipContent:a,enableTooltip:u=!0,...c}=e,d=(0,l.jsx)("div",{className:i()("size-34 rounded-full hover:bg-dbx-fill-trans-20-hover bg-dbx-fill-trans-20-default","overflow-hidden cursor-pointer flex items-center justify-center",n),onClick:t,...c,children:(0,l.jsx)(o,{className:"block size-16"})});return u&&a?(0,l.jsx)(r.Suspense,{fallback:d,children:(0,l.jsx)(s,{position:"bottom",content:a,children:d})}):d}},821906:function(e,t,n){n.d(t,{l:function(){return c}});var r=n(429996),a=n(669160),i=n.n(a),o=n(702534),l=n(344034),s=n(627394);let u=(0,r.lazy)(()=>Promise.all([n.e("62192"),n.e("53358")]).then(n.bind(n,184365)).then(e=>({default:e.DbxTooltip}))),c=e=>{let{"data-testid":t,disableToSend:n,sendMessageHoverText:a,onClick:c,className:d,onDisabledClick:f,...p}=e,m=(0,r.useMemo)(()=>(0,s.jsx)(o.Z,{id:"flow-end-msg-send",color:n?"grey-filled":"brand-filled",className:i()("size-34 !rounded-full flex items-center justify-center p-0 border-0 overflow-hidden",{"!bg-dbx-text-highlight":!n,"hover:!bg-dbx-fill-highlight-hover":!n,"active:!bg-dbx-fill-highlight-hover":!n,"!bg-dbx-fill-trans-20-disable":n}),disabled:n,"aria-disabled":n,"aria-label":"string"==typeof a?a:void 0,"data-testid":t,onClick:c,children:(0,s.jsx)(l.e,{className:i()("size-16",{"text-dbx-text-disable":n,"text-dbx-static-white":!n})})}),[n,a,c,t]),h=(0,r.useMemo)(()=>a?(0,s.jsx)(r.Suspense,{fallback:m,children:(0,s.jsx)(u,{content:a,position:"bottom",clickToHide:!0,children:(0,s.jsx)("div",{children:m})})}):m,[a,m]);return(0,s.jsx)("div",{className:i()("shrink-0 flex items-center h-[34px] send-btn-wrapper group",d),onClick:()=>{n&&(null==f||f())},...p,children:h})}},629738:function(e,t,n){n.d(t,{a:function(){return u}}),n(429996);var r=n(669160),a=n.n(r),i=n(821906),o=n(170193),l={small:"small-W_jGot","break-btn":"break-btn-fISNgC"},s=n(627394);function u(e){let{beforeNodes:t,hideSendAndBreakBtn:n,small:r,breakBtnVisible:u,sendMessageHoverText:c,breakBtnHoverText:d,sendMessageClassName:f,sendMessageButtonText:p,disableToSend:m,onClickSendButton:h,onClickDisabledSendButton:g,onClickBreakButton:v,enableLocalBeakButtonTooltip:b=!0,onWrapperClick:_}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-8",onClick:_,children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:t}),n?null:(0,s.jsxs)("div",{className:"flex size-34 items-center justify-center",children:[(0,s.jsx)(o.b,{onClick:v,className:a()(l["break-btn"],{"!hidden":!u,[l.small]:r},"size-34 rounded-full cursor-pointer"),tooltipContent:d,enableTooltip:b,"data-testid":"chat_input_local_break_button"}),(0,s.jsx)(i.l,{"data-testid":"chat_input_send_button",disableToSend:m,sendMessageHoverText:c,buttonText:p,className:a()(f,{"!hidden":u,[l.small]:r}),onClick:h,onDisabledClick:g})]})]})}},877754:function(e,t,n){n.d(t,{f:function(){return m}});var r=n(429996),a=n(474227),i=n(669160),o=n.n(i),l=n(115866),s=n(574367),u=n(487149),c=n(218708),d=n(428884),f=n(442249),p=n(627394);let m=(0,r.memo)(function(e){let{list:t,className:n,moreButtonPopoverProps:a,small:i,gap:m=6}=e,h=(0,l.Z)((e,t,n)=>(0,p.jsx)(r.Fragment,{children:e({small:i,isOverflow:n})},t)),g=(0,r.useCallback)((e,t)=>h(e,t),[h]),v=(0,l.Z)(e=>(0,p.jsxs)(u.po,{children:[(0,p.jsx)(u.im,{children:(0,p.jsx)(f.g,{className:"size-34 p-9",children:(0,p.jsx)(c.V,{className:"size-16"})})}),(0,p.jsx)(u.Jt,{className:null==a?void 0:a.contentClassName,children:e.map((e,t)=>h(e,t,!0))})]})),b={"--chat-input-tool-button-overflow-list-gap":`${m}px`},_=(0,s.Z)(t),y=(0,r.useMemo)(()=>Array.from({length:t.length}).map((e,t)=>e=>{var n,r;return null===(r=_.current)||void 0===r?void 0:null===(n=r[t])||void 0===n?void 0:n.call(r,e)}),[t.length]);return(0,p.jsx)(d.D,{className:o()("overflow-list-y0YOV1",n),style:b,items:y,overflowRenderer:v,visibleItemRenderer:g,collapseFrom:"end"})},a.Z)},442249:function(e,t,n){n.d(t,{g:function(){return d}});var r=n(429996),a=n(118200),i=n(669160),o=n.n(i),l=n(184365),s=n(487149),u=n(702534),c=n(627394);let d=(0,r.forwardRef)(function(e,t){let{disabled:n,className:r,children:i,isOverflow:d,tip:f,disableTip:p,leadingIcon:m,...h}=e,g=d?(0,c.jsx)(s.Xv,{disabled:n,onClick:(0,a.Z)({restProps:h},"restProps.onClick"),onMouseUp:(0,a.Z)({restProps:h},"restProps.onMouseUp"),onMouseDown:(0,a.Z)({restProps:h},"restProps.onMouseDown"),className:r,icon:m,children:i}):(0,c.jsx)(u.Z,{color:"grey-outline",variant:"rectangle",leadingIcon:m,disabled:n,...h,ref:t,className:o()("flex h-34 rounded-full py-5 px-12 max-dbx-xs:px-10 !outline-dbx-line-7",r),children:i});return n&&p?(0,c.jsx)(l.DbxTooltip,{position:"bottom",content:p,children:g}):f?(0,c.jsx)(l.DbxTooltip,{content:f,position:"bottom",children:g}):g})},329666:function(e,t,n){n.d(t,{RG:function(){return s},jr:function(){return c}});var r=n(721557),a=n(669384),i=n(689337),o=n(17135);let l=[r.KP.GeneratePodcast],s=e=>{let{presetPrompt:t}=e;if(t&&l.includes(t))return!0},u=e=>{let[t]=e||[];return t?"file"===t.type?"ai-space"===t.from?"upload_ai_space_file":"upload_local_file":"link"===t.type?"web_link":void 0:"prompt"},c=e=>{let{presetPrompt:t,attachments:n,clickFrom:r}=e;(t&&l.includes(t)||"direct_send"===r)&&(0,o.trackEvent)("start_generate_podcast",{skill_id:a.W.SkillAiPodcast.toString(),skill_name:(0,i.Nu)(a.W.SkillAiPodcast),create_way:u(n),click_from:r,preset_prompt:t||"direct_send"})}},838372:function(e,t,n){n.d(t,{A:function(){return i},G:function(){return o}});var r=n(721557);let a={[r.KP.SummarizeSingle]:"summarize",[r.KP.SummarizeMultiple]:"multi_summarize",[r.KP.SummarizeWebsite]:"link_summarize"},i=e=>{let{presetPrompt:t}=e;if(t&&t in a)return!0},o=e=>{if(e&&e in a)return{command:a[e]}}},730182:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(429996),a=n(93708);let i=()=>{let{settingData:e}=(0,a.sQ)("launcherRawSettingStore"),[t,n]=(0,r.useState)(!e);return(0,r.useEffect)(()=>{n(!e)},[e]),{data:e,loading:t}}},139503:function(e,t,n){n.d(t,{j:function(){return a}});var r=n(730182);function a(){let{data:e}=(0,r.h)(),{disable_upload_image:t=!1}=e||{};return!t}},601457:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},757658:function(e,t,n){n.d(t,{s:function(){return a}});var r=n(429996);let a=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M21.0082 6.43261C21.3244 6.12129 21.8347 6.12303 22.1487 6.43652C22.4627 6.75002 22.4609 7.25605 22.1447 7.56738L11.3999 18.1475C10.8493 18.6896 9.96103 18.6896 9.41046 18.1475L2.85521 11.6924C2.53906 11.381 2.53731 10.875 2.85127 10.5615C3.1457 10.2675 3.6129 10.2475 3.93068 10.5029L3.99175 10.5576L10.4052 16.8721L21.0082 6.43261Z",fill:"currentColor"}))},257695:function(e,t,n){n.d(t,{H:function(){return a}});var r=n(429996);let a=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M9.48242 12.4434C10.4736 12.4434 11.2849 13.2455 11.2852 14.2422V21.7275C11.2852 22.1693 10.9272 22.5273 10.4854 22.5273C10.0435 22.5273 9.68555 22.1694 9.68555 21.7275V14.2422C9.68533 14.1347 9.59553 14.042 9.48242 14.042H2C1.55818 14.042 1.2002 13.684 1.2002 13.2422C1.20042 12.8006 1.55831 12.4434 2 12.4434H9.48242ZM13.2422 1.2002C13.684 1.2002 14.042 1.55819 14.042 2V9.48535C14.042 9.59289 14.132 9.68541 14.2451 9.68555H21.7275C22.1694 9.68555 22.5273 10.0435 22.5273 10.4854C22.5273 10.9272 22.1694 11.2852 21.7275 11.2852H14.2451C13.254 11.285 12.4434 10.4821 12.4434 9.48535V2C12.4434 1.55835 12.8006 1.20046 13.2422 1.2002Z",fill:"currentColor"}))},734181:function(e,t,n){n.d(t,{K:function(){return a}});var r=n(429996);let a=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M4.50488 10.187C4.94654 10.1871 5.30447 10.5452 5.30469 10.9868V18.4722C5.30474 18.5797 5.3947 18.6722 5.50781 18.6724H12.9902C13.4319 18.6724 13.7898 19.0305 13.79 19.4722C13.79 19.9139 13.432 20.2719 12.9902 20.272H5.50781C4.51665 20.2718 3.70611 19.469 3.70605 18.4722V10.9868C3.70627 10.5453 4.06341 10.1873 4.50488 10.187Z",fill:"currentColor"}),r.createElement("path",{d:"M18.4922 3.72803C19.4832 3.72816 20.2937 4.53122 20.2939 5.52783V13.0132C20.2939 13.4548 19.9367 13.8127 19.4951 13.813C19.0533 13.813 18.6953 13.455 18.6953 13.0132V5.52783C18.6951 5.42045 18.6052 5.32777 18.4922 5.32764H11.0098C10.5679 5.32764 10.21 4.96966 10.21 4.52783C10.2102 4.08619 10.5681 3.72803 11.0098 3.72803H18.4922Z",fill:"currentColor"}))},218708:function(e,t,n){n.d(t,{V:function(){return a}});var r=n(429996);let a=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M5 10.5C5.82843 10.5 6.5 11.1716 6.5 12C6.5 12.8284 5.82843 13.5 5 13.5C4.17157 13.5 3.5 12.8284 3.5 12C3.5 11.1716 4.17157 10.5 5 10.5Z",fill:"currentColor"}),r.createElement("path",{d:"M12 10.5C12.8284 10.5 13.5 11.1716 13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5Z",fill:"currentColor"}),r.createElement("path",{d:"M19 10.5C19.8284 10.5 20.5 11.1716 20.5 12C20.5 12.8284 19.8284 13.5 19 13.5C18.1716 13.5 17.5 12.8284 17.5 12C17.5 11.1716 18.1716 10.5 19 10.5Z",fill:"currentColor"}))},840799:function(e,t,n){n.d(t,{ZP:function(){return j}});var r=Function.prototype.toString,a=Object.create,i=Object.prototype.toString,o=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}(),l="undefined"!=typeof WeakMap?function(){return new WeakMap}:function(){return new o};function s(e){if(!e)return a(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:a(e);if(t&&~r.call(t).indexOf("[native code]"))try{return new t}catch(e){}return a(e)}var u="g"===/test/g.flags?function(e){return e.flags}:function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function c(e){var t=i.call(e);return t.substring(8,t.length-1)}var d="undefined"!=typeof Symbol?function(e){return e[Symbol.toStringTag]||c(e)}:c,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,g=Object.prototype,v=g.hasOwnProperty,b=g.propertyIsEnumerable,_="function"==typeof h,y=_?function(e){return m(e).concat(h(e))}:m;function x(e,t,n){for(var r=y(e),a=0,i=r.length,o=void 0,l=void 0;a<i;++a)if("callee"!==(o=r[a])&&"caller"!==o){if(!(l=p(e,o))){t[o]=n.copier(e[o],n);continue}l.get||l.set||(l.value=n.copier(l.value,n));try{f(t,o,l)}catch(e){t[o]=l.value}}return t}function w(e,t){return e.slice(0)}function S(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(e,r){n.set(r,t.copier(e,t))}),n}function C(e,t){return new t.Constructor(e.valueOf())}function k(e,t){return e}function T(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(e){n.add(t.copier(e,t))}),n}var M=Array.isArray,N=Object.assign,P=Object.getPrototypeOf||function(e){return e.__proto__},E={array:function(e,t){var n=new t.Constructor;t.cache.set(e,n);for(var r=0,a=e.length;r<a;++r)n[r]=t.copier(e[r],t);return n},arrayBuffer:w,blob:function(e,t){return e.slice(0,e.size,e.type)},dataView:function(e,t){return new t.Constructor(w(e.buffer))},date:function(e,t){return new t.Constructor(e.getTime())},error:k,map:S,object:_?function(e,t){var n=s(t.prototype);for(var r in t.cache.set(e,n),e)v.call(e,r)&&(n[r]=t.copier(e[r],t));for(var a=h(e),i=0,o=a.length,l=void 0;i<o;++i)l=a[i],b.call(e,l)&&(n[l]=t.copier(e[l],t));return n}:function(e,t){var n=s(t.prototype);for(var r in t.cache.set(e,n),e)v.call(e,r)&&(n[r]=t.copier(e[r],t));return n},regExp:function(e,t){var n=new t.Constructor(e.source,u(e));return n.lastIndex=e.lastIndex,n},set:T},R=N({},E,{array:function(e,t){var n=new t.Constructor;return t.cache.set(e,n),x(e,n,t)},map:function(e,t){return x(e,S(e,t),t)},object:function(e,t){var n=s(t.prototype);return t.cache.set(e,n),x(e,n,t)},set:function(e,t){return x(e,T(e,t),t)}});function A(e){var t,n={Arguments:(t=N({},E,e)).object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:C,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:C,Object:t.object,Promise:k,RegExp:t.regExp,Set:t.set,String:C,WeakMap:k,WeakSet:k,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer},r=n.Array,a=n.Object;function i(e,t){if(t.prototype=t.Constructor=void 0,!e||"object"!=typeof e)return e;if(t.cache.has(e))return t.cache.get(e);if(t.prototype=P(e),t.Constructor=t.prototype&&t.prototype.constructor,!t.Constructor||t.Constructor===Object)return a(e,t);if(M(e))return r(e,t);var i=n[d(e)];return i?i(e,t):"function"==typeof e.then?e:a(e,t)}return function(e){return i(e,{Constructor:void 0,cache:l(),copier:i,prototype:void 0})}}A(N({},R,{}));var j=A({})}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["45429"],{983785:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M21.06 7.118a1.5 1.5 0 0 1 0 2.121l-7.646 7.647a2 2 0 0 1-2.828 0L2.939 9.239a1.5 1.5 0 1 1 2.122-2.121L12 14.058l6.94-6.94a1.5 1.5 0 0 1 2.12 0",clipRule:"evenodd"})}),{}))},592386:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.182 21.06a1.5 1.5 0 0 1-2.121 0l-7.647-7.646a2 2 0 0 1 0-2.828l7.647-7.647a1.5 1.5 0 1 1 2.12 2.122L9.244 12l6.939 6.94a1.5 1.5 0 0 1 0 2.12",clipRule:"evenodd"})}),{}))},766908:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.74 2.94a1.5 1.5 0 0 1 2.12 0l7.647 7.646a2 2 0 0 1 0 2.828l-7.646 7.647a1.5 1.5 0 0 1-2.122-2.122L14.68 12l-6.94-6.94a1.5 1.5 0 0 1 0-2.12",clipRule:"evenodd"})}),{}))},554479:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M21.707 17.293a1 1 0 0 1-1.414 0L12 9l-8.293 8.293a1 1 0 0 1-1.414-1.414l8.293-8.293a2 2 0 0 1 2.828 0l8.293 8.293a1 1 0 0 1 0 1.414"})}),{}))},650543:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M21 3.5V17a2 2 0 0 1-2 2h-2v-2h2V3.5H9v2h5.857c1.184 0 2.143.895 2.143 2v13c0 1.105-.96 2-2.143 2H5.143C3.959 22.5 3 21.605 3 20.5v-13c0-1.105.96-2 2.143-2H7v-2a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2m-6.143 4H5.143v13h9.714z",clipRule:"evenodd"})}),{}))},476698:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M19.207 12.707a1 1 0 0 0-1.414-1.414L13 16.086V2a1 1 0 1 0-2 0v14.086l-4.793-4.793a1 1 0 0 0-1.414 1.414l6.5 6.5c.195.195.45.293.706.293H5a1 1 0 1 0 0 2h14a1 1 0 1 0 0-2h-6.999a1 1 0 0 0 .706-.293z"})}),{}))},321595:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M20.796 12c0-.672-.076-1.326-.218-1.954h-3.772a23.5 23.5 0 0 1 0 3.909h3.771A8.8 8.8 0 0 0 20.796 12m-5.952-1.954H9.156a21.5 21.5 0 0 0 0 3.909h5.688a21.5 21.5 0 0 0 0-3.91m1.71-1.955h3.327a8.83 8.83 0 0 0-4.728-4.305c.616 1.147 1.102 2.623 1.4 4.305M12 3.205c-.112 0-.851.188-1.676 2.002-.362.797-.669 1.774-.889 2.884h5.13c-.22-1.11-.527-2.087-.89-2.884-.824-1.814-1.563-2.002-1.675-2.002m-3.153.581A8.83 8.83 0 0 0 4.12 8.091h3.328c.298-1.682.784-3.158 1.4-4.305m-1.653 6.26H3.422a8.8 8.8 0 0 0 0 3.909h3.772a23.5 23.5 0 0 1 0-3.91m.253 5.863H4.119a8.83 8.83 0 0 0 4.728 4.305c-.616-1.147-1.102-2.623-1.4-4.305m7.706 4.305a8.83 8.83 0 0 0 4.728-4.305h-3.328c-.298 1.682-.784 3.158-1.4 4.305m-.588-4.305h-5.13c.22 1.11.527 2.087.89 2.884.824 1.814 1.563 2.003 1.675 2.003s.851-.19 1.676-2.003c.362-.797.669-1.774.889-2.884M12 22.75C6.063 22.75 1.25 17.937 1.25 12S6.063 1.25 12 1.25 22.75 6.063 22.75 12 17.937 22.75 12 22.75"})}),{}))},254228:function(e,l,n){n.d(l,{default:function(){return o}}),n(713738);var t=n(430261),r=n(345660),o=(0,t.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.22 3.78a6.076 6.076 0 0 0-8.592 0l-1.105 1.104A1.008 1.008 0 0 0 11.95 6.31l1.105-1.105a4.06 4.06 0 1 1 5.74 5.74l-1.177 1.179a1.008 1.008 0 0 0 1.426 1.425l1.178-1.177a6.076 6.076 0 0 0 0-8.592m-6.616 15.208a1.008 1.008 0 1 0-1.426-1.425l-1.232 1.232a4.059 4.059 0 1 1-5.74-5.74l1.159-1.16a1.008 1.008 0 0 0-1.426-1.426l-1.16 1.16a6.076 6.076 0 0 0 8.593 8.592zm-5.147-4.8a1.008 1.008 0 0 0 1.426 1.426l5.79-5.79a1.008 1.008 0 0 0-1.426-1.426z",clipRule:"evenodd"})}),{}))},552148:function(e,l,n){n.d(l,{Carousel:function(){return m}});var t=n(592386),r=n(766908),o=n(713738),i=n(899727),a=n(812650),s=n.n(a),u=n(366119),d=n(345660);let c=e=>{let{children:l,className:n}=e;return(0,d.jsx)("div",{"data-testid":"carousel-item",className:s()("carousel-item-UlLgum",n,"carousel-item"),children:l})};var v={carousel:"carousel-mbX4UF",arrow:"arrow-OoWJKa",large:"large-BRapFq",medium:"medium-KJiNc7",small:"small-bsAKXa","left-arrow":"left-arrow-wzCYG9",leftArrow:"left-arrow-wzCYG9","right-arrow":"right-arrow-oESvMs",rightArrow:"right-arrow-oESvMs","no-border":"no-border-laxmhn",noBorder:"no-border-laxmhn","carousel-content":"carousel-content-tqLItA",carouselContent:"carousel-content-tqLItA",left:"left-uiKUPm",right:"right-Oz6E65","carousel-row":"carousel-row-oHVyNz",carouselRow:"carousel-row-oHVyNz"};let h=e=>{let{enableArrowBorder:l,enableArrowShalldow:n,className:r,onClick:o,arrowSize:i="small"}=e;return(0,d.jsx)("div",{className:s()(v["arrow-container"],{[v.left]:n},"arrow-container-left",v[i],{[v["no-border"]]:!l}),children:(0,d.jsx)("div",{onClick:o,className:s()(r,v["left-arrow"],v.arrow,v[i],"left-arrow",{[v["no-border"]]:!l}),children:(0,d.jsx)(t.default,{style:{transform:"scaleX(-1)"}})})})},f=e=>{let{enableArrowBorder:l,enableArrowShalldow:n,className:t,onClick:o,arrowSize:i="small"}=e;return(0,d.jsx)("div",{className:s()(v["arrow-container"],{[v.right]:n},"arrow-container-right",v[i],{[v["no-border"]]:!l}),children:(0,d.jsx)("div",{onClick:o,className:s()(t,v["right-arrow"],v.arrow,v[i],"right-arrow",{[v["no-border"]]:!l}),children:(0,d.jsx)(r.default,{})})})},m=(0,o.forwardRef)(function(e,l){let{rows:n=1,column:t,className:r,contentClassName:a,itemClassName:m,leftArrowClassName:w,rightArrowClassName:g,carouselRowClassName:x,children:p,enableArrowShalldow:_=!0,scrollStep:C=.5,enableArrowBorder:L=!0,onScroll:k,reportEvent:j,arrowSize:b="small",customUpdateArrowVisible:M,onScrollRight:y}=e,E=(0,o.useRef)(null),[F,R]=(0,o.useState)(!1),[S,B]=(0,o.useState)(!1),[T,I]=(0,o.useState)(0);if((0,o.useImperativeHandle)(l,()=>({itemsContainerRef:E})),!p)return null;let A=o.Children.map(p,(e,l)=>(0,d.jsx)(c,{className:m,children:e},l)),N=(0,i.default)(A,null!=t?t:Math.ceil(((null==A?void 0:A.length)||0)/n)),H=Array.from(Array(n).fill(null)).map((e,l)=>(0,d.jsx)("div",{className:s()(v["carousel-row"],"carousel-row",x),children:N[l]},l)),{run:z}=(0,u.default)(e=>null==j?void 0:j.slideReport(e),{wait:100,leading:!1,trailing:!0});return(0,o.useEffect)(()=>{var e,l;let n=()=>{if("function"==typeof M){let{shouldShowArrowLeft:e,shouldShowArrowRight:l}=M();R(e),B(l)}else t()},t=()=>{var e,l,n,t,r,o;let i=Math.ceil(null!==(t=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0),a=Math.abs((null!==(r=null==E?void 0:null===(l=E.current)||void 0===l?void 0:l.scrollWidth)&&void 0!==r?r:0)-(null!==(o=null==E?void 0:null===(n=E.current)||void 0===n?void 0:n.clientWidth)&&void 0!==o?o:0)-i)>2;R(i>0),B(a)},r=()=>{var e,l;null==k||k(),n();let t=Math.ceil(null!==(l=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==l?l:0),r="left";t>T&&(r="right",null==y||y()),z(r),I(t)};return n(),null==E||null===(e=E.current)||void 0===e||e.addEventListener("scroll",r),null===(l=window)||void 0===l||l.addEventListener("resize",n),()=>{var e,l;null==E||null===(e=E.current)||void 0===e||e.removeEventListener("scroll",r),null===(l=window)||void 0===l||l.removeEventListener("resize",n)}},[p]),(0,d.jsxs)("div",{className:s()(v.carousel,"carousel",r),children:[F&&(0,d.jsx)(h,{onClick:()=>{var e,l,n,t;(null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.scrollLeft)!==void 0&&(null==E?void 0:null===(l=E.current)||void 0===l?void 0:l.clientWidth)&&(null===(n=(t=E.current).scrollTo)||void 0===n||n.call(t,{left:Math.max(E.current.scrollLeft-E.current.clientWidth*C,0),behavior:"smooth"}))},enableArrowBorder:L,enableArrowShalldow:_,className:w,arrowSize:b}),(0,d.jsx)("div",{className:s()(v["carousel-content"],"carousel-content",{[v.left]:F,[v.right]:S},a),"data-left":F,"data-right":S,ref:E,children:H}),S&&(0,d.jsx)(f,{onClick:()=>{var e,l,n,t,r,o,i,a,s;let u=null!==(n=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0;if((null==E?void 0:null===(l=E.current)||void 0===l?void 0:l.scrollLeft)!==void 0&&u){let e=(null!==(a=null==E?void 0:null===(t=E.current)||void 0===t?void 0:t.scrollWidth)&&void 0!==a?a:0)-(null!==(s=null==E?void 0:null===(r=E.current)||void 0===r?void 0:r.clientWidth)&&void 0!==s?s:0);null===(o=(i=E.current).scrollTo)||void 0===o||o.call(i,{left:Math.min(E.current.scrollLeft+u*C,e),behavior:"smooth"}),null==y||y()}},enableArrowBorder:L,enableArrowShalldow:_,className:g,arrowSize:b})]})})},971210:function(e,l,n){n.d(l,{useComputeValue:function(){return t}});let t=e=>e()},626803:function(e,l,n){n.d(l,{useForceUpdate:function(){return r}});var t=n(713738);let r=()=>(0,t.useReducer)(e=>e+1,0)},828617:function(e,l,n){n.d(l,{useLatestFunction:function(){return o}});var t=n(713738),r=n(580622);function o(e){let l=(0,r.default)(e),n=(0,t.useCallback)(function(){for(var e,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return null===(e=l.current)||void 0===e?void 0:e.call(l,...t)},[]);return e&&n}},870693:function(e,l,n){n.d(l,{retryLoad:function(){return t}});let t=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise((r,o)=>{e().then(r).catch(i=>{setTimeout(()=>{if(1===l){o(i);return}t(e,l-1,n).then(r,o)},n)})})}},725172:function(e,l,n){n.d(l,{ScrollViewProvider:function(){return a},useScrollView:function(){return s}});var t=n(713738),r=n(161284),o=n(345660);let i=(0,t.createContext)(null),a=e=>{let{containerRef:l,controller:n,children:t}=e,{width:a,height:s}=(0,r.useResizeObserver)({ref:l});return(0,o.jsx)(i.Provider,{value:{ref:l,width:a,height:s,...n},children:t})},s=()=>{let e=(0,t.useContext)(i);if(!e)throw Error("require ScrollViewContext when calling useScrollView");return e}},274372:function(e,l,n){n.d(l,{MessageTextContentLitePure:function(){return H}});var t=n(713738),r=n(453157),o=n(436114),i=n(217957),a=n(467420),s=n(981483),u=n(101874),d=n(629006),c=n(674157),v=n(847857),h=n(992528),f=n(128614),m=n(777422),w=n(915299),g=n(102249),x=n(7625),p=n(992847),_=n(458524),C=n(255804),L=n(559891),k=n(643404),j=n(460821),b=n(573966),M=n(379575),y=n(602530),E=n(712980),F=n(241107),R=n(959790),S=n(481923),B=n(540498),T=n(345660);let I=(0,L.withSuspense)((0,t.lazy)(()=>(0,k.retryLoadWithFallBack)({fn:()=>Promise.resolve().then(n.bind(n,951678)).then(e=>({default:e.CodeBlockSplitter}))}))),A=()=>[],N=(e,l,n)=>{var o;let i=(0,w.useTranslateFn)(),{content:a,meta:s,contentType:u}=(0,j.useCompareMemo)((()=>{let t=l||(0,v.getMessageText)(e,!1,(0,d.isEmptyMessage)(e)?"":i("chat_unsupported_message_type")),{meta_infos:r,content_type:o}=e||{};return{content:t,meta:n||r,contentType:o}})(),r.shallow),{insertingMetaInfos:c}=(0,t.useMemo)(()=>u===_.ContentType.Text||n?{insertingMetaInfos:s?(0,F.batchConvertMetaInfoToUnionMetaInfo)(s):[]}:{},[s,a]);return{content:a,insertingMetaInfos:c,refInfoData:(null==e?void 0:null===(o=e.ext)||void 0===o?void 0:o.ref_info_data)?JSON.parse(e.ext.ref_info_data):[]}},H=e=>{var l,n,r;let{inView:v,customRenderOptions:_,message:L,theme:k,messageBlockText:j,messageBlockMeta:F}=e,H=(0,w.useTranslateFn)(),{getPopupContainer:z}=(0,h.useChat)(),V=(0,d.isMessageCached)(L),O=(0,d.isMessageFailed)(L),D=(0,d.isBrokenMessage)(L),W=(0,c.isMessageFinished)(L),P=(0,t.useRef)(null),U=(0,g.useFGValue)(x.FGLocalDebugKeys.forceDarkMode,{source:p.FGBuiltinNames.debugStorage,defaultValue:!1}),{imageEventCallbacks:K,renderImagePreview:G}=(0,f.useImagePreview)({},[],u.ContentSource.Original),q=(0,t.useCallback)(e=>(0,T.jsx)(I,{...e,viewOnly:!0,message:L}),[null==L?void 0:L.message_id]),J=(0,t.useMemo)(()=>{var e;return{CodeBlock:q,...null!==(e=null==_?void 0:_.customSlots)&&void 0!==e?e:{}}},[L,null==_?void 0:_.customSlots]),X=(e,l)=>{let{exts:n,url:t,openLink:r}=l;if(e.preventDefault(),e.stopPropagation(),n.type===a.LinkType.wiki)r(C.ExternalLink.transformExternalLink(n.wiki_link||""));else if(n.type===a.LinkType.normal)(null==t?void 0:t.includes(B.indexParams))&&er("footnote_link_click"),r(C.ExternalLink.transformExternalLink(t));else if(n.type===a.LinkType.coco){let e=(0,R.fromReplacementLink)(t);e&&(r(e),(0,m.trackEvent)("first_party_card_h5_share_page_click",{url:e,message_id:null==L?void 0:L.message_id,click_from:"link"}))}},Y=o.default,{content:Q,insertingMetaInfos:Z,refInfoData:$}=N(L,j,F),ee=null!==(n=null==_?void 0:_.overrideTextContent)&&void 0!==n?n:Q,el=(0,t.useMemo)(()=>({message:L,metaInfos:null!=Z?Z:[],messageText:null!=ee?ee:"",onLinkClick:X,onSendMessage:Y,viewOnly:!0,options:{getPopupContainer:z,enableHightLight:!0},refInfoData:$,mdBoxRef:P}),[Z,ee,$]),en=(0,t.useMemo)(()=>{var e;return(0,i.default)(ee)||""===ee&&(!Z||0===Z.length)?[]:(null!==(e=null==_?void 0:_.getInitialReplacementElements)&&void 0!==e?e:S.getInsertElements)(el)},[el,null==_?void 0:_.getInitialReplacementElements]),et=((null==_?void 0:_.useCustomReplacementElements)||A)(el),er=o.default,eo=(0,b.useEstablished)(null!=v&&v),{inView:ei}=(0,M.useFirstScreenInView)({ref:()=>{var e,l;return null!==(l=null===(e=P.current)||void 0===e?void 0:e.getRootElement())&&void 0!==l?l:null}}),ea={onImageRender:e=>{let{src:l}=e;l&&K.onImageRender(l)},onImageClick:(e,l)=>{let{src:n}=l;n&&K.onImageClick(e,n)},onLinkClick:X,onLinkRender:e=>{var l;(null===(l=e.url)||void 0===l?void 0:l.includes(B.indexParams))&&er("footnote_link_show")},onSendMessage:Y},es=null==_?void 0:null===(l=_.useCustomEventCallbacks)||void 0===l?void 0:l.call(_,{message:L,defaultCallbacks:ea}),eu=null!==(r=null==_?void 0:_.getCodebarConfig)&&void 0!==r?r:(e,l)=>{var n;let{codeBlocks:t}=e,{isFinished:r,isFailed:o,isBroken:i}=l,a=null===(n=t.at(0))||void 0===n?void 0:n.language;return"compute".startsWith(null!=a?a:"")?{finished:r||o||i,defaultExpand:!1,showCodeBar:!0,expandedFinishedText:H("deepResearch_tool_genCode_done"),unExpandFinishedText:H("deepResearch_tool_genCode_done"),codeBarLoadingText:H("deepResearch_tool_genCode"),compact:!0}:{finished:r||o||i,showCodeBar:!1}};if(!L)return null;let ed=o.default;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(s.MdBoxLazy,{ref:P,theme:k&&"samantha"!==k?"default":"samantha",mode:U?"dark":"light",imageOptions:{responsiveNaturalSize:{maxWidth:1/0,maxHeight:600},showTitle:!0,centered:!0,forceHttps:!0},markDown:ee||"",slots:J,smooth:{enable:!W,maxFirstTextSmoothSize:V?9999:10},translate:{copyTitle:H("message_long_press_copy"),codeBarLoadingText:H("code_block_compute_switch_button_running"),codeBarExpandedFinishedText:H("code_block_switch_button_hide_details"),codeBarUnExpandFinishedText:H("code_block_switch_button_show_details")},eventCallbacks:{...ea,...es},showEllipsis:D||O,showIndicator:!(W||O),autoFixSyntax:(eo||ei)&&{autoFixEnding:D,imageEmphasisTitle:!0},insertedElements:[...et,...en],autoFitRTL:(0,y.isRTL)(),onHop:ed,forceBrInterSpacing:!0,enhancedCopy:!0,customLink:e=>!(0,E.isMobileNativeLink)(e),codeBarConfig:e=>eu(e,{isFinished:W,isBroken:D,isFailed:O}),footnote:!1,enabledHtmlTags:["doubaocanvas"],renderHtml:e=>{let{tagName:l,children:n}=e;if("doubaocanvas"===l)return(0,T.jsx)(T.Fragment,{children:n})}}),G()]})}}}]);
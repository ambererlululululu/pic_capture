"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["79630"],{269020:function(e,t){t.default={"font-h1":"font-h1-KTxXpy",fontH1:"font-h1-KTxXpy","font-footnote":"font-footnote-kglmPG",fontFootnote:"font-footnote-kglmPG","add-button":"add-button-_voeLs",addButton:"add-button-_voeLs","add-button-exiting":"add-button-exiting-UeLGBy",addButtonExiting:"add-button-exiting-UeLGBy","button-fadeout":"button-fadeout-XvSB3u",buttonFadeout:"button-fadeout-XvSB3u","add-button-exited":"add-button-exited-bkw5Ia",addButtonExited:"add-button-exited-bkw5Ia",fade:"fade-LB7zgY","fade-exiting":"fade-exiting-t91ga6",fadeExiting:"fade-exiting-t91ga6",fadeout:"fadeout-RhE3jr","fade-exited":"fade-exited-D64hA0",fadeExited:"fade-exited-D64hA0"}},780044:function(e,t,a){a.d(t,{useIsFirstChat:function(){return g},useTotalUnreadCount:function(){return v}});var o=a(713738),n=a(865607),r=a(486677),i=a(217957),l=a(874578),s=a(230932),d=a(651610),u=a(165994),c=a(178230),h=a(83990),m=a(637319);let g=e=>(0,h.useMessageStore)(t=>(0,m.isFirstChatSelector)(t,e),n.shallow),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useRef)([]),a=(0,s.useFeedStore)(e=>(0,r.default)(e.lastMessageIndexMap).filter(e=>!(0,i.default)(e[1])),n.shallow),g=(0,h.useMessageStore)(o=>{let{conversationMap:n,conversationLinks:r}=s.useFeedStore.getState(),u=[],c=(0,l.default)(a,(t,a)=>{var l;let[s,c]=a;if(!r.some(e=>e.conversationId===s))return t;let h=n[s],g=!(null===(l=e.conversationTypes)||void 0===l?void 0:l.length)||!(0,i.default)(h.conversation_type)&&e.conversationTypes.includes(h.conversation_type)?(0,d.getUnreadCount)({message_index:(0,m.getLastMessageIndexForUnreadCountSelector)(o,(null==h?void 0:h.conversation_id)||"",c),read_message_index:c.read_message_index}):0;return g>0&&u.push(s),t+g},0);return t.current=u,c}),v=(0,u.default)(g,()=>!0);if(g!==v){var f;c.logger.persist.info({eventName:"unread_count_change",meta:{count:g,prev_count:v,conversation_ids:t.current.join(","),conversation_types:null===(f=e.conversationTypes)||void 0===f?void 0:f.join(",")}})}return g}},442571:function(e,t,a){a.d(t,{isAttachmentNameReviewNotCompliant:function(){return s},isAttachmentParseFailed:function(){return l},isBotChat:function(){return i},isCocoBotType:function(){return d}});var o=a(845647),n=a(722038),r=a(773289);let i=e=>!!e&&[o.ChatType.Bot,o.ChatType.ProfileBot].includes(e);function l(e){return e===n.ParseState.ParseState_Failed}function s(e){return e===n.ReviewState.ReviewState_NotCompliant}let d=e=>e===r.BotType.Coco||e===r.BotType.CocoWeb},87109:function(e,t,a){a.d(t,{withChatProviderContext:function(){return i}});var o=a(713738),n=a(788498),r=a(345660);function i(e){let t=(0,o.forwardRef)((t,a)=>{let{children:o,className:i,style:l,...s}=t;return(0,r.jsx)(n.ChatProvider,{...s,children:(0,r.jsx)(e,{ref:a,...t,className:i,style:l,children:o})})});return t.displayName=`ChatProviderWrapped${e.displayName||e.name}`,t}},241709:function(e,t,a){a.d(t,{LargeAvatarUI:function(){return A}});var o=a(870539),n=a(713738),r=a(812650),i=a.n(r),l=a(442571),s=a(922851),d=a(992528),u=a(831566),c=a(915299),h=a(198660),m=a(424785),g=a(178230),v=a(345660);let f=e=>(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:24,fill:"none",viewBox:"0 0 16 24",...e,children:(0,v.jsx)("path",{fill:"currentColor",d:"M7.69 19.14q-1.566 0-2.734-.56-1.163-.561-1.809-1.572-.647-1.01-.647-2.363 0-.714.112-1.268.12-.555.284-.997.172-.45.344-.845.172-.396.283-.786.113-.39.113-.832 0-.218-.027-.475a6 6 0 0 1-.02-.39q0-.218.126-.356a.42.42 0 0 1 .33-.14q.35 0 .707.212.362.211.647.588.29.369.442.858l-.33.066q.158-.278.198-.488.045-.219.046-.443a3.4 3.4 0 0 0-.244-1.241 5.6 5.6 0 0 0-.594-1.116 13 13 0 0 0-.747-.997.9.9 0 0 1-.158-.244.6.6 0 0 1-.053-.251q0-.317.27-.476.278-.165.747-.165.872 0 1.836.212a9 9 0 0 1 1.92.647q.959.435 1.817 1.116a7.6 7.6 0 0 1 1.518 1.604 7.5 7.5 0 0 1 1.05 2.12q.383 1.195.383 2.674 0 1.326-.416 2.416a5.2 5.2 0 0 1-1.182 1.869q-.773.78-1.842 1.201-1.063.423-2.37.423m.152-1.854q.785 0 1.3-.344.522-.343.78-.904.257-.562.257-1.215a3.6 3.6 0 0 0-.251-1.3 3.9 3.9 0 0 0-.733-1.21q-.488-.553-1.215-.897-.046-.02-.072.006-.027.021-.02.066A5.7 5.7 0 0 1 7.86 13q-.111.694-.376 1.05a4 4 0 0 0-.284-.528 2 2 0 0 0-.383-.456q-.033-.026-.066-.013-.027.007-.033.053-.04.284-.185.522-.145.231-.317.488a3 3 0 0 0-.303.568 2 2 0 0 0-.126.746q0 .832.561 1.347.568.51 1.493.509"})});var C=a(557298);let p="w-120 h-120 rounded-full bg-[rgba(0,0,0,0.06)] object-cover cursor-pointer",x=e=>{let{iconUrl:t,videoUrl:a,isMainBot:o,onClick:r,className:l}=e,[s,d]=(0,n.useState)(!1);return(0,v.jsx)(v.Fragment,{children:o&&!s?(0,v.jsx)("video",{src:(0,C.filterUrlModule)(a,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$N-%lJNamw1$2xNNWFtRkhSakJNTW5od1dXa3hhb%ZI%mpCT$Z6RnNZek5P-%Zve$Z-WmpNMHBx$ERKS2NH$nBN$3BpTWp*M1lqSTFiR0p1$$haa$IwWj$XakpWZEZsW$dta*tSMFo1$ERKR01sbFl$bWhq-$R*MFlqTmFjRnB%TlRCak0ya*9ZMjFrT$dOM1B%MD0"}),playsInline:!0,autoPlay:!0,muted:!0,loop:!0,className:p,onError:()=>d(!0),onClick:r}):(0,v.jsx)("img",{src:(0,C.filterUrlModule)(t,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$N-%lJNamw1$2xNNWFtRkhSakJNTW5od1dXa3hhb%ZI%mpCT$Z6RnNZek5P-%Zve$Z-WmpNMHBx$ERKS2NH$nBN$3BpTWp*M1lqSTFiR0p1$$haa$IwWj$XakpWZEZsW$dta*tSMFo1$ERKR01sbFl$bWhq-$R*MFlqTmFjRnB%TlRCak0ya*9ZMjFrT$dOM1B%MD0"}),className:i()(p,l),onClick:r})})};var b=a(269020);let A=e=>{let{botInfo:t,enableBotHeat:a,enableOpenJump:r,enableShowHandleName:C,hideButton:p,localConversationId:A,largeAvatarVideoUrl:B}=e,{icon_image:S,name:N,bot_stats:w,creator_info:W,bot_feature_label:T}=null!=t?t:{},{creator_handle:F}=W||{},I=(0,c.useTranslateFn)(),{toUserProfile:y,onOpenCurrentBotSideBar:L,onCreateConversationByBot:R}=(0,d.useChat)(),[E,k]=(0,n.useState)(!1),j=(0,l.isCocoBotType)(null==t?void 0:t.bot_type),O=()=>{null==L||L({enterFrom:"click_onboarding_head_bot_name"})},H=async()=>{if(!(0,h.getIsLoggedIn)())return(0,s.getChatService)("chatNavigateService").then(e=>null==e?void 0:e.navigateToLoginPage("unlog_click_add_bot_to_chat")),u.DeprecatedChatEvent.emit("chat.guest.login",{bot:!0,source:"unlog_click_add_bot_to_chat"});k(!0);try{(null==t?void 0:t.id)&&await (null==R?void 0:R({botId:t.id,localConversationId:A,createFrom:"click_plus_chat"}))}catch(a){var e;g.logger.persist.warning({eventName:"create_conversation_by_bot_error",meta:{bot_id:null==t?void 0:t.id,error_str:null==a?void 0:null===(e=a.toString)||void 0===e?void 0:e.call(a)}})}finally{k(!1)}};return j?(0,v.jsx)(v.Fragment,{}):(0,v.jsxs)("div",{className:i()("flex items-center mb-26","sm:block sm:text-center",p?"mt-24":"md:pt-84 lg:pt-84 sm:pt-24"),children:[(0,v.jsx)(x,{className:"shrink-0 align-bottom",isMainBot:j,videoUrl:j&&B||"",iconUrl:(null==S?void 0:S.tiny_url)||"data:image/png;base64,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",onClick:O}),(0,v.jsxs)("div",{className:i()("ml-20 shrink overflow-hidden","sm:ml-0 sm:mt-20 sm:text-center"),children:[(0,v.jsx)("div",{className:i()("md:truncate lg:truncate cursor-pointer font-[Montserrat]","sm:line-clamp-2 sm:text-22 sm:leading-30",b.default["font-h1"]),onClick:O,children:N}),(0,v.jsxs)("div",{className:i()("h-24 mt-8 text-[var(--s-color-text-tertiary)] truncate",b.default["font-footnote"]),children:[a&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f,{className:"align-[-7px]"}),(0,v.jsx)("span",{className:"ml-4",children:null==w?void 0:w.display_heat_score})]}),a&&C&&!!F&&(0,v.jsx)("span",{className:"inline-block text-center w-8 ml-4 mr-6",children:"\xb7"}),C&&!!F&&(0,v.jsx)("span",{className:i()("cursor-pointer",r&&"hover:text-[#1c1f23]"),onClick:()=>{if(r){var e,a;(null==t?void 0:null===(e=t.creator_info)||void 0===e?void 0:e.creator_id)?null==y||y({userId:null==t?void 0:null===(a=t.creator_info)||void 0===a?void 0:a.creator_id,enterFrom:"click_onboarding_head_name"}):g.logger.console.warning({eventName:"message_box_open_user_profile_error"})}},children:T?`${T}${F}`:I("created_by_username",{postProcess:"sprintf",sprintf:[F]})})]}),(0,v.jsx)(o.default,{in:!j&&!p,timeout:200,children:e=>(0,v.jsx)(m.default,{theme:"solid",loading:E,onClick:H,className:i()("px-10 py-8 !rounded-s-radius-xs mt-8",b.default["add-button"],b.default[`add-button-${e}`]),"data-testid":"chat_add_bot_button",children:I("add_bot_hover")})})]})]})}},388240:function(e,t,a){a.d(t,{ChatLargeAvatarComposer:function(){return W},LargeAvatar:function(){return T},useLargeAvatarData:function(){return w},useLargeAvatarStore:function(){return N}});var o=a(870539),n=a(713738),r=a(580296),i=a(436114),l=a(812650),s=a.n(l),d=a(845647),u=a(666196),c=a(876187),h=a(780044),m=a(777210),g=a(83990),v=a(442571),f=a(698392),C=a(971857),p=a(389174),x=a(992528),b=a(665733),A=a(241709),B=a(269020),S=a(345660);let N=(0,r.create)(e=>({isLargeAvatarClosed:!1,hideAvatar:()=>(e({isLargeAvatarClosed:!0}),new Promise(t=>{e({resolve:t})})),resolve:i.default,resetIsLargeAvatarClosed:()=>{e({isLargeAvatarClosed:!1,resolve:i.default})}})),w=e=>{var t;let{conversationId:a,botId:o}=e,{showBotHeat:r,enableBotProfileOpenJump:i,showBotHandleName:l}=(0,u.useChatService)("chatConfigService").featureGating,s=(0,c.useTeaVarWithFeatureGating)({key:"always_show_large_avatar",defaultValue:!1,featureGatingKey:"alwaysShowLargeAvatar"}),v=(0,h.useIsFirstChat)(a),x=(0,C.useConversation)(a),b=(0,p.isCocoConversation)(x)||(0,p.isCocoSubConversation)(x),A=m.messageServiceContainer.get("chatBotService"),B=null==A?void 0:A.getBot(null!==(t=null==x?void 0:x.bot_id)&&void 0!==t?t:o),S=b?a:null==B?void 0:B.id,w=(0,g.useMessageStore)(e=>{var t;return(null===(t=e.messageListStatusMap[a])||void 0===t?void 0:t.hasMore)||!1}),{isLargeAvatarClosed:W,resetIsLargeAvatarClosed:T,resolve:F}=N(e=>({isLargeAvatarClosed:e.isLargeAvatarClosed,resetIsLargeAvatarClosed:e.resetIsLargeAvatarClosed,resolve:e.resolve})),{currentChatViewConfig:I}=(0,f.useChatSlice)("chatViewCoreStore"),y=(0,n.useMemo)(()=>(!!(0,p.isBotConversation)(x)||(null==I?void 0:I.chatType)===d.ChatType.Bot||(null==I?void 0:I.chatType)===d.ChatType.ProfileBot)&&(null==I?void 0:I.chatType)!==d.ChatType.NewThread&&(s?!w:!W&&v),[w,W,v,S,null==I?void 0:I.chatType]);return(0,n.useEffect)(()=>{T()},[v,S]),{hideButton:!1,enableShowHandleName:l,enableOpenJump:i,enableBotHeat:r,showLargeAvatar:y,isCocoOrCocoSub:b,botInfo:B,onExited:()=>{F()}}},W=(e,t)=>function(){var a,n,r,i;let l,d;let{locationState:u}=(0,x.useChat)(),{currentChatViewConfig:c}=(0,f.useChatSlice)("chatViewCoreStore"),h=null!==(a=null==c?void 0:c.chatId)&&void 0!==a?a:"",g=m.messageServiceContainer.get("chatBotService"),C=(0,v.isBotChat)(null==c?void 0:c.chatType),{botInfo:p,enableBotHeat:A,enableOpenJump:N,enableShowHandleName:w,hideButton:W,isCocoOrCocoSub:T,showLargeAvatar:F,largeAvatarVideoUrl:I,onExited:y}=t({conversationId:l=C?(null==g?void 0:null===(n=g.getBotIdToLocalConversationMap())||void 0===n?void 0:n[h])||"":h,botId:h}),L=T?l:null==p?void 0:p.id;d=p?(null===(r=p.onboarding)||void 0===r?void 0:r.message_list)&&(null===(i=p.onboarding)||void 0===i?void 0:i.message_list.length)>=2:!!(null==u?void 0:u.showSkeleton);let R=(0,S.jsx)(S.Fragment,{children:!d&&(0,S.jsxs)("div",{className:s()("flex items-center mb-26","sm:flex-col",W?"mt-24":"md:pt-84 lg:pt-84 sm:pt-24"),children:[(0,S.jsx)(b.default.Avatar,{className:"w-120 h-120 shrink-0"}),!T&&(0,S.jsxs)("div",{className:"ml-20 shrink sm:ml-0 sm:mt-20 sm:flex sm:flex-col sm:items-center",children:[(0,S.jsx)(b.default.Title,{className:"w-209 h-36"}),(0,S.jsx)(b.default.Title,{className:"w-220 h-24 mt-8"}),C?(0,S.jsx)(b.default.Button,{className:"w-97 h-32 mt-8 rounded-10"}):null]})]})});return(0,S.jsx)(o.default,{in:F,timeout:200,unmountOnExit:!0,onExited:y,children:t=>(0,S.jsx)(b.default,{loading:!(null==p?void 0:p.id),placeholder:R,active:!0,children:(0,S.jsx)("div",{className:B.default[`fade-${t}`],children:(0,S.jsx)(e,{localConversationId:l,enableBotHeat:A,enableOpenJump:N,enableShowHandleName:w,largeAvatarVideoUrl:I,hideButton:W,botInfo:p})})})},`avatar-${L}`)},T=W(A.LargeAvatarUI,w)},848514:function(e,t,a){a.d(t,{composeSlotsToMessageList:function(){return r}});var o=a(693261),n=a(559613);let r=e=>{let{slots:t}=e,{MessageListLoadMore:a,InnerAfterMessageList:r,MessageList:i,MessageBefore:l,LargeAvatar:s}=t,d=(0,n.createBizWithSlots)(a,{});return(0,n.createBizWithSlots)(i,{LoadMoreSlot:d,InnerAfterMessageListSlot:null!=r?r:null,SectionDividerSlot:o.SectionDivider,MessageBeforeSlot:null!=l?l:null,LargeAvatarSlot:s})}},57160:function(e,t,a){a.d(t,{useShareConfigInit:function(){return d}});var o=a(713738),n=a(913821),r=a(996080),i=a(752673),l=a(178230);let s=()=>{if(i.useThreadShareStore.getState().contentTypeWhiteListInitialized||"object"!=typeof window)return;let e=window[r.PromiseName.GuestLayoutMode];e instanceof Promise&&e.then(e=>{var t;let{supported_content_types:a}=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.share_config)||{};a&&!(0,n.default)(i.useThreadShareStore.getState().contentTypeWhiteList,a)&&i.useThreadShareStore.getState().setContentTypeWhiteList(a)}).catch(e=>{i.useThreadShareStore.getState().setContentTypeWhiteList(i.useThreadShareStore.getState().contentTypeWhiteList),l.logger.persist.warning({message:"[thread-share] failed to fetch supported content types, use default instead",error:e})})},d=()=>{(0,o.useEffect)(()=>{s()},[])}}}]);
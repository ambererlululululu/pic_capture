"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["63749"],{147899:function(e,t,l){var n=l(580622),i=l(524143),a=l(643066);t.default=function(e,t,l){void 0===l&&(l={});var r=(0,n.default)(t);(0,a.default)(function(){var t=(0,i.getTargetElement)(l.target,window);if(null==t?void 0:t.addEventListener){var n=function(e){return r.current(e)};return t.addEventListener(e,n,{capture:l.capture,once:l.once,passive:l.passive}),function(){t.removeEventListener(e,n,{capture:l.capture})}}},[e,l.capture,l.once,l.passive],l.target)}},751825:function(e,t,l){var n=l(92477),i=l(351415),a=l(713738),r=l(580622),o=l(239686),s=l(956811),u=l(425537);t.default=function(e,t){u.default&&(0,s.isFunction)(e);var l,c=(0,r.default)(e),d=null!==(l=null==t?void 0:t.wait)&&void 0!==l?l:1e3,f=(0,a.useMemo)(function(){return(0,i.default)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.current.apply(c,(0,n.__spreadArray)([],(0,n.__read)(e),!1))},d,t)},[]);return(0,o.default)(function(){f.cancel()}),{run:f,cancel:f.cancel,flush:f.flush}}},167838:function(e,t,l){l.d(t,{default:function(){return a}}),l(713738);var n=l(430261),i=l(345660),a=(0,n.IconFactory)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M7.707 21.707a1 1 0 0 1 0-1.414L16 12 7.707 3.707a1 1 0 0 1 1.414-1.414l8.293 8.293a2 2 0 0 1 0 2.828l-8.293 8.293a1 1 0 0 1-1.414 0"})}),{}))},968250:function(e,t,l){l.r(t),l.d(t,{SelectSkillButtonPlugin:function(){return M}});var n=l(474932),i=l(167838),a=l(295779),r=l(713738),o=l(812650),s=l.n(o),u=l(845647),c=l(986443),d=l(23226),f=l(604889),v=l(915299),h=l(643404),m=l(751825),S=l(147899),p=l(559891),w=l(525029),k=l(559425),x=l(734690),g=l(306080),_=l(162188),b=l(491649),j=l(242315),y=l(44502),P=l(865607),N=l(698392),C=l(777422),E=l(162771);let L=e=>{let{trimSkills:t}=(0,E.useTrimSkillsHidden)(),{hideSkillBarInLandingPage:l,justHideSkillbarInLangingPage:n}=(0,N.useChatSlice)("chatGuidanceStore",e=>{var l;return{hideSkillBarInLandingPage:!t&&null!==(l=e.hideSkillBarInLandingPage)&&void 0!==l&&l,justHideSkillbarInLangingPage:e.justHideSkillbarInLangingPage}},P.shallow),i=e&&l,[a,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e&&l&&n&&(o(!0),(0,N.getChatStore)("chatGuidanceStore").setState({justHideSkillbarInLangingPage:void 0}))},[e&&l&&n]),{enableSelectSkillButtonInGuidance:i,showHideToSelectTip:a,setShowHideToSelectTip:o}},B=()=>((0,r.useEffect)(()=>{(0,C.trackEvent)("skill_switch_show")},[]),null);var I=l(345660);let T=(0,p.withSuspense)((0,r.lazy)(()=>(0,h.retryLoadWithFallBack)({fn:()=>Promise.all([l.e("77970"),l.e("13221")]).then(l.bind(l,587901)).then(e=>({default:e.SkillPinModal}))}))),A=e=>{let{chatId:t,chatType:l,isOverflow:o}=e,h=(0,v.useTranslateFn)(),p=(0,d.useEnableSkillGuidance)(),P=!p&&l===u.ChatType.NewThread,{isNewChatInputInChat:N}=(0,j.useNewChatInputAb)({chatId:t,chatType:l}),{enableSelectSkillButtonInGuidance:C,showHideToSelectTip:E,setShowHideToSelectTip:A}=L(P),M=N&&(!P&&!p||C),[D,O]=(0,r.useState)(!1),[R,F]=(0,r.useState)(!1),H=(0,y.useDisplaySkills)(),U=(0,_.useSkillsTrackParams)({chatId:t}),{selectSkill:z,reportSelectSkill:G}=(0,b.useSelectSkill)({trackParams:U}),{reportSkillShow:W,reportMoreSkillsShow:q,reportMoreSkillClick:K,reportSkillPinClick:V,reportSkillSwitchClick:Q}=(0,_.useSelectSkillSwitchReport)({...U,show_scene:"bottom_bar"});(0,r.useEffect)(()=>{M&&q(0)},[M]);let[X,Y]=(0,r.useState)(),{chatPageTargetRef:Z}=(0,f.useChatRef)(),{run:J}=(0,m.default)(()=>{var e,t;Y(Math.min(null!==(t=null===(e=Z.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:800,800))},{wait:200,leading:!0});if((0,S.default)("resize",()=>{J()}),(0,r.useEffect)(()=>{J()},[]),!M)return null;let $=()=>{O(!0),K(0)};return(0,I.jsxs)("div",{className:s()("relative",{"w-full flex flex-col items-stretch":o}),children:[(0,I.jsx)(w.SamanthaPopover,{trigger:"custom",visible:D,position:"topLeft",className:s()("!rounded-s-radius-xs p-4 min-w-180","more-skills-YPADO8"),content:(0,I.jsx)(g.MoreSkillsSmallContent,{className:s()("max-h-290 flow-scrollbar overflow-auto","more-skills-small-V6FCRT"),items:H,isNarrowMode:e.isToolButtonSmall,onSelectSkill:(e,t,l,n,i)=>{let a={skillType:e,skillFrom:t,showPosition:"more",position:n,sticky:i,skipReport:null==l?void 0:l.skipReport};Q(a),(null==l?void 0:l.onlyReportEvent)?G(a):z(a),(null==l?void 0:l.keepMorePopover)||O(!1)},onClickSkillPin:()=>{F(!0),O(!1),V()},onSkillShow:e=>W(e,_.SkillsShowPosition.More)}),onClickOutSide:()=>O(!1),children:(0,I.jsx)(c.ToolButtonUI,{...e,"data-testid":"chat-input-all-skill-button",small:e.isToolButtonSmall,renderIcon:e=>{let{className:t}=e;return(0,I.jsx)(a.default,{className:t})},title:h("skills_entrance_title"),renderExtra:()=>o?(0,I.jsx)("div",{className:"ml-12 flex flex-1 justify-end",children:(0,I.jsx)(i.default,{className:"!text-14 text-s-color-text-quaternary"})}):null,onMouseUp:$})}),E&&(0,I.jsx)(w.SamanthaPopover,{trigger:"custom",visible:E,onClickOutSide:()=>A(!1),showArrow:!0,content:(0,I.jsxs)("div",{className:"relative -m-12 max-w-280 p-16 text-s-color-text-secondary",children:[(0,I.jsx)(n.default,{onClick:()=>A(!1),className:`
                  absolute top-14 right-14 block cursor-pointer py-2 text-16
                  text-s-color-text-tertiary
                `}),(0,I.jsx)("div",{className:"s-font-h4",children:h("web_chat_skill_card_header_switch")}),(0,I.jsx)("div",{className:"mt-8 s-font-xs",children:h("web_chat_skill_card_desc_switch")}),(0,I.jsx)("div",{className:"mt-16 flex justify-end",children:(0,I.jsx)(k.SamanthaButton,{type:"primary",autoFocus:!0,onClick:()=>A(!1),size:"small",children:h("cici_desktop_onboarding_selection_ok")})})]}),children:(0,I.jsx)("div",{className:"absolute top-0 left-0 h-full w-full",onClick:()=>($(),A(!1))})}),(0,I.jsx)(B,{}),(0,I.jsx)(T,{InLandingPageAndEnableToggleSkillbar:C,visible:R,showPreview:!1,onCancel:()=>F(!1),onOk:()=>F(!1),reportParams:{show_from:C?"skill_switch":"bottom_bar"},footerWidth:X,PreviewContent:x.InputBottomGuidanceCenterSkillBarShowAllSkillsPreview})]})};class M{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):this[e]=A}}},986443:function(e,t,l){l.d(t,{ToolButtonUI:function(){return u}});var n=l(713738),i=l(812650),a=l.n(i),r=l(559425),o={button:"button-VMDZon",overflow:"overflow-jQwWSh",active:"active-yFXB5l",small:"small-lWyHoI"},s=l(345660);let u=(0,n.forwardRef)(function(e,t){let{className:l,renderIcon:n,title:i,small:u,isOverflow:c,active:d,renderExtra:f,buttonProps:v,onMouseUp:h,onMouseEnter:m,...S}=e,p=null==n?void 0:n({className:u?"!text-14 p-2":"!text-16"}),w=d&&!(null==v?void 0:v.disabled);return(0,s.jsx)(r.SamanthaButton,{ref:t,"data-checked":w,...S,type:c?"quartary":"tertiary",icon:p,size:u?"small":"medium",onMouseUp:h,onMouseEnter:m,...v,className:a()(l,o.button,c&&o.overflow,w&&o.active,u&&o.small,null==v?void 0:v.className),children:(i||f)&&(0,s.jsxs)("div",{className:a()("flex items-center",c&&!u&&"ml-8"),children:[i,null==f?void 0:f()]})})})}}]);
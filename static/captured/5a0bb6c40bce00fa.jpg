(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["66228"],{771982:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});let r="semi"},257096:function(e,t,n){"use strict";n.d(t,{UX:function(){return i},j2:function(){return a}});var r=n(771982);let i={PREFIX:`${r.T}-button`},a={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"}},278182:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},705709:function(e,t,n){"use strict";function r(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}n.d(t,{Z:function(){return r}})},112230:function(e,t,n){"use strict";function r(e){return null==e}n.d(t,{Z:function(){return r}})},991558:function(e,t,n){"use strict";function r(e,t){}n.d(t,{Z:function(){return r}})},156287:function(e,t,n){"use strict";n.d(t,{GO:function(){return w},Tq:function(){return function e(t,n){return g(this,void 0,void 0,function*(){if(0===n){yield t();return}yield new Promise(r=>{setTimeout(()=>g(this,void 0,void 0,function*(){yield e(t,n-1),r()}),0)})})}},Xh:function(){return S},UW:function(){return y},GW:function(){return C},J2:function(){return _},np:function(){return x},ql:function(){return b},vY:function(){return E},ID:function(){return k}});var r=n(118200),i=n(817835),a=n(734010),o=n(429996),s=n(991558),l=n(477041);let u=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),c=e=>{let{autoEscape:t,caseSensitive:n,searchWords:r,sourceString:i}=e;return r.filter(e=>e).reduce((e,r)=>{let a;t&&(r=u(r));let o=new RegExp(r,n?"g":"gi");for(;a=o.exec(i);){let t=a.index,n=o.lastIndex;n>t&&e.push({highlight:!1,start:t,end:n}),a.index===o.lastIndex&&o.lastIndex++}return e},[])},d=e=>{let{chunks:t}=e;return t.sort((e,t)=>e.start-t.start).reduce((e,t)=>{if(0===e.length)return[t];{let n=e.pop();if(t.start<=n.end){let r=Math.max(n.end,t.end);e.push({highlight:!1,start:n.start,end:r})}else e.push(n,t);return e}},[])},f=e=>{let{chunksToHighlight:t,totalLength:n}=e,r=[],i=(e,t,n)=>{t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)i(0,n,!1);else{let e=0;t.forEach(t=>{i(e,t.start,!1),i(t.start,t.end,!0),e=t.end}),i(e,n,!1)}return r},v=e=>{let{autoEscape:t=!0,caseSensitive:n=!1,searchWords:r,sourceString:i}=e;return(0,l.Z)(r)&&(r=[r]),f({chunksToHighlight:d({chunks:c({autoEscape:t,caseSensitive:n,searchWords:r,sourceString:i})}),totalLength:i?i.length:0})};var p=n(705709),h=new class{constructor(){this.config={}}},m=n(378999),g=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};function y(e,t){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!t&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}function S(e,t){return(0,a.Z)(e,e=>{if("function"==typeof t)return t(e);if("function"==typeof e||o.isValidElement(e)||"[object Error]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e)&&0===e.length){let t=Object.keys(e);if(t.length){let n=[];t.forEach(t=>{(0,i.Z)(n,t,e[t])});try{(0,s.Z)("production"!==(0,r.Z)(m,"env.NODE_ENV"),`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch(e){}return n}}})}let _=e=>{let{sourceString:t="",searchWords:n=[],option:r={autoEscape:!0,caseSensitive:!1}}=e,i=v(Object.assign({sourceString:t,searchWords:n},r)),a=r.highlightTag||"mark",s=r.highlightClassName||"",l=r.highlightStyle||{};return i.map((e,n)=>{let{end:r,start:i,highlight:u}=e,c=t.substr(i,r-i);return u?o.createElement(a,{style:l,className:s,key:c+n},c):c})},b=(e,t)=>{let{match:n,unmatch:r,callInInit:i=!0}=t;if("undefined"!=typeof window){let t=window.matchMedia(e);function a(e){e.matches?n&&n(e):r&&r(e)}return(i&&a(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",a),()=>t.removeEventListener("change",a)):(t.addListener(a),()=>t.removeListener(a))}return()=>void 0},k=e=>o.isValidElement(e)&&"Icon"===(0,r.Z)(e.type,"elementType");function E(){return document?document.activeElement:null}function w(e){return(0,p.Z)(e)?Array.from(e.querySelectorAll("input:not([disabled]):not([tabindex='-1']),textarea:not([disabled]):not([tabindex='-1']),button:not([disabled]):not([tabindex='-1']),a[href]:not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),area[href]:not([tabindex='-1']),iframe:not([tabindex='-1']),object:not([tabindex='-1']),*[tabindex]:not([tabindex='-1']),*[contenteditable]:not([tabindex='-1'])")):[]}function x(){return globalThis&&"[object Window]"===Object.prototype.toString.call(globalThis)?window.innerWidth-document.documentElement.clientWidth:0}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=()=>{var t,n;return(null===(n=null===(t=null==h?void 0:h.config)||void 0===t?void 0:t.overrideDefaultProps)||void 0===n?void 0:n[e])||{}};return new Proxy(Object.assign({},t),{get(e,t,r){let i=n();return t in i?i[t]:Reflect.get(e,t,r)},set:(e,t,n,r)=>Reflect.set(e,t,n,r),ownKeys(){let e=n();return Array.from(new Set([...Reflect.ownKeys(t),...Object.keys(e)]))},getOwnPropertyDescriptor(e,t){let r=n();return t in r?Reflect.getOwnPropertyDescriptor(r,t):Reflect.getOwnPropertyDescriptor(e,t)}})}},472934:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(327386),i=n(429996),a=n(669160),o=n.n(a),s=n(295011),l=n.n(s),u=n(257096),c=n(278182),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let f=u.j2.sizes,{htmlTypes:v,btnTypes:p}=u.j2;class h extends i.PureComponent{render(){let e=this.props,{children:t,block:n,htmlType:a,loading:s,circle:l,className:u,style:c,disabled:f,size:v,theme:p,type:h,prefixCls:m,iconPosition:g}=e,y=d(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),S=Object.assign(Object.assign({disabled:f},(0,r.Z)(y,["x-semi-children-alias"])),{className:o()(m,{[`${m}-${h}`]:!f&&h,[`${m}-disabled`]:f,[`${m}-size-large`]:"large"===v,[`${m}-size-small`]:"small"===v,[`${m}-light`]:"light"===p,[`${m}-block`]:n,[`${m}-circle`]:l,[`${m}-borderless`]:"borderless"===p,[`${m}-${h}-disabled`]:f&&h},u),type:a,"aria-disabled":f}),_={};return u&&u.includes("-with-icon")||(_["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),i.createElement("button",Object.assign({},S,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:c}),i.createElement("span",Object.assign({className:`${m}-content`,onClick:e=>f&&e.stopPropagation()},_),t))}}h.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:c.Z,onClick:c.Z,onMouseEnter:c.Z,onMouseLeave:c.Z,prefixCls:u.UX.PREFIX},h.propTypes={children:l().node,disabled:l().bool,prefixCls:l().string,style:l().object,size:l().oneOf(f),type:l().oneOf(p),block:l().bool,onClick:l().func,onMouseDown:l().func,circle:l().bool,loading:l().bool,htmlType:l().oneOf(v),theme:l().oneOf(u.j2.themes),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func,"aria-label":l().string}},199689:function(e,t,n){"use strict";var r=n(429996),i=n(472934),a=n(444997),o=n(156287);class s extends r.PureComponent{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e)}render(){let e=Object.assign({},this.props),t=!!e.icon,n=!!e.loading,o=!!e.disabled;return t||n&&!o?r.createElement(a.Z,Object.assign({},e)):r.createElement(i.Z,Object.assign({},e))}}s.__SemiComponentName__="Button",s.propTypes=Object.assign(Object.assign({},i.Z.propTypes),a.Z.propTypes),s.defaultProps=(0,o.GW)(s.__SemiComponentName__),s.elementType="Button",t.Z=s},444997:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(814986),i=n(429996),a=n(669160),o=n.n(a),s=n(295011),l=n.n(s),u=n(257096);n(771982).T;var c=n(472934),d=n(279862),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class v extends i.PureComponent{render(){let e=this.props,{children:t,iconPosition:n,iconSize:r,iconStyle:a,style:s,icon:l,noHorizontalPadding:u,theme:v,className:p,prefixCls:h,loading:m}=e,g=f(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),y=Object.assign({},s);Array.isArray(u)?(u.includes("left")&&(y.paddingLeft=0),u.includes("right")&&(y.paddingRight=0)):!0===u?(y.paddingLeft=0,y.paddingRight=0):"string"==typeof u&&("left"===u&&(y.paddingLeft=0),"right"===u&&(y.paddingRight=0));let S=null,_=null;m&&!g.disabled?_=i.createElement(d.Z,null):i.isValidElement(l)&&(_=l);let b=o()({[`${h}-content-left`]:"right"===n,[`${h}-content-right`]:"left"===n}),k=this.props["x-semi-children-alias"]||"children",E=null!=t?i.createElement("span",{className:b,"x-semi-prop":k},t):null;S="left"===n?i.createElement(i.Fragment,null,_,E):i.createElement(i.Fragment,null,E,_);let w=o()(p,`${h}-with-icon`,{[`${h}-with-icon-only`]:null==E||""===E,[`${h}-loading`]:m});return i.createElement(c.Z,Object.assign({},g,{className:w,theme:v,style:y}),S)}}v.defaultProps={iconPosition:u.j2.DEFAULT_ICON_POSITION,prefixCls:u.UX.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:r.Z,onMouseLeave:r.Z},v.elementType="IconButton",v.propTypes={iconStyle:l().object,style:l().object,loading:l().bool,prefixCls:l().string,icon:l().oneOfType([l().object,l().string,l().node]),iconSize:l().oneOf(["extra-small","small","default","large","extra-large","custom"]),noHorizontalPadding:l().oneOfType([l().bool,l().string,l().array]),children:l().node,theme:l().string,iconPosition:l().oneOf(u.j2.iconPositions),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func};var p=v},279862:function(e,t,n){"use strict";var r=n(429996),i=n(112230),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let o=-1;t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t,className:n}=e,s=a(e,["id","className"]),l=t;(0,i.Z)(l)&&(l=++o);let u=`linearGradient-${l}`;return r.createElement("svg",Object.assign({},s,{className:n,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:u},r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),r.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),r.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${u})`,strokeWidth:"4",strokeLinecap:"round"})))}},485699:function(e,t,n){"use strict";var r=n(429996),i=n(405313),a=n(164866);t.Z=function(e){a.Z&&(0,i.mf)(e),(0,r.useEffect)(function(){null==e||e()},[])}},698570:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(633424),i=n(429996),a=n(727499),o=function(e,t){var n=t.manual,o=t.ready,s=void 0===o||o,l=t.defaultParams,u=void 0===l?[]:l,c=t.refreshDeps,d=t.refreshDepsAction,f=(0,i.useRef)(!1);return f.current=!1,(0,a.Z)(function(){!n&&s&&(f.current=!0,e.run.apply(e,(0,r.ev)([],(0,r.CR)(u),!1)))},[s]),(0,a.Z)(function(){!f.current&&(n||(f.current=!0,d?d():e.refresh()))},(0,r.ev)([],(0,r.CR)(void 0===c?[]:c),!1)),{onBefore:function(){if(!s)return{stopNow:!0}}}};o.onInit=function(e){var t=e.ready;return{loading:!e.manual&&(void 0===t||t)}};var s=n(835984);function l(e,t){var n=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==n.initialized&&(0,s.Z)(n.deps,t)||(n.deps=t,n.obj=e(),n.initialized=!0),n.obj}var u=n(33021),c=new Map,d=function(e,t,n){var i=c.get(e);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var a=void 0;t>-1&&(a=setTimeout(function(){c.delete(e)},t)),c.set(e,(0,r.pi)((0,r.pi)({},n),{timer:a}))},f=new Map,v=function(e,t){f.set(e,t),t.then(function(t){return f.delete(e),t}).catch(function(){f.delete(e)})},p={},h=function(e,t){p[e]&&p[e].forEach(function(e){return e(t)})},m=function(e,t){return p[e]||(p[e]=[]),p[e].push(t),function(){var n=p[e].indexOf(t);p[e].splice(n,1)}},g=function(e,t){var n=t.cacheKey,a=t.cacheTime,o=void 0===a?3e5:a,s=t.staleTime,p=void 0===s?0:s,g=t.setCache,y=t.getCache,S=(0,i.useRef)(),_=(0,i.useRef)(),b=function(e,t){g?g(t):d(e,o,t),h(e,t.data)},k=function(e,t){return(void 0===t&&(t=[]),y)?y(t):c.get(e)};return(l(function(){if(n){var t=k(n);t&&Object.hasOwnProperty.call(t,"data")&&(e.state.data=t.data,e.state.params=t.params,(-1===p||new Date().getTime()-t.time<=p)&&(e.state.loading=!1)),S.current=m(n,function(t){e.setState({data:t})})}},[]),(0,u.Z)(function(){var e;null===(e=S.current)||void 0===e||e.call(S)}),n)?{onBefore:function(e){var t=k(n,e);return t&&Object.hasOwnProperty.call(t,"data")?-1===p||new Date().getTime()-t.time<=p?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(e,t){var i=f.get(n);return i&&i!==_.current||(i=e.apply(void 0,(0,r.ev)([],(0,r.CR)(t),!1)),_.current=i,v(n,i)),{servicePromise:i}},onSuccess:function(t,r){var i;n&&(null===(i=S.current)||void 0===i||i.call(S),b(n,{data:t,params:r,time:new Date().getTime()}),S.current=m(n,function(t){e.setState({data:t})}))},onMutate:function(t){var r;n&&(null===(r=S.current)||void 0===r||r.call(S),b(n,{data:t,params:e.state.params,time:new Date().getTime()}),S.current=m(n,function(t){e.setState({data:t})}))}}:{}},y=n(162063),S=function(e,t){var n=t.debounceWait,a=t.debounceLeading,o=t.debounceTrailing,s=t.debounceMaxWait,l=(0,i.useRef)(),u=(0,i.useMemo)(function(){var e={};return void 0!==a&&(e.leading=a),void 0!==o&&(e.trailing=o),void 0!==s&&(e.maxWait=s),e},[a,o,s]);return((0,i.useEffect)(function(){if(n){var t=e.runAsync.bind(e);return l.current=(0,y.Z)(function(e){e()},n,u),e.runAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,i){var a;null===(a=l.current)||void 0===a||a.call(l,function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)).then(n).catch(i)})})},function(){var n;null===(n=l.current)||void 0===n||n.cancel(),e.runAsync=t}}},[n,u]),n)?{onCancel:function(){var e;null===(e=l.current)||void 0===e||e.cancel()}}:{}},_=function(e,t){var n=t.loadingDelay,r=t.ready,a=(0,i.useRef)();if(!n)return{};var o=function(){a.current&&clearTimeout(a.current)};return{onBefore:function(){return o(),!1!==r&&(a.current=setTimeout(function(){e.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}},b=n(826967);function k(){return!b.Z||"hidden"!==document.visibilityState}var E=[];b.Z&&window.addEventListener("visibilitychange",function(){if(k())for(var e=0;e<E.length;e++)(0,E[e])()},!1);var w=function(e,t){var n=t.pollingInterval,r=t.pollingWhenHidden,o=void 0===r||r,s=t.pollingErrorRetryCount,l=void 0===s?-1:s,u=(0,i.useRef)(),c=(0,i.useRef)(),d=(0,i.useRef)(0),f=function(){var e;u.current&&clearTimeout(u.current),null===(e=c.current)||void 0===e||e.call(c)};return((0,a.Z)(function(){n||f()},[n]),n)?{onBefore:function(){f()},onError:function(){d.current+=1},onSuccess:function(){d.current=0},onFinally:function(){-1===l||-1!==l&&d.current<=l?u.current=setTimeout(function(){if(o||k())e.refresh();else{var t;c.current=(t=function(){e.refresh()},E.push(t),function(){var e=E.indexOf(t);E.splice(e,1)})}},n):d.current=0},onCancel:function(){f()}}:{}},x=[];if(b.Z){var C=function(){if(k()&&(!b.Z||void 0===navigator.onLine||navigator.onLine))for(var e=0;e<x.length;e++)(0,x[e])()};window.addEventListener("visibilitychange",C,!1),window.addEventListener("focus",C,!1)}var M=function(e,t){var n=t.refreshOnWindowFocus,a=t.focusTimespan,o=void 0===a?5e3:a,s=(0,i.useRef)(),l=function(){var e;null===(e=s.current)||void 0===e||e.call(s)};return(0,i.useEffect)(function(){if(n){var t,i,a,u=(t=e.refresh.bind(e),i=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i||(i=!0,t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)),setTimeout(function(){i=!1},o))});s.current=(a=function(){u()},x.push(a),function(){var e=x.indexOf(a);e>-1&&x.splice(e,1)})}return function(){l()}},[n,o]),(0,u.Z)(function(){l()}),{}},T=function(e,t){var n=t.retryInterval,r=t.retryCount,a=(0,i.useRef)(),o=(0,i.useRef)(0),s=(0,i.useRef)(!1);return r?{onBefore:function(){s.current||(o.current=0),s.current=!1,a.current&&clearTimeout(a.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,-1===r||o.current<=r){var t=null!=n?n:Math.min(1e3*Math.pow(2,o.current),3e4);a.current=setTimeout(function(){s.current=!0,e.refresh()},t)}else o.current=0},onCancel:function(){o.current=0,a.current&&clearTimeout(a.current)}}:{}},Z=n(806033),P=function(e,t){var n=t.throttleWait,a=t.throttleLeading,o=t.throttleTrailing,s=(0,i.useRef)(),l={};return(void 0!==a&&(l.leading=a),void 0!==o&&(l.trailing=o),(0,i.useEffect)(function(){if(n){var t=e.runAsync.bind(e);return s.current=(0,Z.Z)(function(e){e()},n,l),e.runAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,i){var a;null===(a=s.current)||void 0===a||a.call(s,function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)).then(n).catch(i)})})},function(){var n;e.runAsync=t,null===(n=s.current)||void 0===n||n.cancel()}}},[n,a,o]),n)?{onCancel:function(){var e;null===(e=s.current)||void 0===e||e.cancel()}}:{}},L=n(574367),D=n(999132),I=n(485699),W=n(282120),A=n(164866),R=n(405313),O=function(){function e(e,t,n,i){void 0===i&&(i={}),this.serviceRef=e,this.options=t,this.subscribe=n,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,r.pi)((0,r.pi)((0,r.pi)({},this.state),{loading:!t.manual}),i)}return e.prototype.setState=function(e){void 0===e&&(e={}),this.state=(0,r.pi)((0,r.pi)({},this.state),e),this.subscribe()},e.prototype.runPluginHandler=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.pluginImpls.map(function(n){var i;return null===(i=n[e])||void 0===i?void 0:i.call.apply(i,(0,r.ev)([n],(0,r.CR)(t),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(i),!1))},e.prototype.runAsync=function(){for(var e,t,n,i,a,o,s,l,u,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return(0,r.mG)(this,void 0,void 0,function(){var f,v,p,h,m,g,y,S,_,b,k;return(0,r.Jh)(this,function(E){switch(E.label){case 0:if(this.count+=1,f=this.count,h=void 0!==(p=(v=this.runPluginHandler("onBefore",d)).stopNow)&&p,g=void 0!==(m=v.returnNow)&&m,y=(0,r._T)(v,["stopNow","returnNow"]),h)return[2,new Promise(function(){})];if(this.setState((0,r.pi)({loading:!0,params:d},y)),g)return[2,Promise.resolve(y.data)];null===(t=(e=this.options).onBefore)||void 0===t||t.call(e,d),E.label=1;case 1:return E.trys.push([1,3,,4]),(S=this.runPluginHandler("onRequest",this.serviceRef.current,d).servicePromise)||(S=(k=this.serviceRef).current.apply(k,(0,r.ev)([],(0,r.CR)(d),!1))),[4,S];case 2:if(_=E.sent(),f!==this.count)return[2,new Promise(function(){})];return this.setState({data:_,error:void 0,loading:!1}),null===(i=(n=this.options).onSuccess)||void 0===i||i.call(n,_,d),this.runPluginHandler("onSuccess",_,d),null===(o=(a=this.options).onFinally)||void 0===o||o.call(a,d,_,void 0),f===this.count&&this.runPluginHandler("onFinally",d,_,void 0),[2,_];case 3:if(b=E.sent(),f!==this.count)return[2,new Promise(function(){})];throw this.setState({error:b,loading:!1}),null===(l=(s=this.options).onError)||void 0===l||l.call(s,b,d),this.runPluginHandler("onError",b,d),null===(c=(u=this.options).onFinally)||void 0===c||c.call(u,d,void 0,b),f===this.count&&this.runPluginHandler("onFinally",d,void 0,b),b;case 4:return[2]}})})},e.prototype.run=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(t),!1)).catch(function(t){e.options.onError})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},e.prototype.mutate=function(e){var t=(0,R.mf)(e)?e(this.state.data):e;this.runPluginHandler("onMutate",t),this.setState({data:t})},e}(),j=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var i=t.manual,a=void 0!==i&&i,o=(0,r._T)(t,["manual"]);A.Z&&t.defaultParams&&Array.isArray(t.defaultParams);var s=(0,r.pi)({manual:a},o),c=(0,L.Z)(e),d=(0,W.Z)(),f=l(function(){var e=n.map(function(e){var t;return null===(t=null==e?void 0:e.onInit)||void 0===t?void 0:t.call(e,s)}).filter(Boolean);return new O(c,s,d,Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(e),!1)))},[]);return f.options=s,f.pluginImpls=n.map(function(e){return e(f,s)}),(0,I.Z)(function(){if(!a){var e=f.state.params||t.defaultParams||[];f.run.apply(f,(0,r.ev)([],(0,r.CR)(e),!1))}}),(0,u.Z)(function(){f.cancel()}),{loading:f.state.loading,data:f.state.data,error:f.state.error,params:f.state.params||[],cancel:(0,D.Z)(f.cancel.bind(f)),refresh:(0,D.Z)(f.refresh.bind(f)),refreshAsync:(0,D.Z)(f.refreshAsync.bind(f)),run:(0,D.Z)(f.run.bind(f)),runAsync:(0,D.Z)(f.runAsync.bind(f)),mutate:(0,D.Z)(f.mutate.bind(f))}},N=function(e,t,n){return j(e,t,(0,r.ev)((0,r.ev)([],(0,r.CR)(n||[]),!1),[S,_,w,M,P,o,g,T],!1))}},282120:function(e,t,n){"use strict";var r=n(633424),i=n(429996);t.Z=function(){var e=(0,r.CR)((0,i.useState)({}),2)[1];return(0,i.useCallback)(function(){return e({})},[])}},727499:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,i=n(429996),a=(r=i.useEffect,function(e,t){var n=(0,i.useRef)(!1);r(function(){return function(){n.current=!1}},[]),r(function(){if(n.current)return e();n.current=!0},t)})},835984:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}n.d(t,{Z:function(){return r}})},826967:function(e,t){"use strict";var n=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.Z=n},985871:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="week",a="month",o="quarter",s="year",l="date",u="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v="en",p={};p[v]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||"th")+"]"}};var h="$isDayjsObject",m=function(e){return e instanceof _||!(!e||!e[h])},g=function e(t,n,r){var i;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();p[a]&&(i=a),n&&(p[a]=n,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;p[s]=t,i=s}return!r&&i&&(v=i),i||!r&&v},y=function(e,t){if(m(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},S={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,a),o=n-i<0,s=t.clone().add(r+(o?-1:1),a);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:a,y:s,w:i,d:"day",D:l,h:r,m:n,s:t,ms:e,Q:o})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};S.l=g,S.i=m,S.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function f(e){this.$L=g(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[h]=!0}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(c);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return this.$d.toString()!==u},v.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return y(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<y(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,o){var u=this,c=!!S.u(o)||o,d=S.p(e),f=function(e,t){var n=S.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return c?n:n.endOf("day")},v=function(e,t){return S.w(u.toDate()[e].apply(u.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},p=this.$W,h=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case s:return c?f(1,0):f(31,11);case a:return c?f(1,h):f(0,h+1);case i:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return f(c?m-_:m+(6-_),h);case"day":case l:return v(g+"Hours",0);case r:return v(g+"Minutes",1);case n:return v(g+"Seconds",2);case t:return v(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(i,o){var u,c=S.p(i),d="set"+(this.$u?"UTC":""),f=((u={}).day=d+"Date",u[l]=d+"Date",u[a]=d+"Month",u[s]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[t]=d+"Seconds",u[e]=d+"Milliseconds",u)[c],v="day"===c?this.$D+(o-this.$W):o;if(c===a||c===s){var p=this.clone().set(l,1);p.$d[f](v),p.init(),this.$d=p.set(l,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(e,o){var l,u=this;e=Number(e);var c=S.p(o),d=function(t){var n=y(u);return S.w(n.date(n.date()+Math.round(t*e)),u)};if(c===a)return this.set(a,this.$M+e);if(c===s)return this.set(s,this.$y+e);if("day"===c)return d(1);if(c===i)return d(7);var f=((l={})[n]=6e4,l[r]=36e5,l[t]=1e3,l)[c]||1,v=this.$d.getTime()+e*f;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),a=this.$H,o=this.$m,s=this.$M,l=n.weekdays,c=n.months,f=n.meridiem,v=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},p=function(e){return S.s(a%12||12,e,"0")},h=f||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return v(n.monthsShort,s,c,3);case"MMMM":return v(c,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return v(n.weekdaysMin,t.$W,l,2);case"ddd":return v(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return S.s(a,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return h(a,o,!0);case"A":return h(a,o,!1);case"m":return String(o);case"mm":return S.s(o,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},v.diff=function(e,l,u){var c,d=this,f=S.p(l),v=y(e),p=(v.utcOffset()-this.utcOffset())*6e4,h=this-v,m=function(){return S.m(d,v)};switch(f){case s:c=m()/12;break;case a:c=m();break;case o:c=m()/3;break;case i:c=(h-p)/6048e5;break;case"day":c=(h-p)/864e5;break;case r:c=h/36e5;break;case n:c=h/6e4;break;case t:c=h/1e3;break;default:c=h}return u?c:S.a(c)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return p[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=g(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),b=_.prototype;return y.prototype=b,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W","day"],["$M",a],["$y",s],["$D",l]].forEach(function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,_,y),e.$i=!0),y},y.locale=g,y.isDayjs=m,y.unix=function(e){return y(1e3*e)},y.en=p[v],y.Ls=p,y.p={},y},e.exports=t()},223638:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(Error("Failed to load "+this.src),e)}}e.exports=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof n&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async=!("async"in n)||!!n.async,a.src=e,n.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,n.attrs),n.text&&(a.text=""+n.text),("onload"in a?t:function(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}})(a,r),a.onload||t(a,r),i.appendChild(a)}},577518:function(e,t,n){"use strict";let r,i;var a=n(814010),o=n(668609);let s=0,l=0;t.Z=function(e,t,n){let u=t&&n||0,c=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){let t=e.random||(e.rng||a.Z)();null==d&&(d=r=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=i=(t[6]<<8|t[7])&16383)}let v=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1,h=v-s+(p-l)/1e4;if(h<0&&void 0===e.clockseq&&(f=f+1&16383),(h<0||v>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=v,l=p,i=f;let m=((0xfffffff&(v+=122192928e5))*1e4+p)%0x100000000;c[u++]=m>>>24&255,c[u++]=m>>>16&255,c[u++]=m>>>8&255,c[u++]=255&m;let g=v/0x100000000*1e4&0xfffffff;c[u++]=g>>>8&255,c[u++]=255&g,c[u++]=g>>>24&15|16,c[u++]=g>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(let e=0;e<6;++e)c[u+e]=d[e];return t||(0,o.S)(c)}},888358:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.793 3.793a1 1 0 0 1 1.414 0l7.5 7.5a1 1 0 0 1 0 1.414l-7.5 7.5a1 1 0 0 1-1.414-1.414L18.586 13H3a1 1 0 1 1 0-2h15.586l-5.793-5.793a1 1 0 0 1 0-1.414",clipRule:"evenodd"})}),{}))},124901:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M20.307 20.307a.997.997 0 0 0 .003-1.412l-6.845-6.844 6.845-6.845a.997.997 0 0 0-.003-1.412.997.997 0 0 0-1.412-.002l-6.844 6.844-6.845-6.845a.997.997 0 0 0-1.412.003.997.997 0 0 0-.002 1.412l6.844 6.844-6.845 6.845a.997.997 0 0 0 .003 1.412.997.997 0 0 0 1.412.003l6.844-6.845 6.845 6.845a.997.997 0 0 0 1.412-.003"})}),{}))},359453:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M14.152 21.5q-.4 0-.705-.27a1.18 1.18 0 0 1-.368-.684 32 32 0 0 0-.58-2.687q-.294-1.079-.725-1.763a3.3 3.3 0 0 0-1.105-1.1q-.684-.414-1.746-.664a31 31 0 0 0-2.62-.477 1.2 1.2 0 0 1-.716-.363q-.273-.3-.273-.716 0-.415.284-.715.285-.312.715-.363a26 26 0 0 0 2.641-.415q1.074-.24 1.768-.654a3.4 3.4 0 0 0 1.126-1.12q.442-.705.715-1.794.273-1.1.515-2.697.064-.426.358-.685.306-.27.716-.27t.705.27q.305.26.378.685.285 1.597.569 2.686.294 1.08.725 1.764.432.683 1.116 1.1.683.414 1.736.663a30 30 0 0 0 2.62.467q.442.072.715.373.285.3.284.706 0 .425-.284.736-.284.3-.726.342-1.557.177-2.63.425-1.074.24-1.778.654a3.3 3.3 0 0 0-1.126 1.12q-.432.706-.705 1.795a30 30 0 0 0-.516 2.697 1.1 1.1 0 0 1-.368.684q-.294.27-.715.27M6.366 9.078q-.525 0-.589-.54a18 18 0 0 0-.252-1.565q-.127-.57-.421-.861-.295-.301-.884-.446-.59-.146-1.641-.29Q2 5.291 2 4.793t.516-.58a24 24 0 0 0 1.683-.343q.61-.156.905-.435.294-.291.42-.84.127-.561.253-1.546.063-.55.59-.55.515 0 .589.529.126 1.037.252 1.618.137.581.431.871.295.281.895.415.6.136 1.662.28.23.022.379.187.147.165.147.394 0 .488-.505.581-1.083.177-1.694.343-.6.155-.894.446-.295.279-.421.84T6.956 8.56a.58.58 0 0 1-.2.373.58.58 0 0 1-.39.145"})}),{}))},864802:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var r=n(429996),i=n(669160),a=n.n(i),o=n(199689),s={"samantha-button":"samantha-button-BghSMg",samanthaButton:"samantha-button-BghSMg",primary:"primary-ILSaWX",secondary:"secondary-DFAUit",tertiary:"tertiary-o1h39p",quartary:"quartary-aYEGEv","danger-primary":"danger-primary-F4AGmu",dangerPrimary:"danger-primary-F4AGmu","danger-secondary":"danger-secondary-NmhtRe",dangerSecondary:"danger-secondary-NmhtRe","danger-tertiary":"danger-tertiary-NjiaGk",dangerTertiary:"danger-tertiary-NjiaGk","ai-primary":"ai-primary-y5Hq_o",aiPrimary:"ai-primary-y5Hq_o","rotate-anim":"rotate-anim-XYikfA",rotateAnim:"rotate-anim-XYikfA",large:"large-_ZK9JD","icon-only":"icon-only-BL0gii",iconOnly:"icon-only-BL0gii",icon:"icon-hKywyK",medium:"medium-VC3b8a",small:"small-e8_KcA","ai-secondary":"ai-secondary-HZfU02",aiSecondary:"ai-secondary-HZfU02","image-primary":"image-primary-wMDMhY",imagePrimary:"image-primary-wMDMhY","image-secondary":"image-secondary-ICUN7w",imageSecondary:"image-secondary-ICUN7w","image-primary-dark":"image-primary-dark-rSxm7a",imagePrimaryDark:"image-primary-dark-rSxm7a","image-secondary-dark":"image-secondary-dark-wxFd7P",imageSecondaryDark:"image-secondary-dark-wxFd7P",logo:"logo-MhfZK1","icon-right":"icon-right-FlEKpJ",iconRight:"icon-right-FlEKpJ"},l=n(627394);let u=r.forwardRef(function(e,t){let{type:n="primary",size:r="medium",logo:i=!1,...u}=e,{icon:c,iconPosition:d}=u,f=c||e.loading,v=c&&i;return(0,l.jsx)(o.Z,{ref:t,...u,theme:"solid",type:"primary",size:"default",className:a()(s["samantha-button"],s[n],s[r],{[s.icon]:f,[s["icon-right"]]:f&&"right"===d,[s["icon-only"]]:f&&!e.children,[s.logo]:v},u.className),children:e.children})})},126473:function(e,t,n){"use strict";n.d(t,{Am:function(){return M},Be:function(){return u},E$:function(){return p},F0:function(){return x},H_:function(){return s},I9:function(){return h},J$:function(){return b},JB:function(){return D},LW:function(){return c},NF:function(){return $},Or:function(){return f},Se:function(){return P},UO:function(){return i},UY:function(){return C},VI:function(){return j},VO:function(){return N},VT:function(){return R},Wv:function(){return E},Ze:function(){return v},_N:function(){return A},aP:function(){return I},dB:function(){return O},dC:function(){return l},hB:function(){return W},i4:function(){return L},io:function(){return F},jv:function(){return T},lm:function(){return a},n1:function(){return Z},xW:function(){return d},z$:function(){return B}});var r=n(993047);let i=e=>{var t;return(null===(t=(e||"").match(/(.+)\.[^.]+$/))||void 0===t?void 0:t[1].toLowerCase().trim())||""},a=e=>{var t;return(null===(t=(e||"").match(/\.([^.]+)$/))||void 0===t?void 0:t[1].toLowerCase().trim())||""},o=e=>t=>e.includes(t),s=o(["txt"]),l=o(["csv"]),u=o(["xlsx","xls","xlsm"]),c=["pdf","txt","csv","docx","doc","xlsx","xls","pptx","ppt","md","mobi","epub"],d=["png","jpeg","jpg","csv","pdf","txt","xls","xlsx","ppt","pptx","doc","docx","json","log","md","ini","cfg","yaml","sql","java","py","cpp","cs","php","js","css","scss","less","jsx","ts","bat","sh","yml","asp","aspx","jsp","cgi","pl","rb","lua","ps1","conf","gitignore","htaccess","dat","tab","tex","html","h","go","tsx","c","py3","cxx","cc","mobi","epub"],f=o(["xbm","tif","pjp","svgz","jpg","jpeg","ico","tiff","gif","svg","jfif","webp","png","bmp","pjpeg","avif","heic","dng","arw","nef","ar2","ar3"]),v=o(["pdf"]),p=o(["ppt","pptx","pps","ppsx","pot"]),h=o(["doc","docx","dot","dotx"]),m=o(["md","markdown"]),g=o(["epub"]),y=o(["mobi"]),S=["makefile","gemfile","build.gradle"],_=["py","java","js","ts","c","cpp","h","hpp","cc","cxx","html","css","php","rb","pl","sh","bash","swift","kt","kts","ktm","go","dart","scala","cs","aspx","xaml","vue","mod","proto","tsx","jsx","rs","json","yaml","yml","xml","env","config","properties","ini","toml","plist","md","markdown","adoc","feature","sum","bat","cmd","psl","vbs","lua","vmx","vbox","dockerfile","wxml","wxss","m","for","f90","f95","f","xhtml","rdf","tmpl","scss","thrift","rst","meta","gitignore","patch","sql"],b=(e,t)=>_.includes(e)||S.includes(t),k=["mp4","flv","wmv","asf","mkv","avi","rm","rmvb","mpg","mpeg","mov","webm","m4v"],E=o(k),w=["mp3","m4a","wav","ogg","aac","ac3"],x=o(w),C=o(["zip","rar","7z","tar","gz","bz2"]),M=o(["pages"]),T=o(["key","keynote"]),Z=o(["numbers"]),P=o(["sketch"]),L=o(["psd","psb"]),D=e=>l(e)?"CSV":v(e)?"PDF":u(e)?"Spreadsheet":f(e)?"Image":p(e)?"PPT":h(e)?"Document":s(e)?"Txt":m(e)?"Markdown":g(e)?"Epub":y(e)?"Mobi":E(e)?"Video":x(e)?"Audio":"File",I=e=>({CSV:"CSV",PDF:"PDF",Spreadsheet:"Excel",Image:"Image",PPT:"PPT",Document:"Word",Txt:"txt",File:"File",Mobi:"Mobi",Epub:"Epub",Markdown:"Markdown",Video:"Video",Audio:"Audio"})[e];function W(e){return f(a(e))}function A(e){return E(a(e))}function R(e){return x(a(e))}function O(e){return[l,u].some(t=>t(a(e)))}let j=e=>{var t;let n=e.split(","),r=null===(t=n[0].match(/:(.*?);/))||void 0===t?void 0:t[1],i=window.atob(n[1]),a=i.length,o=new Uint8Array(a);for(;a--;)o[a]=i.charCodeAt(a);return new File([o],"temp",{type:r})},N=e=>{var t;return!!e&&e instanceof Blob&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("image"))},$=async e=>{var t;let{fileTypeFromBlob:i}=await (0,r.C5)(()=>n.e("16875").then(n.bind(n,573765)));return null===(t=await i(e))||void 0===t?void 0:t.ext},B=e=>e&&e instanceof Blob?k.includes(a(e.name).toLowerCase()):"string"==typeof e?k.includes(a(e).toLowerCase()):void 0,F=e=>e&&e instanceof Blob?w.includes(a(e.name).toLowerCase()):"string"==typeof e?w.includes(a(e).toLowerCase()):void 0},669785:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});let r=e=>e()},811208:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(118200),i=n(477041);let a=e=>t=>{let n=(0,r.Z)(t,e);return(0,i.Z)(n)?n:""}},847758:function(e,t,n){"use strict";var r,i,a,o,s;n.r(t),n.d(t,{ArtifactMetaStatus:function(){return l},ArtifactResourceType:function(){return u},ArtifactSourceType:function(){return c},ArtifactStatus:function(){return d},ArtifactType:function(){return f}});let l=((r={})[r.Undefined=0]="Undefined",r[r.Normal=1]="Normal",r[r.Deleted=2]="Deleted",r),u=((i={})[i.WriteDoc=1]="WriteDoc",i[i.Pages=2]="Pages",i[i.CanvasPage=3]="CanvasPage",i[i.StepWritingPage=4]="StepWritingPage",i[i.Code=5]="Code",i[i.StepWritingOtterPage=6]="StepWritingOtterPage",i),c=((a={})[a.Conversation=1]="Conversation",a[a.MobileMainConversation=2]="MobileMainConversation",a),d=((o={})[o.Init=0]="Init",o[o.Generating=1]="Generating",o[o.Generated=2]="Generated",o[o.Deleted=3]="Deleted",o[o.Terminal=4]="Terminal",o),f=((s={})[s.Page=1]="Page",s)},543281:function(e,t,n){"use strict";var r,i,a;n.d(t,{MZ:function(){return s},i1:function(){return o},m9:function(){return l}});let o=((r={})[r.Coco=1]="Coco",r[r.Bot=2]="Bot",r[r.CocoSub=3]="CocoSub",r[r.CocoWeb=4]="CocoWeb",r[r.CocoWebSub=5]="CocoWebSub",r),s=((i={})[i.ParseState_Default=0]="ParseState_Default",i[i.ParseState_Success=1]="ParseState_Success",i[i.ParseState_Failed=2]="ParseState_Failed",i[i.ParseState_Processing=3]="ParseState_Processing",i),l=((a={})[a.ReviewState_Default=0]="ReviewState_Default",a[a.ReviewState_Access=1]="ReviewState_Access",a[a.ReviewState_NotCompliant=2]="ReviewState_NotCompliant",a[a.ReviewState_Processing=3]="ReviewState_Processing",a)},908527:function(e,t,n){"use strict";var r,i,a,o;n.d(t,{O0:function(){return l},ON:function(){return u},hh:function(){return s},rn:function(){return c}});let s=((r={})[r.Generated=1]="Generated",r[r.Modified=2]="Modified",r),l=((i={})[i.PROCESSING=0]="PROCESSING",i[i.FAILED=1]="FAILED",i[i.SUCCESS=2]="SUCCESS",i),u=((a={})[a.WaitingForSearch=1]="WaitingForSearch",a[a.Searched=2]="Searched",a[a.Modified=3]="Modified",a),c=((o={})[o.WEBLink=1]="WEBLink",o[o.ManualLink=2]="ManualLink",o[o.ManualFile=3]="ManualFile",o)},689337:function(e,t,n){"use strict";n.d(t,{HL:function(){return d},Nu:function(){return s},ci:function(){return f},lx:function(){return u}});var r=n(377940),i=n(669384),a=n(636674);let o={[a.SkillType.ReadAndSummarize]:r.r4.SKILL_NAME_READ_SUMMARIZE,[i.W.SkillWrite]:r.r4.SKILL_NAME_WRITING_ASSISTANT,[i.W.SkillImageGen]:r.r4.SKILL_NAME_IMAGES_GENERATION,[i.W.SkillSearch]:r.r4.SKILL_NAME_SEARCH,[i.W.SkillDeepSearch]:r.r4.SKILL_NAME_DEEP_SEARCH,[i.W.SkillTranslate]:r.r4.SKILL_NAME_TRANSLATE,[i.W.SkillRead]:r.r4.SKILL_NAME_READ_PDF,[i.W.SkillWebpage]:r.r4.SKILL_NAME_READ_WEBPAGE,[i.W.SkillMusicGen]:r.r4.SKILL_NAME_MUSIC_GENERATION,[a.SkillType.AcademicSearch]:r.r4.SKILL_NAME_ACADEMIC_SEARCH,[a.SkillType.CodeInterpreter]:r.r4.SKILL_NAME_CODE_INTERPRETER,[i.W.SkillFreeChat]:null,[i.W.SkillEdu]:r.r4.SKILL_NAME_EXERCISE_ASSISTANT,[a.SkillType.ReadMultiWebsites]:r.r4.SKILL_NAME_READ_MULTIPLE_URL,[a.SkillType.CodeAssistant]:r.r4.SKILL_NAME_CODING,[a.SkillType.ReferenceAsk]:r.r4.SKILL_NAME_REFERENCE_ACK,[a.SkillType.VoiceCall]:r.r4.SKILL_NAME_VOICE_CALL,[a.SkillType.VideoGeneration]:r.r4.SKILL_NAME_VIDEO_GENERATION,[a.SkillType.AiPPT]:r.r4.SKILL_NAME_AI_PPT,[i.W.SkillDeepResearch]:r.r4.SKILL_NAME_DEEP_RESEARCH,[a.SkillType.SkillAiPodcast]:r.r4.SKILL_NAME_PODCAST,[a.SkillType.CustomSkill]:r.r4.SKILL_CUSTOM_SKILL,[a.SkillType.UGCBot]:null,[a.SkillType.AiReadWebsite]:null,[a.SkillType.LocalModelQA]:null,[a.SkillType.AISpace]:null,[i.W.DesExtChatSkillPlaceholder]:null,[i.W.DesExtSkillTranslate]:null,[i.W.DesExtSkillSummaryHighlight]:null,[i.W.DesExtSkillExplain]:null,[i.W.DesExtSkillDesExtSearchCard]:null,[i.W.DesExtSkillLinkPreview]:null,[i.W.DesExtSkillDesExtSuggest]:null,[i.W.DesExtSkillVideoSummary]:null,[i.W.DesExtSkillOneLevelVideoSummary]:null,[i.W.DesExtSkillRewriteWithTone]:null,[i.W.DesExtSkillCustomSkill]:null,[i.W.DesExtSkillSearchMindNote]:null,[i.W.DesExtSkillTextToMindNote]:null,[i.W.DesExtSkillBilingualSentence]:null,[i.W.DesExtSkillAITitle]:null,[i.W.DesExtPodcastTranscript]:null,[i.W.DesExtSkillWebsiteDetail]:null,[i.W.DesExtSkillSummary]:null,[i.W.DesExtSkillAIToolSummary]:null,[i.W.DesExtSkillMindMap]:null,[i.W.DesExtSkillSimplifiedRead]:null,[i.W.DesExtSkillGrammar]:null,[i.W.DesExtSkillReply]:null,[a.SkillType.DesExtSkillMeetingSummary]:r.r4.SKILL_NAME_MEETING_RECORD,[i.W.SkillTypeMediaUnderstandingByAsr]:null,[i.W.SkillSearchEngine]:null,[i.W.DesExtSkillVideoListSummary]:null,[i.W.DesExtSkillCommentAnalyze]:null,[i.W.DesExtSkillVideoDeepAnalyze]:null,[i.W.DesExtSkillTopicTrendAnalyze]:null,[i.W.DesExtSkillPageTranslate]:null,[i.W.DesExtSkillSharedAppAssistant]:r.r4.SKILL_SHARED_APP_ASSISTANT,[i.W.DesExtSkillGrammarCorrection]:null,[i.W.DesExtSkillPodcastReading]:null,[i.W.DesExtSkillEncyclopedia]:null,[i.W.DesExtSkillMindMapGenerate]:null,[i.W.SkillUserCustomSkill]:null,[i.W.DesExtSkillSuperTask]:r.r4.SKILL_NAME_SUPER_TASK},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return o[e||i.W.SkillFreeChat]},l={[a.SkillType.ReadAndSummarize]:"chat_action_bar_read_summarize",[i.W.SkillWrite]:"chat_action_bar_compose",[i.W.SkillImageGen]:"chat_action_bar_image_creation",[i.W.SkillSearch]:"chat_action_bar_search",[i.W.SkillDeepSearch]:"chat_action_bar_deep_search",[i.W.SkillTranslate]:"chat_action_bar_translate",[i.W.SkillRead]:"chat_action_bar_read_pdf",[i.W.SkillWebpage]:"chat_action_bar_read_url",[i.W.SkillMusicGen]:"chat_action_bar_music_creation",[a.SkillType.AcademicSearch]:"chat_action_bar_academic_search",[a.SkillType.CodeInterpreter]:"chat_action_bar_code_interpreter",[a.SkillType.ExerciseAssistant]:"chat_action_bar_exercise_assistant",[i.W.SkillFreeChat]:"",[a.SkillType.ReadMultiWebsites]:"",[a.SkillType.CodeAssistant]:"chat_action_bar_coding",[a.SkillType.VoiceCall]:"",[a.SkillType.VideoGeneration]:"chat_action_bar_video_creation",[a.SkillType.AiPPT]:"chat_action_bar_video_creation",[a.SkillType.UGCBot]:"",[a.SkillType.AiReadWebsite]:"",[a.SkillType.LocalModelQA]:"",[a.SkillType.AISpace]:"",[a.SkillType.SkillAiPodcast]:"",[a.SkillType.CustomSkill]:"",[i.W.DesExtChatSkillPlaceholder]:"",[i.W.DesExtSkillTranslate]:"",[i.W.DesExtSkillSummaryHighlight]:"",[i.W.DesExtSkillExplain]:"",[i.W.DesExtSkillDesExtSearchCard]:"",[i.W.DesExtSkillLinkPreview]:"",[i.W.DesExtSkillDesExtSuggest]:"",[i.W.DesExtSkillVideoSummary]:"",[i.W.DesExtSkillOneLevelVideoSummary]:"",[i.W.DesExtSkillRewriteWithTone]:"",[i.W.DesExtSkillCustomSkill]:"",[i.W.DesExtSkillSearchMindNote]:"",[i.W.DesExtSkillTextToMindNote]:"",[i.W.DesExtSkillBilingualSentence]:"",[i.W.DesExtSkillAITitle]:"",[i.W.DesExtPodcastTranscript]:"",[i.W.DesExtSkillWebsiteDetail]:"",[i.W.DesExtSkillSummary]:"",[i.W.DesExtSkillAIToolSummary]:"",[i.W.DesExtSkillReferenceAsk]:"",[i.W.DesExtSkillMindMap]:"",[i.W.DesExtSkillSimplifiedRead]:"",[i.W.DesExtSkillGrammar]:"",[i.W.DesExtSkillReply]:"",[a.SkillType.DesExtSkillMeetingSummary]:"",[i.W.SkillTypeMediaUnderstandingByAsr]:"",[i.W.SkillSearchEngine]:"",[i.W.DesExtSkillVideoListSummary]:"",[i.W.DesExtSkillCommentAnalyze]:"",[i.W.DesExtSkillVideoDeepAnalyze]:"",[i.W.DesExtSkillTopicTrendAnalyze]:"",[i.W.DesExtSkillPageTranslate]:"",[i.W.SkillDeepResearch]:"",[i.W.DesExtSkillSharedAppAssistant]:"",[i.W.DesExtSkillGrammarCorrection]:"",[i.W.DesExtSkillPodcastReading]:"",[i.W.DesExtSkillSuperTask]:"",[i.W.DesExtSkillEncyclopedia]:"",[i.W.DesExtSkillMindMapGenerate]:""},u=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=l[t])&&void 0!==e?e:l[i.W.SkillFreeChat]},c={[i.W.SkillWrite]:"writing_preview",[i.W.SkillImageGen]:"image_preview",[i.W.SkillFreeChat]:"",[a.SkillType.CodeInterpreter]:"ci_preview"},d=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=c[t||i.W.SkillFreeChat])&&void 0!==e?e:c[i.W.SkillFreeChat]},f=e=>void 0===e?"generic":e.toString()},200694:function(e,t,n){"use strict";n.d(t,{M:function(){return a},X:function(){return i}});var r=n(210230);let i=(e,t)=>{let n=e.chunk_seq,i=null==t?void 0:t.chunk_seq;return!!(!(0,r.Z)(n)&&!(0,r.Z)(i)&&Number(n)<=Number(i))},a=(e,t)=>{let n=e.chunk_seq,i=null==t?void 0:t.chunk_seq;return!!(!(0,r.Z)(n)&&!(0,r.Z)(i)&&Number(n)<Number(i))}},380815:function(e,t,n){"use strict";n.d(t,{DG:function(){return s},Kk:function(){return a},LW:function(){return l},YE:function(){return u},jQ:function(){return i},sV:function(){return o},xR:function(){return r}});let r=e=>(null==e?void 0:e.type)==="attachment"||(null==e?void 0:e.type)==="file",i=e=>(null==e?void 0:e.type)==="image",a=e=>(null==e?void 0:e.type)==="directory",o=e=>(null==e?void 0:e.type)==="link",s=e=>(null==e?void 0:e.type)==="text";function l(e){return!!e&&["7400765672814379027","7411132181101838390","7264586389273018423"].includes(e)}let u=e=>{var t;return!!(e.operation&&"regenerate"in e.operation&&(null===(t=e.operation)||void 0===t?void 0:t.regenerate))}},257149:function(e,t,n){"use strict";n.d(t,{Kr:function(){return a},Pf:function(){return i},X1:function(){return o}});var r=n(708481);let i=async e=>{let t=await (0,r.cf)("AliceChatStream");null==t||t.pullMessage([e])},a=async e=>{let t=await (0,r.cf)("AliceChatFallback");null==t||t.cancelTask(e)},o=async e=>{let{replyId:t,localMessageId:n}=e;if(t){let e=await (0,r.cf)("AliceChatStream"),n=await (0,r.cf)("AliceChatFallback");null==e||e.cancelTask(t),null==n||n.cancelTask(t)}if(n){let e=await (0,r.cf)("SamanthaChat");null==e||e.cancelTask(n)}}},626101:function(e,t,n){"use strict";n.d(t,{s:function(){return C}});var r=n(177056),i=n(210230),a=n(81192),o=n(669384),s=n(81307),l=n(148824),u=n(228535),c=n(200694),d=n(589944),f=n(708481),v=n(126628),p=n(792288),h=n(468494),m=n(666396),g=n(644367),y=n(831929),S=n(623666),_=n(744947),b=n(777433),k=n(530836),E=n(789691),w=n(298113),x=n(969537);let C=e=>{var t,n;let C=k.useMessageStore.getState(),{conversation_id:M,message_id:T,reply_id:Z="",stream_id:P}=e,L=!!(null===(t=e.content_blocks)||void 0===t?void 0:t.find(e=>e.block_type===o.zc.SamanthaSuggest));try{let t=(0,p.QW)(h.useFeedStore.getState(),M),n=(0,l.zu)(e),o=(0,u.FFC)(e),S=(0,u.ZFo)(e),D=(0,u.qF)(e),I=(0,l.bf)(e),W=(0,u.AS7)(e),A=(0,u.vlk)(e),R=D?m.YR:Z;if(C.updateMessageList({conversationId:M,immerUpdate:function(){for(var l,u,v,p,h=arguments.length,S=Array(h),_=0;_<h;_++)S[_]=arguments[_];let[k]=S,{draftLocalMessageMap:w,draftMessageMap:x,draftMessageLinks:C,draftRegenerateMessageMap:Z}=k,L=!!x[T],D=w[T];if(!L&&!D){let{messageLink:n}=(0,y.Bi)(k,R,P)||{};(0,y.ae)({isRegenerate:I,immerUpdateMessage:S,newLocalMessageId:T,messageId:"",conversationId:M,replyId:R,message:e,sectionId:e.section_id,localMessageStatus:s.JR.ReceivingStream,conversationType:t,skillType:null==e?void 0:null===(l=e.skill)||void 0===l?void 0:l.skill_type}),(0,y.eD)({isRegenerate:I,immerUpdateMessage:S,newLocalMessageId:T,messageKey:null!==(u=null==n?void 0:n.messageKey)&&void 0!==u?u:(0,E.s)()}),D=w[T]}if(!L&&D){if((0,c.M)(e,D))return;let{receiveStreamPackageUpdateTimeout:t=m.Gv}=(0,d.$)("chatMessageConfig")||{};if(w[T]={...D,local:{...D.local,status:s.JR.ReceivingStream,failed:!1,failedExpired:n||o?void 0:Date.now()+t},...(0,r.Z)(e,i.Z),local_message_id:D.local_message_id},n){if(g.k.console.info({namespace:null===(v=e.local_info)||void 0===v?void 0:v.from,message:"replaceLocalMessageByRemote",meta:{message:e}}),(0,b.yk)({draft:k,localMessage:D,message:e}),D.local.isRegenerate){let t=(0,a.Z)(e);t.is_regen=!0,t.regen_active=!0,Z.messageMap={...Z.messageMap,[T]:t}}R&&(0,f.cf)("AliceChatFallback").then(e=>null==e?void 0:e.cancelTask(R))}}else{let t=x[T];if((0,c.M)(e,t))return;x[T]=e,L||C.push({isLocalMessage:!1,messageId:T}),n&&g.k.persist.info({namespace:null===(p=e.local_info)||void 0===p?void 0:p.from,message:"Receive Non-local Finished Message",meta:{message_id:T,conversation_id:M,is_exist:L}})}}}),e.section_id&&!S){let t=D?void 0:(0,_.K9)(k.useMessageStore.getState(),M,{isLocalMessage:!1,messageId:R});(null==t?void 0:t.section_id)!==e.section_id&&h.useFeedStore.getState().updateLastSectionId(M,e.section_id)}let O=(0,u.LxO)(e);if(n&&O&&e.reply_id){let{receiveStreamPackageUpdateTimeout:e=m.Gv}=(0,d.$)("chatMessageConfig")||{};C.updateSuggestMessage(M,()=>({replyId:Z,loading:!0,failed:!1,expired:Date.now()+e,suggests:[]}))}W&&O&&C.updateSuggestMessage(M,()=>{});let j=w.t.getSessionIdBySentMessageId(M,Z);W||(L?(0,x.cV)(M,j,e):(0,x.il)(M,j,e)),o?(0,x.Kr)(M,j,e):A?(0,x.ox)(M,j,e):n&&O&&!W?(0,x.ZL)(M,j,e):W&&(L?(0,x.Pw)(M,j,e):(0,x.hV)(M,j,e)),(0,v.IK)().then(t=>{let n=t.filter(t=>t.matchPlugin(e)).map(e=>e.pluginIdentifier);(0,f.$$)(n).then(t=>{t.forEach(t=>{var n;null==t||null===(n=t.handleReceivingMessageError)||void 0===n||n.call(t,e)})}),n.length>0&&g.k.persist.warning({message:"receive message failed"})})}catch(i){let t=(0,a.Z)(e);t.final_status={message:null===(n=t.final_status)||void 0===n?void 0:n.message,session:(0,S.RB)(i)};let r=w.t.getSessionIdBySentMessageId(M,Z);throw L?(0,x.Pw)(M,r,e):((0,x.wJ)(M,r,t),(0,x.Kr)(M,r,t)),i}}},831929:function(e,t,n){"use strict";n.d(t,{$_:function(){return S},BH:function(){return m},Bi:function(){return _},ae:function(){return g},eD:function(){return y}});var r=n(475666),i=n(508830),a=n(260325),o=n(81307),s=n(900730),l=n(589944),u=n(666396),c=n(455746),d=n(63746),f=n(297562),v=n(436462),p=n(334578),h=n(777433);function m(e,t){let{conversationId:n,replyId:a}=t,o=(0,r.Z)(e.localMessageMap[n],e=>(null==e?void 0:e.reply_id)===a);return(0,i.Z)(o)}function g(e){var t;let{isRegenerate:n,immerUpdateMessage:r,newLocalMessageId:i,conversationId:a,replyId:o,sectionId:s,message:p={},timeout:h=0,localMessageStatus:m}=e,[g]=r,{receiveMessageStartTimeout:y=u.Gr}=(0,l.$)("chatMessageConfig")||{},S=(0,d.UQ)({messageMap:g.draftMessageMap});g.draftLocalMessageMap[i]=(0,f.W)({prevMessageId:n?null===(t=(0,v.Pw)(g.draftMessageLinks,e=>{var t;return(null===(t=S(e))||void 0===t?void 0:t.reply_id)===o}))||void 0===t?void 0:t.messageId:o,localMessageStatus:m,message:{...p,is_delta:!1,user_type:c.UserType.Bot,conversation_id:a,section_id:s,local_message_id:i,reply_id:o},failedExpired:Date.now()+(1e3*Number(h)||y),messageLinks:g.draftMessageLinks,isRegenerate:n})}function y(e){let{immerUpdateMessage:t,newLocalMessageId:n,messageKey:r}=e,[i]=t;if(!(0,a.Z)(i.draftMessageLinks,e=>e.messageId===n)){let e={isLocalMessage:!0,messageId:n,...r?{messageKey:r}:{}};i.draftMessageLinks.push(e)}}function S(e){let[t]=e,{draftLocalMessageMap:n,draftMessageLinks:r,draftMessageMap:i}=t;r.filter(e=>{var t,r;let{isLocalMessage:i,messageId:a}=e;return i&&(null===(r=n[a])||void 0===r?void 0:null===(t=r.local)||void 0===t?void 0:t.status)===o.JR.ReceivingFirstPackage}).sort((e,t)=>(0,p.Z)(i[n[t.messageId].reply_id||""],i[n[e.messageId].reply_id||""])).forEach((e,n)=>{n&&(0,h.Tt)(t,e)})}function _(e,t,n){let{draftLocalMessageMap:r}=e,i=(0,s.J)(t,n),a=(0,s.J)(t),o=r[u.lf],l=r[a],c=r[i];return o?(0,h.FL)(e,u.lf):l?(0,h.FL)(e,a):c?(0,h.FL)(e,i):void 0}},844108:function(e,t,n){"use strict";n.d(t,{D:function(){return x}});var r=n(81192),i=n(327386),a=n(985871),o=n.n(a),s=n(81307),l=n(414817),u=n(148824),c=n(228535),d=n(729813),f=n(455746),v=n(51679),p=n(967037),h=n(644367),m=n(920679),g=n(436462),y=n(744947),S=n(530836),_=n(298113),b=n(969537),k=n(626101),E=n(257149);async function w(e,t,n,a){if(!n)return;let{message_id:g,local_message_id:w,reply_id:x}=n,C=e.getState();if((0,l.H)(n)&&((0,u.ad)(n)||(0,c.TDR)(n)||(0,u.Oy)(n))){C.finishSendMessageTask(w),await C.updateMessageList({conversationId:t,immerUpdate:e=>{let{draftLocalMessageMap:t}=e,r=t[(null==n?void 0:n.local_message_id)||""];r&&(r.local.hasBroken=!0,r.status=f.PushMessageStatus.InVisible,r.local.status=s.JR.Broken)}}),d.v.emit("chat.localBreak");let e=(0,r.Z)(n);e.final_status={message:"Broken",session:"Broken"};let i=_.t.getSessionIdBySentMessageId(t,n.local_message_id||"");await (0,b.BF)(t,i,e),await (0,E.X1)({localMessageId:(0,u.Oy)(n)?null==n?void 0:n.reply_id:null==n?void 0:n.local_message_id});return}if(!(0,u.zu)(n)||(0,l.H)(n)&&(0,c.pdQ)(n)){let e=(0,y.K9)(S.useMessageStore.getState(),t,{isLocalMessage:!1,messageId:x||""});if((0,l.H)(n)&&(0,u.ph)(n))await C.updateMessageList({conversationId:t,immerUpdate:e=>{let{draftLocalMessageMap:i,draftMessageLinks:a}=e,o=i[w||""];o&&(o.local.hasBroken=!0,o.status=f.PushMessageStatus.InVisible,o.local.status=s.JR.Broken,o.final_status={message:"Broken",session:"Broken"});let l=a.find(e=>e.messageId===w);l&&(l.messageKey=`${l.messageId}_break`);let u=_.t.getSessionIdBySentMessageId(t,n.reply_id||"");(0,b.ox)(t,u,(0,r.Z)(o))}});else if(((0,l.H)(n)&&(0,c.$28)(n)||!(0,u.zu)(n))&&g){let e={conversation_id:t,message_id:g,...(0,i.Z)(n,["local","local_message_id"]),status:f.PushMessageStatus.Broken,chunk_seq:"999999",is_finish:!0,is_delta:!1,final_status:{message:"Broken",session:"Broken"}};(0,k.s)(e)}await (0,E.X1)({replyId:x||"",localMessageId:null==e?void 0:e.local_message_id}),d.v.emit("chat.localBreak");let M=x||g,T=(0,p.zQ)({eventName:"break_message"});if(!function(e){if(!e)return!1;let t=(0,m.v)(Number(e.create_time||Date.now()));return o()().isBefore(o()(t).add(10,"minute"))}(n)||!M||(null==t?void 0:t.startsWith("local"))||(0,c.vlk)(n)){h.k.persist.log({eventName:"break_message_invalid",meta:{replyId:String(M),conversation_id:String(t),is_finished:(0,u.zu)(n)?"1":"0",create_time:String(n.create_time),message_type:String(n.message_type),content_type:String(n.content_type),status:String(n.status),localMessageStatus:(0,l.H)(n)&&String(n.local.status)}});return}v.kz.MessageReport({reply_id:M,conversation_id:t,action:"break"}).then(()=>{T.addDurationPoint("success"),T.success()},e=>{T.error({reason:"break message failed",error:e,meta:{replyId:String(M),conversation_id:String(t),is_finished:(0,u.zu)(n)?"1":"0",create_time:String(n.create_time),message_type:String(n.message_type),content_type:String(n.content_type),status:String(n.status),localMessageStatus:(0,l.H)(n)&&String(n.local.status)}}),null==a||a()})}}async function x(e,t){let n=e.getState(),r=(0,y.Sv)(n,t);if((0,c.Q5B)(r)){let n=(0,g.MF)(t);(null==n?void 0:n.length)&&await Promise.all(null==n?void 0:n.map(n=>w(e,t,n)))}else{if((0,u.Wj)(r))return;await w(e,t,r)}}},65646:function(e,t,n){"use strict";n.d(t,{DK:function(){return l},WR:function(){return d},oH:function(){return c}});var r=n(742470),i=n(228535),a=n(744947),o=n(530836),s=n(468494);function l(e){var t;return null==e?void 0:null===(t=e.content_blocks)||void 0===t?void 0:t.find(e=>e.block_type===r.zc.BLOCK_REQUIREMENT_CLARIFY)}function u(e){return void 0!==l(e)}let c=(e,t)=>{for(let n of e)if("block"===n.type)for(let e of n.data){let n=(0,a.K9)(o.useMessageStore.getState(),t,e);if(u(n))return n}else if("single"===n.type){let e=(0,a.K9)(o.useMessageStore.getState(),t,n.data);if(u(e))return e}return null},d=(e,t)=>{var n;if(!t||!(0,i.$bh)(t))return!1;let r=s.useFeedStore.getState().lastSectionIdMap[e];return!r||t.section_id===r&&!(null==t?void 0:null===(n=t.ext)||void 0===n?void 0:n.samantha_code)}},147854:function(e,t,n){"use strict";n.r(t),n.d(t,{RequirementClarifyConfirmButtonPlugin:function(){return _}});var r=n(429996),i=n(65646),a=n(742470),o=n(156217),s=n(689337),l=n(17135),u=n(432626),c=n(636674),d=n(864802),f=n(247686),v=n(627394);let p=e=>{var t;let{messageId:n,message:i,size:p}=e,h=(0,u.g1)(),m=(0,r.useMemo)(()=>{var e;return null==i?void 0:null===(e=i.content_blocks)||void 0===e?void 0:e.find(e=>e.block_type===a.zc.BLOCK_REQUIREMENT_CLARIFY)},[i]),{sendMessage:g}=(0,o.GL)("chatMessageService"),y=(0,r.useRef)(!1),S=(0,r.useCallback)(()=>{var e,t,r;if(y.current||!i)return;let a={skill_id:String(c.SkillType.CodeAssistant),skill_type:c.SkillType.CodeAssistant},o=[{type:"text",text:"",extra:{context_variables:JSON.stringify({code_assistant_source:"dev_mode",code_assistant_requirements:{send_type:1,resource_key:null==m?void 0:null===(e=m.content_obj)||void 0===e?void 0:e.resource_key,clarify_message_id:n}})}}];(0,l.trackEvent)("click_card",{card_type:"code_agent_requirement_clarification",button_name:"start_generating",bot_id:i.bot_id,skill_id:null===(t=i.skill)||void 0===t?void 0:t.skill_id_no_default,skill_name:(0,s.Nu)(null===(r=i.skill)||void 0===r?void 0:r.skill_type_no_default),conversation_id:i.conversation_id,section_id:i.section_id,message_id:i.message_id}),g([{text:h("coding_website_build_confirm_requirement"),reportParams:{scene:"requirement_clarify_confirm_button"},extraExt:{input_skill:JSON.stringify(a),answer_with_suggest:"0",send_from_skill_guidance_or_suggestion:"1",reference_content:JSON.stringify(o)}}])},[n,i,null==m?void 0:null===(t=m.content_obj)||void 0===t?void 0:t.resource_key,g]);return(0,v.jsx)(d.R,{type:"ai-primary",size:p,icon:(0,v.jsx)(f.h,{}),iconPosition:"right",onClick:S,children:h("coding_website_build_confirm_requirement")})};var h=n(439810),m=n(530836),g=n(744947);let y=e=>{let{conversationId:t}=e,[n,a]=(0,r.useState)(),o=(0,m.useMessageStore)(e=>{let r=e.messageLinkMap[t];if(!r)return{enableToGenerateCode:!1,message:null};let a=r.find(e=>e.messageId===n);if(!a)return{enableToGenerateCode:!1,message:null};let o=(0,g.K9)(e,t,a);return{enableToGenerateCode:(0,i.WR)(t,o),message:o}});return{genre:(0,r.useMemo)(()=>{var e,t,n;return null!==(n=null===(t=o.message)||void 0===t?void 0:null===(e=t.content_obj)||void 0===e?void 0:e.genre)&&void 0!==n?n:"paper"},[o.message]),clarifyMessageId:n,setClarifyMessageId:a,enableToGenerateCode:null==o?void 0:o.enableToGenerateCode}},S=e=>{let{conversationId:t,unionMessageList:n,inViewMessageList:a}=e,{clarifyMessageId:o,enableToGenerateCode:s,setClarifyMessageId:l}=y({conversationId:t}),u=(0,r.useRef)();return((0,r.useEffect)(()=>{let e=(0,h.W)(t,n);if(!e){l(void 0);return}let r=(0,i.oH)([e],t);if(!r||!a.find(t=>t.id===e.id)){l(void 0);return}u.current=r,l(r.message_id)},[n,a]),o&&s)?(0,v.jsx)("div",{className:"floating-wrapper-Ktj3qE",children:(0,v.jsx)(p,{size:"large",messageId:o,message:u.current})}):null};class _{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:S,enumerable:!0,configurable:!0,writable:!0}):this[e]=S}}},439810:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(260325),i=n(744947),a=n(530836);let o=(e,t)=>(0,r.Z)(t,t=>{if("single"===t.type){let n=(0,i.K9)(a.useMessageStore.getState(),e,t.data);return!!Number(null==n?void 0:n.reply_id)}if("block"===t.type){var n;return null===(n=t.data)||void 0===n?void 0:n.some(t=>{let n=(0,i.K9)(a.useMessageStore.getState(),e,t);return!!Number(null==n?void 0:n.reply_id)})}return!1})},351371:function(e,t,n){"use strict";n.d(t,{A:function(){return u},W:function(){return l}});var r=n(429996),i=n(260325),a=n(744947),o=n(530836),s=n(883138);let l=(e,t)=>(0,i.Z)(t,t=>{if("single"===t.type){let n=(0,a.K9)(o.useMessageStore.getState(),e,t.data);return!!Number(null==n?void 0:n.reply_id)}if("block"===t.type){var n;return null===(n=t.data)||void 0===n?void 0:n.some(t=>{let n=(0,a.K9)(o.useMessageStore.getState(),e,t);return!!Number(null==n?void 0:n.reply_id)})}return!1}),u=e=>{let{conversationId:t}=e,[n,i]=(0,r.useState)(),l=(0,o.useMessageStore)(e=>{let r=e.messageLinkMap[t];if(!r)return{enableToGenerateDoc:!1,message:null};let i=r.find(e=>e.messageId===n);if(!i)return{enableToGenerateDoc:!1,message:null};let o=(0,a.K9)(e,t,i);return{enableToGenerateDoc:(0,s.x)(t,o),message:o}});return{genre:(0,r.useMemo)(()=>{var e,t,n;return null!==(n=null===(t=l.message)||void 0===t?void 0:null===(e=t.content_obj)||void 0===e?void 0:e.genre)&&void 0!==n?n:"paper"},[l.message]),pptMessageId:n,setPptMessageId:i,enableToGenerateDoc:null==l?void 0:l.enableToGenerateDoc}}},891103:function(e,t,n){"use strict";n.r(t),n.d(t,{matcher:function(){return o}});var r=n(351371),i=n(427451),a=n(883138);let o=e=>{let{isSelectMode:t,conversationId:n,unionMessageList:o}=e,s=(0,r.W)(n,o);if(!s)return;let l=(0,a.o)([s],n);if(!(null==l?void 0:l.content_obj))return;let{genre:u}=l.content_obj;return t||"ai_ppt"!==u?void 0:i.H}},737897:function(e,t,n){"use strict";n.r(t),n.d(t,{PptMessageListBottomBtnPlugin:function(){return c}});var r=n(429996),i=n(93708),a=n(351371),o=n(883138),s=n(585448),l=n(627394);let u=e=>{let t=(0,i.sQ)("chatViewCanvasStore",e=>e.isExpand),{conversationId:n,unionMessageList:u,inViewMessageList:c}=e,{pptMessageId:d,enableToGenerateDoc:f,setPptMessageId:v}=(0,a.A)({conversationId:n});return((0,r.useEffect)(()=>{let e=(0,a.W)(n,u);if(!e){v(void 0);return}let t=(0,o.o)([e],n);if(!t||!c.find(t=>t.id===e.id)){v(void 0);return}v(t.message_id)},[u,c]),d&&f&&!t)?(0,l.jsx)("div",{className:"floating-gen-ppt-btn-vsouJb",children:(0,l.jsx)(s.V4,{messageId:d,floating:!0})}):null};class c{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):this[e]=u}}},585448:function(e,t,n){"use strict";n.d(t,{V4:function(){return y}});var r=n(429996),i=n(411358),a=n(640465),o=n(477710),s=n(156217),l=n(530836),u=n(744947),c=n(93708),d=n(15348),f=n(886421),v=n(729813),p=n(432626),h=n(51679),m=n(393648),g=n(627394);let y=e=>{var t;let{messageId:n,floating:y=!1,onClick:S,buttonText:_,...b}=e,k=(0,p.g1)(),{currentChatViewConfig:E}=(0,c.sQ)("chatViewCoreStore"),w=(null==E?void 0:E.chatId)||"",x=(0,s.GL)("chatViewService"),C=(0,s.GL)("chatTeaService"),M=(0,m.nu)();(0,r.useEffect)(()=>{C.trackEvent("ai_ppt_button_show",{conversation_id:w,message_id:n,button_name:"select_template",bot_id:(0,f.SR)(w)})},[]);let T=(0,l.useMessageStore)(e=>{if(w)return(0,u.K9)(e,w,{isLocalMessage:!1,messageId:n})}),Z=null==T?void 0:null===(t=T.content_obj)||void 0===t?void 0:t.outline_id,P=()=>{var e,t,r,a;if(!M){(0,d.D)("chatNavigateService").then(e=>null==e?void 0:e.navigateToLoginPage("ppt_send_message")),v.v.emit("chat.guest.login",{source:"ppt_send_message"});return}w&&(S&&S(),h.mH.GetOutlineMeta({outline_id:null!==(a=null!==(r=null==T?void 0:null===(e=T.ext)||void 0===e?void 0:e.outline_id)&&void 0!==r?r:null==T?void 0:null===(t=T.content_obj)||void 0===t?void 0:t.outline_id)&&void 0!==a?a:""}).then(e=>{var t,r,a;null==x||null===(a=x.openCanvasPanel)||void 0===a||a.call(x,{conversationId:w,messageId:n,canvasLayoutState:o.P.CANVAS_ONLY,pptShowProps:{id:(0,i.Z)(),initalMode:"create",content:null===(t=e.data)||void 0===t?void 0:t.markdown_content,outlineId:null==T?void 0:null===(r=T.content_obj)||void 0===r?void 0:r.outline_id,onClose:()=>{null==x||x.closeCanvasPanel()}}},void 0,!1)}),C.trackEvent("ai_ppt_button_click",{conversation_id:w,message_id:n,button_name:"select_template",bot_id:(0,f.SR)(w)}))};return y?(0,g.jsx)(a.L,{...b,onClick:P,isShow:!!Z,"data-testid":"ppt_gen_ppt_button",size:"large",children:_||k("skill_aippt_choose_template_button")}):(0,g.jsx)(a.c,{...b,onClick:P,children:_||k("skill_aippt_choose_template_button")})}},883138:function(e,t,n){"use strict";n.d(t,{o:function(){return s},x:function(){return l}});var r=n(228535),i=n(744947),a=n(530836),o=n(468494);let s=(e,t)=>{for(let n of e)if("block"===n.type)for(let e of n.data){let n=(0,i.K9)(a.useMessageStore.getState(),t,e);if((0,r.N0s)(n))return n}else if("single"===n.type){let e=(0,i.K9)(a.useMessageStore.getState(),t,n.data);if((0,r.N0s)(e))return e}return null},l=(e,t)=>{var n;if(!t||!(0,r.$bh)(t))return!1;let i=o.useFeedStore.getState().lastSectionIdMap[e];return!i||t.section_id===i&&!(null==t?void 0:null===(n=t.ext)||void 0===n?void 0:n.samantha_code)}},884604:function(e,t,n){"use strict";n.r(t),n.d(t,{ReadDocumentMessageListLifeCyclePlugin:function(){return o}});var r=n(54642),i=n(93708),a=n(826953);class o{mounted(e){var t;let{conversationId:n}=e,o=r.messageServiceContainer.get("chatViewService"),{canvasContent:s,conversationId:l}=(0,i.GX)("chatViewCanvasStore")||{};if(null!=(t=s)&&t.readContent&&n===l)return;let u=a.X.getState().canvasOpenStatusMap[n];u&&setTimeout(()=>{null==o||o.openCanvasPanel(u)},0)}}},826953:function(e,t,n){"use strict";n.d(t,{X:function(){return l},o:function(){return u}});var r=n(613993),i=n(231462),a=n(561200);let o={urlEditorValue:{data:[]},linkEditorValue:"",promptEditorValue:"",readDocEditorFocused:!1,readUrlEditorFocused:!1,latestRead:[],latestReadInitiated:!1,guidanceEditorValue:{data:[]},canvasOpenStatusMap:{}},s={guidanceEditorValue:{data:[]},guidanceEditorFocused:!1},l=(0,i.Ue)()((0,r.XR)(e=>({...o,updateUrlEditorValue:t=>{e((0,a.Uy)(e=>{e.urlEditorValue=t}))},updateLinkEditorValue:t=>{e((0,a.Uy)(e=>{e.linkEditorValue=t}))},updatePromptEditorValue:t=>{e((0,a.Uy)(e=>{e.promptEditorValue=t}))},updateGuidanceEditorValue:t=>{e((0,a.Uy)(e=>{e.guidanceEditorValue=t}))},updateReadDocEditorFocusedState:t=>{e((0,a.Uy)(e=>{e.readDocEditorFocused=t}))},updateReadUrlEditorFocusedState:t=>{e((0,a.Uy)(e=>{e.readUrlEditorFocused=t}))},updateLatestRead:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e((0,a.Uy)(e=>{e.latestReadInitiated=!0,t&&(e.latestRead=n?[...e.latestRead,...t]:t)}))},saveCanvasOpenState:t=>{e((0,a.Uy)(e=>{let{conversationId:n}=t;e.canvasOpenStatusMap[n]=t}))},removeCanvasOpenState:t=>{e((0,a.Uy)(e=>{delete e.canvasOpenStatusMap[t]}))}}))),u=(0,i.Ue)()((0,r.XR)(e=>({...s,updateGuidanceEditorValue:t=>{e((0,a.Uy)(e=>{e.guidanceEditorValue=t}))},updateGuidanceEditorFocusedState:t=>{e((0,a.Uy)(e=>{e.guidanceEditorFocused=t}))}})))},563824:function(e,t,n){"use strict";n.d(t,{cR:function(){return x}});var r=n(429996),i=n(594175),a=n(640465),o=n(368249),s=n(377940),l=n(156217),u=n(228535),c=n(530836),d=n(744947),f=n(93708),v=n(432626),p=n(636674),h=n(640078),m=n(765521),g=n(201388),y=n(908527),S=n(51679),_=n(993047),b=n(698570),k=n(669785);let E=e=>{let{outlineId:t}=e,{data:n,run:i}=(0,b.Z)(async()=>{try{return(await (0,_.aG)({value:()=>S.mH.GetOutlineMeta({outline_id:t}),ifRetry:e=>{var t,n,r,i;return!((null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(t=n.content)||void 0===t?void 0:t.reference_status)&&(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(r=i.content)||void 0===r?void 0:r.reference_status)!==y.ON.WaitingForSearch)},interval:2e3})).data}catch(e){return null}},{manual:!0});return(0,r.useEffect)(()=>{t&&i()},[t]),(0,k.e)(()=>{var e,t;return!!n&&(null===(t=n.content)||void 0===t||null===(e=t.sub_paragraph_content)||void 0===e||!e.length||!n.content.sub_paragraph_content.some(e=>e.reference_status===y.ON.WaitingForSearch))})};var w=n(627394);let x=e=>{var t;let{messageId:n,floating:y=!1,...S}=e,_=(0,v.g1)(),b=(0,l.GL)("chatViewService"),{sendMessage:k}=(0,l.GL)("chatMessageService"),x=(0,l.GL)("chatTeaService"),C=(0,f.sQ)("chatViewCoreStore",e=>{var t;return(null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId)||""}),M=(0,r.useRef)(),T=(0,c.useMessageStore)(e=>{if(!C)return;let t=(0,d.PJ)(e,C,n);return(0,u.fdv)(t)?t:void 0}),Z=null==T?void 0:null===(t=T.content_obj)||void 0===t?void 0:t.outline_id,P=E({outlineId:Z});(0,r.useEffect)(()=>{L()},[C]);let L=()=>{var e;null===(e=M.current)||void 0===e||e.call(M),M.current=void 0},{run:D}=(0,h.Z)(()=>{if(!C)return;let e={skill_id:String(p.SkillType.WriteAssistant),skill_type:p.SkillType.WriteAssistant,variables:{action:"gen_doc",message_id:n,outline_id:Z}},t=(0,m.Uo)(C,n);x.trackEvent("writing_outline_button_click",{button_name:"writing_eaasy",writing_genre:t}),k([{text:_("professional_writing_generate_article_button_title"),reportParams:{scene:s.b3.PROFESSIONAL_WRITING},extraExt:{input_skill:JSON.stringify(e),answer_with_suggest:"0",send_from_skill_guidance_or_suggestion:"1"}}]);let{messageLinkMap:r}=c.useMessageStore.getState(),a=(0,i.Z)(r[C]);M.current=c.useMessageStore.subscribe(e=>{var t,r,s,l;let c;let v=(0,i.Z)(e.messageLinkMap[C]);if(!v||v.messageId===(null==a?void 0:a.messageId))return;let p=(0,d.K9)(e,C,v),h=(0,u.e0X)(p),m=(0,u.zwb)(p)||h;if((0,u.Yns)(p)||!m)return;let y=null;c=(0,u.BUc)(p)?(y=p.content_blocks[0].content_obj).resource_id:(y=null!==(t=p.content_obj)&&void 0!==t?t:{}).pages_id;let{samantha_code:S,async_generate:_}=y;if(!S&&!_&&c){let e=null!==(l=null===(s=(0,f.GX)("chatViewCoreStore"))||void 0===s?void 0:null===(r=s.currentChatViewConfig)||void 0===r?void 0:r.chatId)&&void 0!==l?l:"";b.openCanvasPanel({exactPluginIdentifier:o.E,type:h?g.$.StepWritingOtterPage:g.$.StepWritingPages,conversationId:e,messageId:null!=n?n:"",artifactId:c,artifactKey:c,autoRefresh:!1},void 0,!1)}L()})},{leading:!0,wait:1e3});return P?y?(0,w.jsx)(a.L,{...S,onClick:D,isShow:!!Z,"data-testid":"writing_gen_doc_button",size:"large",children:_("professional_writing_generate_article_button_title")}):(0,w.jsx)(a.c,{...S,onClick:D,children:_("professional_writing_generate_article_button_title")}):null}},88585:function(e,t,n){"use strict";n.d(t,{S:function(){return l},o:function(){return s}});var r=n(228535),i=n(744947),a=n(530836),o=n(468494);let s=(e,t)=>{for(let n of e)if("block"===n.type)for(let e of n.data){let n=(0,i.K9)(a.useMessageStore.getState(),t,e);if((0,r.fdv)(n))return n}else if("single"===n.type){let e=(0,i.K9)(a.useMessageStore.getState(),t,n.data);if((0,r.fdv)(e))return e}return null},l=(e,t)=>{var n;if(!t||!(0,r.$bh)(t))return!1;let i=o.useFeedStore.getState().lastSectionIdMap[e];return!i||t.section_id===i&&!(null==t?void 0:null===(n=t.ext)||void 0===n?void 0:n.samantha_code)}},12881:function(e,t,n){"use strict";n.d(t,{H:function(){return u},W:function(){return l}});var r=n(429996),i=n(260325),a=n(744947),o=n(530836),s=n(88585);let l=(e,t)=>(0,i.Z)(t,t=>{if("single"===t.type){let n=(0,a.K9)(o.useMessageStore.getState(),e,t.data);return!!Number(null==n?void 0:n.reply_id)}if("block"===t.type){var n;return null===(n=t.data)||void 0===n?void 0:n.some(t=>{let n=(0,a.K9)(o.useMessageStore.getState(),e,t);return!!Number(null==n?void 0:n.reply_id)})}return!1}),u=e=>{let{conversationId:t}=e,[n,i]=(0,r.useState)(),l=(0,o.useMessageStore)(e=>{let r=e.messageLinkMap[t];if(!r)return!1;let i=r.find(e=>e.messageId===n);if(!i)return!1;let o=(0,a.K9)(e,t,i);return(0,s.S)(t,o)});return{writingMessageId:n,setWritingMessageId:i,enableToGenerateDoc:l}}},543074:function(e,t,n){"use strict";n.r(t),n.d(t,{matcher:function(){return o}});var r=n(12881),i=n(636753),a=n(88585);let o=e=>{let{isSelectMode:t,conversationId:n,unionMessageList:o}=e,s=(0,r.W)(n,o);if(!s)return;let l=(0,a.o)([s],n);if(null==l?void 0:l.content_obj)return t?void 0:i.H}},288004:function(e,t,n){"use strict";n.r(t),n.d(t,{WritingMessageListBottomBtnPlugin:function(){return c}});var r=n(429996),i=n(228535),a=n(12881),o=n(88585),s=n(563824),l=n(627394);let u=e=>{let{conversationId:t,unionMessageList:n,inViewMessageList:u}=e,{writingMessageId:c,enableToGenerateDoc:d,setWritingMessageId:f}=(0,a.H)({conversationId:t});return((0,r.useEffect)(()=>{let e=(0,a.W)(t,n);if(!e){f(void 0);return}let r=(0,o.o)([e],t);if(!r||(0,i.F3w)(r)||!u.find(t=>t.id===e.id)){f(void 0);return}f(r.message_id)},[n,u]),c&&d)?(0,l.jsx)("div",{className:"floating-gen-doc-btn-tynE5G",children:(0,l.jsx)(s.cR,{messageId:c,floating:!0})}):null};class c{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):this[e]=u}}},201388:function(e,t,n){"use strict";n.d(t,{$:function(){return i},P:function(){return a}});var r=n(847758);let{ArtifactResourceType:i}=n(273716),{ArtifactResourceType:a}=r},765521:function(e,t,n){"use strict";n.d(t,{Uo:function(){return d},q5:function(){return l},rA:function(){return u},yZ:function(){return f}});var r=n(118200),i=n(477041),a=n(744947),o=n(530836),s=n(910157);let l=(e,t)=>{let n=(0,a.K9)(o.useMessageStore.getState(),e,{isLocalMessage:!1,messageId:t}),r=null==n?void 0:n.reply_id;if(r){var i;let t=(0,a.K9)(o.useMessageStore.getState(),e,{isLocalMessage:!1,messageId:r}),{is_long_content:n}=(0,s.R)(null==t?void 0:null===(i=t.ext)||void 0===i?void 0:i.input_skill,{});return n}},u=(e,t)=>{var n;let l=(0,a.K9)(o.useMessageStore.getState(),e,{isLocalMessage:!1,messageId:t}),{variables:u}=(0,s.R)(null==l?void 0:null===(n=l.ext)||void 0===n?void 0:n.input_skill,{}),c=(0,r.Z)(u,"message_id");if((0,i.Z)(c))return d(e,c)},c=(e,t)=>{var n;let l=(0,a.K9)(o.useMessageStore.getState(),e,{isLocalMessage:!1,messageId:t}),{variables:u}=(0,s.R)(null==l?void 0:null===(n=l.ext)||void 0===n?void 0:n.input_skill,{}),c=(0,r.Z)(u,"genre");if((0,i.Z)(c))return c},d=(e,t)=>{let n=(0,a.K9)(o.useMessageStore.getState(),e,{isLocalMessage:!1,messageId:t}),r=null==n?void 0:n.reply_id;return r&&c(e,r)},f=e=>{var t;return null!==(t=(0,r.Z)((0,s.R)(e,{}),"variables"))&&void 0!==t?t:{}}},339453:function(e,t,n){"use strict";function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:function(){return i}});let i=new class{addTemplateConfirmListener(e,t){this._templeteConfirmCallback.set(e,t)}removeTemplateConfirmListener(e){this._templeteConfirmCallback.delete(e)}onTemplateBtnConfirm(e){var t;null===(t=this._templeteConfirmCallback.get(e))||void 0===t||t()}addToggleConfirmBtnListener(e,t){let n=this._toggleConfirmBtnListener.get(e)||new Set;n.add(t),this._toggleConfirmBtnListener.set(e,n);let r=this._confirmBtnStatus.get(e);r&&t(r)}removeToggleConfirmBtnListener(e,t){let n=this._toggleConfirmBtnListener.get(e)||new Set;n.delete(t),this._toggleConfirmBtnListener.set(e,n)}updateConfirmBtnVisible(e,t){var n;let r=this._confirmBtnStatus.get(e)||{};r.visible=t,this._confirmBtnStatus.set(e,r),null===(n=this._toggleConfirmBtnListener.get(e))||void 0===n||n.forEach(e=>{try{e(r)}catch(e){}})}updateConfirmBtnText(e,t){var n;let r=this._confirmBtnStatus.get(e)||{};r.textContent=t,this._confirmBtnStatus.set(e,r),null===(n=this._toggleConfirmBtnListener.get(e))||void 0===n||n.forEach(e=>{try{e(r)}catch(e){}})}updateTemplateId(e,t,n,r){if(!e)return;let i=this._pptTemplateRecord.get(e)||{};i.templateId=t,i.card_id=n,i.version=r,this._pptTemplateRecord.set(e,i)}updateContentTypeId(e,t,n,r){if(!e)return;let i=this._pptTemplateRecord.get(e)||{};i.contentTypeId=t,i.card_id=n,i.version=r,this._pptTemplateRecord.set(e,i)}getTemplateId(e){return(this._pptTemplateRecord.get(e)||{}).templateId}getContentTypeId(e){return(this._pptTemplateRecord.get(e)||{}).contentTypeId}getCardId(e){return(this._pptTemplateRecord.get(e)||{}).card_id}getVersion(e){return(this._pptTemplateRecord.get(e)||{}).version}hasTemplateSettingInfo(e){let{templateId:t,contentTypeId:n}=this._pptTemplateRecord.get(e)||{};return void 0!==t||void 0!==n}confirmBtnVisible(e){var t;return null===(t=this._confirmBtnStatus.get(e))||void 0===t?void 0:t.visible}resetSettingInfo(e){this._pptTemplateRecord.delete(e)}constructor(){r(this,"_pptTemplateRecord",new Map),r(this,"_toggleConfirmBtnListener",new Map),r(this,"_confirmBtnStatus",new Map),r(this,"_templeteConfirmCallback",new Map)}}},402671:function(e,t,n){"use strict";n.r(t),n.d(t,{aiPPTTemplateBottomMatcher:function(){return s}});var r=n(742470),i=n(744947),a=n(530836),o=n(163323);let s=e=>{var t;let{isSelectMode:n,conversationId:s}=e;if(!s||n)return;let{message:l}=(0,i.y_)(a.useMessageStore.getState(),s,e=>{let{getMessage:t}=e;return!!t()});if(l&&(null==l?void 0:null===(t=l.content_blocks)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.block_type)===r.zc.BLOCK_PPT_TEMPLATE)))return o.F}},810917:function(e,t,n){"use strict";n.r(t),n.d(t,{AIPPTTemplateBottomBtnPlugin:function(){return v}});var r=n(429996),i=n(93708),a=n(432626),o=n(713688),s=n(339453),l=n(199689),u=n(888358),c=n(627394);let d=e=>{let{textContent:t,clickLoadingTimeout:n=6e4,onClick:i}=e,[a,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(a){let e=setTimeout(()=>o(!1),n);return()=>clearTimeout(e)}},[a]),(0,c.jsx)("div",{className:"confirmTemplateBtnContainer-IBNtnj",children:(0,c.jsx)(l.Z,{loading:a,className:"btn-Kks2S7",icon:(0,c.jsx)(u.Z,{}),iconPosition:"right",onClick:()=>{o(!0),null==i||i()},children:t})})},f=e=>{let t=(0,a.g1)(),{currentChatViewConfig:n}=(0,i.Wp)("chatViewCoreStore").getState(),{isSuperTaskEnableByConvId:l}=(0,o.GL)(e=>({isSuperTaskEnableByConvId:e.isSuperTaskEnableByConvId,taskModeValue:e.taskModeValue})),u=(0,r.useMemo)(()=>(null==n?void 0:n.chatId)||"",[null==n?void 0:n.chatId]),[f,v]=(0,r.useState)(s.A.confirmBtnVisible(u)),[p,h]=(0,r.useState)(t("agent_PPT_btn_confirmLengthTemplate","\u786E\u8BA4\u957F\u5EA6\u548C\u6A21\u677F"));(0,r.useEffect)(()=>{let e=e=>{v(!!(null==e?void 0:e.visible)),h((null==e?void 0:e.textContent)||"")};return s.A.addToggleConfirmBtnListener(u,e),()=>{s.A.removeToggleConfirmBtnListener(u,e)}},[u]);let m=(0,r.useCallback)(()=>{s.A.onTemplateBtnConfirm(u)},[u]);return l(u)&&f?(0,c.jsx)(d,{textContent:p,onClick:m}):null};class v{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):this[e]=f}}},140898:function(e,t,n){"use strict";n.r(t),n.d(t,{superTaskMessageBottomMatcher:function(){return l}});var r=n(228535),i=n(148824),a=n(744947),o=n(530836),s=n(812091);let l=e=>{let{isSelectMode:t,conversationId:n}=e;if(!n||t)return;let l=(0,a.Sv)(o.useMessageStore.getState(),n);if(!(!l||!(0,r.Yi0)(l)||(0,i.zu)(l)))return s.R}},81717:function(e,t,n){"use strict";n.r(t),n.d(t,{SuperTaskMessageListBottomBtnPlugin:function(){return S}});var r=n(429996),i=n(669160),a=n.n(i),o=n(228535),s=n(744947),l=n(530836),u=n(432626),c=n(913602),d=(n(339512),n(627394));e=>(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,d.jsx)("path",{fill:"currentColor",d:"M6.495 4.802c-.345-.399-.946-.461-1.331-.1A9.97 9.97 0 0 0 2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2h-.107c-.508.006-.893.436-.893.944V6a1 1 0 1 0 2 0V4.062A8.001 8.001 0 0 1 12 20 8 8 0 0 1 6.387 6.3c.41-.404.485-1.063.108-1.498"}),(0,d.jsx)("path",{fill:"currentColor",d:"M13.067 10.981c-.152-.155-4.437-2.873-4.437-2.873a.37.37 0 0 0-.548.495l.026.026s2.718 4.288 2.871 4.44a1.477 1.477 0 0 0 2.408-1.61 1.5 1.5 0 0 0-.32-.478"})]}),n(124901);var f=n(828462),v=n(434921),p=n(713688);let h="super-task-slow-tip",m=()=>!!c.yQ.getItem(h),g=()=>c.yQ.setItem(h,"1"),y=e=>{let t=(0,u.g1)(),{conversationId:n,inViewMessageList:i,unionMessageList:c}=e,[h,y]=(0,r.useState)(""),[S,_]=(0,r.useState)(!1),b=(0,p.GL)(e=>e.overloadStatusMap);return((0,r.useEffect)(()=>{let e=(0,s.Sv)(l.useMessageStore.getState(),n);(null==e?void 0:e.message_id)&&(0,o.fjb)(e)&&b[null==e?void 0:e.message_id]&&(i.find(t=>{var n;return"block"===t.type&&(null===(n=t.data)||void 0===n?void 0:n.some(t=>t.messageId===e.message_id))})?y(e.message_id):y(""))},[c,i,b]),(0,r.useEffect)(()=>{if(!m()){let e=setTimeout(()=>{m()||(_(!0),g())},3e4);return()=>clearTimeout(e)}},[]),h||S)?(0,d.jsx)("div",{className:"tip-container-zHZ67g",children:(0,d.jsxs)("div",{className:a()("tip-UucAP1","v2-xnBndD"),children:[(0,d.jsx)("div",{className:"prefix-ioJUuL",children:(0,d.jsx)(f.X,{className:"size-16"})}),(0,d.jsx)("div",{className:"text-Yk2G36",children:t(S?"agent_chat_bottom_ntoice_moreTime":"superAgent_chat_msg_slowResponse")}),(0,d.jsx)("span",{onClick:()=>{y(""),_(!1),p.GL.getState().updateOverloadMessageToastMap(h,!1)},className:`
                flex h-22 w-22 cursor-pointer items-center justify-center
                text-[var(--dbx-text-tertiary)]
              `,children:(0,d.jsx)(v.V,{className:"size-14"})})]})}):null};class S{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:y,enumerable:!0,configurable:!0,writable:!0}):this[e]=y}}},640465:function(e,t,n){"use strict";n.d(t,{L:function(){return u},c:function(){return l}});var r=n(669160),i=n.n(r),a=n(864802),o=n(359453),s=n(627394);let l=e=>{let{className:t,children:n,...r}=e;return(0,s.jsx)(a.R,{className:i()(t,"!rounded-full"),type:"primary",icon:(0,s.jsx)(o.Z,{className:"icon-reoyxr"}),...r,children:n})},u=e=>{let{isShow:t,...n}=e;return(0,s.jsx)(l,{className:i()("ai-btn-qHfdwn",{"show-yy2Xdh":t}),...n})}},247686:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(429996);let i=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M13.9346 5.43469C14.247 5.12227 14.753 5.12227 15.0654 5.43469L20.3564 10.7257C21.0573 11.4267 21.0632 12.5677 20.3584 13.2726L15.0654 18.5656C14.753 18.8779 14.247 18.8779 13.9346 18.5656C13.6222 18.2532 13.6222 17.7471 13.9346 17.4347L18.5693 12.7999H3C2.55823 12.7999 2.20029 12.4419 2.2002 12.0001C2.2002 11.5583 2.55817 11.2003 3 11.2003H18.5693L13.9346 6.56555C13.6222 6.25316 13.6222 5.74712 13.9346 5.43469Z",fill:"currentColor"}))},828462:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(429996);let i=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M12 6.2002C12.4418 6.2002 12.7998 6.55817 12.7998 7V10.5C12.7998 10.8866 13.1134 11.2002 13.5 11.2002H17L17.082 11.2041C17.4853 11.2452 17.7998 11.5859 17.7998 12C17.7998 12.4418 17.4418 12.7998 17 12.7998H13.5C12.2297 12.7998 11.2002 11.7703 11.2002 10.5V7C11.2002 6.55817 11.5582 6.2002 12 6.2002Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1ZM12 2.59961C6.80852 2.59961 2.59961 6.80852 2.59961 12C2.59961 17.1915 6.80852 21.4004 12 21.4004C17.1915 21.4004 21.4004 17.1915 21.4004 12C21.4004 6.80852 17.1915 2.59961 12 2.59961Z",fill:"currentColor"}))},434921:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(429996);let i=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M4.5005 4.5C4.81292 4.18758 5.31918 4.18758 5.6316 4.5L11.997 10.8655L18.3625 4.5C18.6749 4.18758 19.1812 4.18758 19.4936 4.5C19.806 4.81242 19.806 5.31867 19.4936 5.63109L13.1281 11.9965L19.5005 18.3689C19.8129 18.6813 19.8129 19.1876 19.5005 19.5C19.1881 19.8124 18.6818 19.8124 18.3694 19.5L11.997 13.1276L5.63113 19.3775C5.31871 19.6899 4.81245 19.6899 4.50003 19.3775C4.18761 19.0651 4.18761 18.5588 4.50003 18.2464L10.8659 11.9965L4.5005 5.63109C4.18808 5.31868 4.18808 4.81242 4.5005 4.5Z",fill:"currentColor"}))},349504:function(e,t,n){"use strict";var r=n(633906);t.Z=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===l?s==s&&!(0,r.Z)(s):n(s,l)))var l=s,u=o}return u}},89190:function(e,t,n){"use strict";var r=n(824915);t.Z=function(e,t){var n=[];return(0,r.Z)(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},210428:function(e,t){"use strict";t.Z=function(e,t){return e>t}},268059:function(e,t,n){"use strict";var r=n(824915),i=n(734420);t.Z=function(e,t){var n=-1,a=(0,i.Z)(e)?Array(e.length):[];return(0,r.Z)(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},234401:function(e,t){"use strict";t.Z=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},509087:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(921097),i=n(594175),a=n(510722),o=n(234401),s=n(603378),l=function(e,t){var n,l;return t=(0,r.Z)(t,e),n=e,null==(e=(l=t).length<2?n:(0,a.Z)(n,(0,o.Z)(l,0,-1)))||delete e[s.Z(i.Z(t))]}},796004:function(e,t,n){"use strict";var r=n(477404);t.Z=function(e,t){return(0,r.Z)(t,function(t){return e[t]})}},988930:function(e,t,n){"use strict";var r=n(234401);t.Z=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:(0,r.Z)(e,t,n)}},491383:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r},i=n(824915),a=function(e,t,n,r){return(0,i.Z)(e,function(e,i,a){t(r,e,n(e),a)}),r},o=n(348344),s=n(511451),l=function(e,t){return function(n,i){var l=(0,s.Z)(n)?r:a,u=t?t():{};return l(n,e,(0,o.Z)(i,2),u)}}},282564:function(e,t,n){"use strict";var r=n(348344),i=n(734420),a=n(445863);t.Z=function(e){return function(t,n,o){var s=Object(t);if(!(0,i.Z)(t)){var l=(0,r.Z)(n,3);t=(0,a.Z)(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,o);return u>-1?s[l?t[u]:u]:void 0}}},965307:function(e,t){"use strict";var n=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.Z=function(e){return n.test(e)}},412183:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(965307),i="\ud800-\udfff",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\ud83c[\udffb-\udfff]",s="[^"+i+"]",l="(?:\ud83c[\udde6-\uddff]){2}",u="[\ud800-\udbff][\udc00-\udfff]",c="(?:"+a+"|"+o+")?",d="[\\ufe0e\\ufe0f]?",f="(?:\\u200d(?:"+[s,l,u].join("|")+")"+d+c+")*",v=RegExp(o+"(?="+o+")|"+("(?:"+[s+a+"?",a,l,u,"["+i+"]"].join("|"))+")"+(d+c+f),"g"),p=function(e){return(0,r.Z)(e)?e.match(v)||[]:e.split("")}},164303:function(e,t,n){"use strict";var r=n(718609),i=n(268327),a=n(305144),o=n(734420),s=n(928448),l=n(445863),u=Object.prototype.hasOwnProperty,c=(0,a.Z)(function(e,t){if((0,s.Z)(t)||(0,o.Z)(t)){(0,i.Z)(t,(0,l.Z)(t),e);return}for(var n in t)u.call(t,n)&&(0,r.Z)(e,n,t[n])});t.Z=c},622551:function(e,t,n){"use strict";var r=n(268327),i=n(305144),a=n(445863),o=(0,i.Z)(function(e,t,n,i){(0,r.Z)(t,(0,a.Z)(t),e,i)});t.Z=o},721219:function(e,t,n){"use strict";var r=n(511451);t.Z=function(){if(!arguments.length)return[];var e=arguments[0];return(0,r.Z)(e)?e:[e]}},734010:function(e,t,n){"use strict";var r=n(497182);t.Z=function(e,t){return t="function"==typeof t?t:void 0,(0,r.Z)(e,5,t)}},713273:function(e,t,n){"use strict";var r=n(740480),i=n(89190),a=n(348344),o=n(511451);t.Z=function(e,t){return((0,o.Z)(e)?r.Z:i.Z)(e,(0,a.Z)(t,3))}},871987:function(e,t,n){"use strict";var r=n(282564),i=n(746821),a=(0,r.Z)(i.Z);t.Z=a},746821:function(e,t,n){"use strict";var r=n(910198),i=n(348344),a=n(634145),o=Math.max;t.Z=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:(0,a.Z)(n);return l<0&&(l=o(s+l,0)),(0,r.Z)(e,(0,i.Z)(t,3),l)}},260325:function(e,t,n){"use strict";var r=n(282564),i=n(563323),a=(0,r.Z)(i.Z);t.Z=a},563323:function(e,t,n){"use strict";var r=n(910198),i=n(348344),a=n(634145),o=Math.max,s=Math.min;t.Z=function(e,t,n){var l=null==e?0:e.length;if(!l)return -1;var u=l-1;return void 0!==n&&(u=(0,a.Z)(n),u=n<0?o(l+u,0):s(u,l-1)),(0,r.Z)(e,(0,i.Z)(t,3),u,!0)}},567336:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=Object.prototype.hasOwnProperty,i=function(e,t){return null!=e&&r.call(e,t)},a=n(891455),o=function(e,t){return null!=e&&(0,a.Z)(e,t,i)}},683653:function(e,t,n){"use strict";var r=n(173619),i=n(734420),a=n(477041),o=n(634145),s=n(508830),l=Math.max;t.Z=function(e,t,n,u){e=(0,i.Z)(e)?e:(0,s.Z)(e),n=n&&!u?(0,o.Z)(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),(0,a.Z)(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&(0,r.Z)(e,t,n)>-1}},828652:function(e,t,n){"use strict";var r=n(521167),i=n(770532);t.Z=function(e){return!0===e||!1===e||(0,i.Z)(e)&&"[object Boolean]"==(0,r.Z)(e)}},31497:function(e,t,n){"use strict";var r=n(408065),i=(0,n(491383).Z)(function(e,t,n){(0,r.Z)(e,n,t)});t.Z=i},342617:function(e,t,n){"use strict";var r=n(477404),i=n(348344),a=n(268059),o=n(511451);t.Z=function(e,t){return((0,o.Z)(e)?r.Z:a.Z)(e,(0,i.Z)(t,3))}},963729:function(e,t,n){"use strict";var r=n(349504),i=n(210428),a=n(348344);t.Z=function(e,t){return e&&e.length?(0,r.Z)(e,(0,a.Z)(t,2),i.Z):void 0}},327386:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(477404),i=n(497182),a=n(509087),o=n(921097),s=n(268327),l=n(194711),u=function(e){return(0,l.Z)(e)?void 0:e},c=n(29787),d=n(71810),f=(0,c.Z)(function(e,t){var n={};if(null==e)return n;var l=!1;t=(0,r.Z)(t,function(t){return t=(0,o.Z)(t,e),l||(l=t.length>1),t}),(0,s.Z)(e,(0,d.Z)(e),n),l&&(n=(0,i.Z)(n,7,u));for(var c=t.length;c--;)(0,a.Z)(n,t[c]);return n})},817835:function(e,t,n){"use strict";var r=n(845027);t.Z=function(e,t,n){return null==e?e:(0,r.Z)(e,t,n)}},156634:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(259389),i=n(348344),a=n(824915),o=function(e,t){var n;return(0,a.Z)(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},s=n(511451),l=n(173581),u=function(e,t,n){var a=(0,s.Z)(e)?r.Z:o;return n&&(0,l.Z)(e,t,n)&&(t=void 0),a(e,(0,i.Z)(t,3))}},509403:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i=n(477404),a=n(589303),o=n(894997),s=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n},l=(r=n(445863).Z,function(e){var t,n=(0,a.Z)(e);return"[object Map]"==n?(0,o.Z)(e):"[object Set]"==n?s(e):(t=r(e),(0,i.Z)(t,function(t){return[t,e[t]]}))})},211959:function(e,t,n){"use strict";var r=n(883566),i=n(348344),a=n(219291),o=n(923583),s=n(773047),l=n(594175),u=(0,a.Z)(function(e){var t=(0,l.Z)(e);return(0,s.Z)(t)&&(t=void 0),(0,o.Z)((0,r.Z)(e,1,s.Z,!0),(0,i.Z)(t,2))});t.Z=u},810197:function(e,t,n){"use strict";var r=n(923583);t.Z=function(e){return e&&e.length?(0,r.Z)(e):[]}},944746:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(988930),i=n(965307),a=n(412183),o=n(880502),s=function(e){e=(0,o.Z)(e);var t=(0,i.Z)(e)?(0,a.Z)(e):void 0,n=t?t[0]:e.charAt(0),s=t?(0,r.Z)(t,1).join(""):e.slice(1);return n.toUpperCase()+s}},508830:function(e,t,n){"use strict";var r=n(796004),i=n(445863);t.Z=function(e){return null==e?[]:(0,r.Z)(e,(0,i.Z)(e))}},107526:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r,i,a,o,s,l,u,c,d,f,v,p,h,m,g,y,S,_,b,k,E,w,x,C,M,T,Z,P=n(537065);class L extends Error{constructor(e){super(e),this.name="TimeoutError"}}class D extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}let I=e=>void 0===globalThis.DOMException?new D(e):new DOMException(e),W=e=>{let t=void 0===e.reason?I("This operation was aborted."):e.reason;return t instanceof Error?t:I(t)};var A=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class R{constructor(){r.set(this,[])}enqueue(e,t){let n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&A(this,r,"f")[this.size-1].priority>=t.priority){A(this,r,"f").push(n);return}let i=function(e,t,n){let r=0,i=e.length;for(;i>0;){let a=Math.trunc(i/2),o=r+a;0>=n(e[o],t)?(r=++o,i-=a+1):i=a}return r}(A(this,r,"f"),n,(e,t)=>t.priority-e.priority);A(this,r,"f").splice(i,0,n)}dequeue(){let e=A(this,r,"f").shift();return null==e?void 0:e.run}filter(e){return A(this,r,"f").filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return A(this,r,"f").length}}r=new WeakMap;var O=function(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},j=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class N extends Error{}class $ extends P.Z{constructor(e){var t,n,r,S;if(super(),i.add(this),a.set(this,void 0),o.set(this,void 0),s.set(this,0),l.set(this,void 0),u.set(this,void 0),c.set(this,0),d.set(this,void 0),f.set(this,void 0),v.set(this,void 0),p.set(this,void 0),h.set(this,0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:R,...e}).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(S=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==S?S:""}\` (${typeof e.interval})`);O(this,a,e.carryoverConcurrencyCount,"f"),O(this,o,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),O(this,l,e.intervalCap,"f"),O(this,u,e.interval,"f"),O(this,v,new e.queueClass,"f"),O(this,p,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,O(this,y,!0===e.throwOnTimeout,"f"),O(this,g,!1===e.autoStart,"f")}get concurrency(){return j(this,m,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);O(this,m,e,"f"),j(this,i,"m",M).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:j(this,y,"f"),...t},new Promise((n,r)=>{j(this,v,"f").enqueue(async()=>{var a,o,l;O(this,h,(o=j(this,h,"f"),++o),"f"),O(this,s,(l=j(this,s,"f"),++l),"f");try{if(null===(a=t.signal)||void 0===a?void 0:a.aborted)throw new N("The task was aborted.");let r=e({signal:t.signal});t.timeout&&(r=function(e,t,n,r){let i;let a=new Promise((a,o)=>{if("number"!=typeof t||1!==Math.sign(t))throw TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t===Number.POSITIVE_INFINITY){a(e);return}if((r={customTimers:{setTimeout,clearTimeout},...r}).signal){let{signal:e}=r;e.aborted&&o(W(e)),e.addEventListener("abort",()=>{o(W(e))})}i=r.customTimers.setTimeout.call(void 0,()=>{let r=`Promise timed out after ${t} milliseconds`,i=n instanceof Error?n:new L(r);"function"==typeof e.cancel&&e.cancel(),o(i)},t),(async()=>{try{a(await e)}catch(e){o(e)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()});return a.clear=()=>{clearTimeout(i),i=void 0},a}(Promise.resolve(r),t.timeout)),t.signal&&(r=Promise.race([r,j(this,i,"m",T).call(this,t.signal)]));let o=await r;n(o),this.emit("completed",o)}catch(e){if(e instanceof L&&!t.throwOnTimeout){n();return}r(e),this.emit("error",e)}finally{j(this,i,"m",b).call(this)}},t),this.emit("add"),j(this,i,"m",w).call(this)})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return j(this,g,"f")&&(O(this,g,!1,"f"),j(this,i,"m",M).call(this)),this}pause(){O(this,g,!0,"f")}clear(){O(this,v,new(j(this,p,"f")),"f")}async onEmpty(){0!==j(this,v,"f").size&&await j(this,i,"m",Z).call(this,"empty")}async onSizeLessThan(e){!(j(this,v,"f").size<e)&&await j(this,i,"m",Z).call(this,"next",()=>j(this,v,"f").size<e)}async onIdle(){(0!==j(this,h,"f")||0!==j(this,v,"f").size)&&await j(this,i,"m",Z).call(this,"idle")}get size(){return j(this,v,"f").size}sizeBy(e){return j(this,v,"f").filter(e).length}get pending(){return j(this,h,"f")}get isPaused(){return j(this,g,"f")}}a=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,f=new WeakMap,v=new WeakMap,p=new WeakMap,h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,i=new WeakSet,S=function(){return j(this,o,"f")||j(this,s,"f")<j(this,l,"f")},_=function(){return j(this,h,"f")<j(this,m,"f")},b=function(){var e;O(this,h,(e=j(this,h,"f"),--e),"f"),j(this,i,"m",w).call(this),this.emit("next")},k=function(){j(this,i,"m",C).call(this),j(this,i,"m",x).call(this),O(this,f,void 0,"f")},E=function(){let e=Date.now();if(void 0===j(this,d,"f")){let t=j(this,c,"f")-e;if(!(t<0))return void 0===j(this,f,"f")&&O(this,f,setTimeout(()=>{j(this,i,"m",k).call(this)},t),"f"),!0;O(this,s,j(this,a,"f")?j(this,h,"f"):0,"f")}return!1},w=function(){if(0===j(this,v,"f").size)return j(this,d,"f")&&clearInterval(j(this,d,"f")),O(this,d,void 0,"f"),this.emit("empty"),0===j(this,h,"f")&&this.emit("idle"),!1;if(!j(this,g,"f")){let e=!j(this,i,"a",E);if(j(this,i,"a",S)&&j(this,i,"a",_)){let t=j(this,v,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&j(this,i,"m",x).call(this),!0)}}return!1},x=function(){!j(this,o,"f")&&void 0===j(this,d,"f")&&(O(this,d,setInterval(()=>{j(this,i,"m",C).call(this)},j(this,u,"f")),"f"),O(this,c,Date.now()+j(this,u,"f"),"f"))},C=function(){0===j(this,s,"f")&&0===j(this,h,"f")&&j(this,d,"f")&&(clearInterval(j(this,d,"f")),O(this,d,void 0,"f")),O(this,s,j(this,a,"f")?j(this,h,"f"):0,"f"),j(this,i,"m",M).call(this)},M=function(){for(;j(this,i,"m",w).call(this););},T=async function(e){return new Promise((t,n)=>{e.addEventListener("abort",()=>{n(new N("The task was aborted."))},{once:!0})})},Z=async function(e,t){return new Promise(n=>{let r=()=>{(!t||t())&&(this.off(e,r),n())};this.on(e,r)})}}}]);
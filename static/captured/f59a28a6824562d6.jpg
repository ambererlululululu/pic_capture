(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["18910"],{257096:function(e,t,n){"use strict";n.d(t,{UX:function(){return i},j2:function(){return o}});var r=n(771982);let i={PREFIX:`${r.T}-button`},o={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"}},123811:function(e,t,n){"use strict";n.d(t,{KT:function(){return s},UX:function(){return o},j2:function(){return a}});var r=n(244277),i=n(771982);let o={PREFIX:`${i.T}-popover`,ARROW:`${i.T}-popover-icon-arrow`},a={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},s={ARROW_BOUNDING:Object.assign(Object.assign({},r.KT.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},278182:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},731248:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))},"alert_circle");t.Z=i},462299:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))},"alert_triangle");t.Z=i},179086:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))},"close");t.Z=i},825710:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))},"info_circle");t.Z=i},915422:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))},"tick_circle");t.Z=i},472934:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(327386),i=n(429996),o=n(669160),a=n.n(o),s=n(295011),l=n.n(s),c=n(257096),u=n(278182),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let f=c.j2.sizes,{htmlTypes:p,btnTypes:h}=c.j2;class v extends i.PureComponent{render(){let e=this.props,{children:t,block:n,htmlType:o,loading:s,circle:l,className:c,style:u,disabled:f,size:p,theme:h,type:v,prefixCls:m,iconPosition:g}=e,_=d(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),y=Object.assign(Object.assign({disabled:f},(0,r.Z)(_,["x-semi-children-alias"])),{className:a()(m,{[`${m}-${v}`]:!f&&v,[`${m}-disabled`]:f,[`${m}-size-large`]:"large"===p,[`${m}-size-small`]:"small"===p,[`${m}-light`]:"light"===h,[`${m}-block`]:n,[`${m}-circle`]:l,[`${m}-borderless`]:"borderless"===h,[`${m}-${v}-disabled`]:f&&v},c),type:o,"aria-disabled":f}),S={};return c&&c.includes("-with-icon")||(S["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),i.createElement("button",Object.assign({},y,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:u}),i.createElement("span",Object.assign({className:`${m}-content`,onClick:e=>f&&e.stopPropagation()},S),t))}}v.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:u.Z,onClick:u.Z,onMouseEnter:u.Z,onMouseLeave:u.Z,prefixCls:c.UX.PREFIX},v.propTypes={children:l().node,disabled:l().bool,prefixCls:l().string,style:l().object,size:l().oneOf(f),type:l().oneOf(h),block:l().bool,onClick:l().func,onMouseDown:l().func,circle:l().bool,loading:l().bool,htmlType:l().oneOf(p),theme:l().oneOf(c.j2.themes),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func,"aria-label":l().string}},444997:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(814986),i=n(429996),o=n(669160),a=n.n(o),s=n(295011),l=n.n(s),c=n(257096);n(771982).T;var u=n(472934),d=n(279862),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class p extends i.PureComponent{render(){let e=this.props,{children:t,iconPosition:n,iconSize:r,iconStyle:o,style:s,icon:l,noHorizontalPadding:c,theme:p,className:h,prefixCls:v,loading:m}=e,g=f(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),_=Object.assign({},s);Array.isArray(c)?(c.includes("left")&&(_.paddingLeft=0),c.includes("right")&&(_.paddingRight=0)):!0===c?(_.paddingLeft=0,_.paddingRight=0):"string"==typeof c&&("left"===c&&(_.paddingLeft=0),"right"===c&&(_.paddingRight=0));let y=null,S=null;m&&!g.disabled?S=i.createElement(d.Z,null):i.isValidElement(l)&&(S=l);let b=a()({[`${v}-content-left`]:"right"===n,[`${v}-content-right`]:"left"===n}),E=this.props["x-semi-children-alias"]||"children",w=null!=t?i.createElement("span",{className:b,"x-semi-prop":E},t):null;y="left"===n?i.createElement(i.Fragment,null,S,w):i.createElement(i.Fragment,null,w,S);let C=a()(h,`${v}-with-icon`,{[`${v}-with-icon-only`]:null==w||""===w,[`${v}-loading`]:m});return i.createElement(u.Z,Object.assign({},g,{className:C,theme:p,style:_}),y)}}p.defaultProps={iconPosition:c.j2.DEFAULT_ICON_POSITION,prefixCls:c.UX.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:r.Z,onMouseLeave:r.Z},p.elementType="IconButton",p.propTypes={iconStyle:l().object,style:l().object,loading:l().bool,prefixCls:l().string,icon:l().oneOfType([l().object,l().string,l().node]),iconSize:l().oneOf(["extra-small","small","default","large","extra-large","custom"]),noHorizontalPadding:l().oneOfType([l().bool,l().string,l().array]),children:l().node,theme:l().string,iconPosition:l().oneOf(c.j2.iconPositions),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func};var h=p},895337:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(814986),i=n(607278),o=n(429996),a=n(669160),s=n.n(a),l=n(295011),c=n.n(l),u=n(925962),d=n(123811),f=n(387834),p=n(118200),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{position:t="",className:n,arrowStyle:r,popStyle:i}=e,a=h(e,["position","className","arrowStyle","popStyle"]),l=0===t.indexOf("top")||0===t.indexOf("bottom"),c=s()(n,d.UX.ARROW),u=(0,p.Z)(r,"borderOpacity",d.j2.DEFAULT_ARROW_STYLE.borderOpacity),f=(0,p.Z)(r,"backgroundColor",(0,p.Z)(i,"backgroundColor",d.j2.DEFAULT_ARROW_STYLE.backgroundColor)),v=(0,p.Z)(r,"borderColor",(0,p.Z)(i,"borderColor",d.j2.DEFAULT_ARROW_STYLE.borderColor)),m=Object.assign(Object.assign({},a),{width:d.KT.ARROW_BOUNDING.width,height:d.KT.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:c});return l?o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:v,opacity:u}),o.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:f})):o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:v,opacity:u}),o.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:f}))};v.propTypes={position:c().string,className:c().string,arrowStyle:c().object,popStyle:c().object};var m=n(112230),g=n(156287),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let y=d.j2.POSITION_SET,S=d.j2.TRIGGER_SET;class b extends o.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:t}=e,{content:n,contentClassName:r,prefixCls:i}=this.props,{direction:a}=this.context,l=s()(i,r,{[`${i}-rtl`]:"rtl"===a}),c=this.renderContentNode({initialFocusRef:t,content:n});return o.createElement("div",{className:l},o.createElement("div",{className:`${i}-content`},c))},this.renderContentNode=e=>{let{initialFocusRef:t,content:n}=e;return(0,i.Z)(n)?n({initialFocusRef:t}):n},this.tooltipRef=o.createRef()}render(){let e=this.props,{children:t,prefixCls:n,showArrow:r,arrowStyle:i={},arrowBounding:a,position:s,style:l,trigger:c}=e,u=_(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]),{spacing:p}=this.props,h=!!r&&o.createElement(v,Object.assign({},{position:s,className:"",popStyle:l,arrowStyle:i}));return(0,m.Z)(p)&&(p=r?d.KT.SPACING_WITH_ARROW:d.KT.SPACING),o.createElement(f.Z,Object.assign({guardFocus:!0,ref:this.tooltipRef},u,{trigger:c,position:s,style:l,content:this.renderPopCard,prefixCls:n,spacing:p,showArrow:h,arrowBounding:a,role:"click"===c||"custom"===c?"dialog":"tooltip"}),t)}}b.contextType=u.Z,b.propTypes={children:c().node,content:c().oneOfType([c().node,c().func]),visible:c().bool,autoAdjustOverflow:c().bool,motion:c().bool,position:c().oneOf(y),margin:c().oneOfType([c().number,c().object]),mouseEnterDelay:c().number,mouseLeaveDelay:c().number,trigger:c().oneOf(S).isRequired,contentClassName:c().oneOfType([c().string,c().array]),onVisibleChange:c().func,onClickOutSide:c().func,style:c().object,spacing:c().oneOfType([c().number,c().object]),zIndex:c().number,showArrow:c().bool,arrowStyle:c().shape({borderColor:c().string,backgroundColor:c().string,borderOpacity:c().oneOfType([c().string,c().number])}),arrowPointAtCenter:c().bool,arrowBounding:c().object,prefixCls:c().string,guardFocus:c().bool,disableArrowKeyDown:c().bool},b.__SemiComponentName__="Popover",b.defaultProps=(0,g.GW)(b.__SemiComponentName__,{arrowBounding:d.KT.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:d.KT.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:d.UX.PREFIX,onClickOutSide:r.Z,onEscKeyDown:r.Z,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});var E=b},279862:function(e,t,n){"use strict";var r=n(429996),i=n(112230),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let a=-1;t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t,className:n}=e,s=o(e,["id","className"]),l=t;(0,i.Z)(l)&&(l=++a);let c=`linearGradient-${l}`;return r.createElement("svg",Object.assign({},s,{className:n,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:c},r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),r.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),r.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${c})`,strokeWidth:"4",strokeLinecap:"round"})))}},550606:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(429996),i=n(295011),o=n.n(i),a=n(669160),s=n.n(a),l=n(70059),c=n(771982);let u=`${c.T}-spin`;var d=n(926778);class f extends d.Z{static get spinDefaultAdapter(){return{getProp:()=>void 0,setLoading:e=>void 0}}constructor(e){super(Object.assign(Object.assign({},f.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){let{spinning:e,delay:t}=this._adapter.getProps(),{delay:n}=this._adapter.getStates();if(n){let n=this;this._timer=setTimeout(()=>{n._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var p=n(279862),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let v={PREFIX:u}.PREFIX;class m extends l.Z{constructor(e){super(e),this.foundation=new f(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?!1===e.spinning?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){let{indicator:e,tip:t}=this.props,{loading:n}=this.state;return n?r.createElement("div",{className:`${v}-wrapper`},e?r.createElement("div",{className:`${v}-animate`,"x-semi-prop":"indicator"},e):r.createElement(p.Z,null),t?r.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();let e=this.props,{children:t,style:n,wrapperClassName:i,childStyle:o,size:a}=e,l=h(e,["children","style","wrapperClassName","childStyle","size"]),{loading:c}=this.state,u=s()(v,i,{[`${v}-${a}`]:a,[`${v}-block`]:t,[`${v}-hidden`]:!c});return r.createElement("div",Object.assign({className:u,style:n},this.getDataAttr(l)),this.renderSpin(),r.createElement("div",{className:`${v}-children`,style:o,"x-semi-prop":"children"},t))}}m.propTypes={size:o().oneOf(["small","middle","large"]),spinning:o().bool,children:o().node,indicator:o().node,delay:o().number,tip:o().node,wrapperClassName:o().string,childStyle:o().object,style:o().object},m.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};var g=m},775313:function(e,t,n){"use strict";n.d(t,{x:function(){return j},Z:function(){return W}});var r=n(429996),i=n(568120),o=n(295011),a=n.n(o),s=n(926778);class l extends s.Z{constructor(e){super(Object.assign(Object.assign({},l.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(e=>{let{id:t}=e;return t}).includes(e)}addToast(e){let t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let n=this._adapter.getState("list"),r=(n=n.map(n=>n.id===e?Object.assign(Object.assign({},n),t):n)).filter(t=>t.id===e);this._adapter.updateToast(n,[],r)}removeToast(e){let t=this._adapter.getState("list"),n=[];t=t.filter(t=>t.id!==e||(n.push(t),!1)),this._adapter.updateToast(t,n,[])}destroyAll(){let e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}var c=n(771982);let u=`${c.T}-toast`,d={PREFIX:u,WRAPPER:`${u}-wrapper`,LIST:`${u}-list`},f=["ltr","rtl"];var p=n(70059),h=n(814986),v=n(669160),m=n.n(v),g=n(925962),_=n(524518);class y extends s.Z{constructor(e){super(Object.assign(Object.assign({},y.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){let e=this._adapter.getProp("duration");e&&(0,_.Z)(e)&&(this._timer=setTimeout(()=>{this.close()},1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}var S=n(444997),b=n(462299),E=n(915422),w=n(825710),C=n(731248),T=n(179086),x=n(156287);let k=d.PREFIX;class O extends p.Z{constructor(e){super(e),this.toastEle=r.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new y(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){let{type:e,icon:t}=this.props,n={warning:r.createElement(b.Z,null),success:r.createElement(E.Z,null),info:r.createElement(w.Z,null),error:r.createElement(C.Z,null)}[e],i="large",o=m()(`${k}-icon`,`${k}-icon-${e}`);return t?(0,x.ID)(t)?r.cloneElement(t,{size:i,className:`${k}-icon`}):t:e&&n?r.cloneElement(n,{size:i,className:o}):null}render(){let{content:e,type:t,theme:n,showClose:i,textMaxWidth:o,className:a,style:s}=this.props,l=this.props.direction||this.context.direction,c=m()(k,a,{[`${k}-${t}`]:!0,[`${k}-${n}`]:"light"===n,[`${k}-rtl`]:"rtl"===l}),u={};u.maxWidth=o;let d=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,f=r.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:c,style:Object.assign(Object.assign({},s),{transform:`translate3d(0,0,${-10*d}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},r.createElement("div",{className:`${k}-content`},this.renderIcon(),r.createElement("span",{className:`${k}-content-text`,style:u,"x-semi-prop":"content"},e),i&&r.createElement("div",{className:`${k}-close-button`},r.createElement(S.Z,{onClick:e=>this.close(e),type:"tertiary",icon:r.createElement(T.Z,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(!this.props.stack)return f;{let e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return r.createElement("div",{className:`${k}-zero-height-wrapper`,style:{height:e}},f)}}}O.contextType=g.Z,O.propTypes={onClose:a().func,content:a().node,close:a().func,duration:a().number,theme:a().oneOf(["normal","light"]),type:a().oneOf(["warning","success","info","error","default"]),textMaxWidth:a().oneOfType([a().string,a().number]),style:a().object,className:a().string,showClose:a().bool,stack:a().bool,stackExpanded:a().bool,icon:a().node,direction:a().oneOf(f)},O.__SemiComponentName__="Toast",O.defaultProps=(0,x.GW)(O.__SemiComponentName__,{onClose:h.Z,content:"",close:h.Z,duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var I=n(881719),Z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},M=r.forwardRef((e,t)=>{var{afterClose:n}=e,i=Z(e,["afterClose"]);let[o,a]=(0,r.useState)(!0);return r.useImperativeHandle(t,()=>({close:()=>{a(!1)}})),(0,r.useEffect)(()=>{o||n(i.id)},[o]),o?r.createElement(O,Object.assign({},i,{close:()=>{a(!1)}})):null});let N={motion:!0,zIndex:1010,duration:3};function A(){let[e,t]=function(){let[e,t]=r.useState([]);return[e,function(e,n){return t(t=>[{element:e,config:n},...t]),e=>{t(t=>t.filter(t=>{let{config:n}=t;return n.id!==e}))}}]}(),n=(0,r.useRef)(new Map),i=e=>{let i;let o=(0,I.ZP)("semi_toast_"),a=Object.assign(Object.assign({},e),{id:o});return i=t(r.createElement(M,Object.assign({},a,{key:o,afterClose:e=>i(e),ref:e=>{var t;n.current.set(o,{close:null!==(t=null==e?void 0:e.close)&&void 0!==t?t:h.Z})}})),Object.assign({},a)),o},o=e=>{var t;let{close:r}=null!==(t=n.current.get(e))&&void 0!==t?t:{};null==r||r()};return[{success:e=>i(Object.assign(Object.assign(Object.assign({},N),e),{type:"success"})),info:e=>i(Object.assign(Object.assign(Object.assign({},N),e),{type:"info"})),error:e=>i(Object.assign(Object.assign(Object.assign({},N),e),{type:"error"})),warning:e=>i(Object.assign(Object.assign(Object.assign({},N),e),{type:"warning"})),open:e=>i(Object.assign(Object.assign(Object.assign({},N),e),{type:"default"})),close:e=>o(e)},r.createElement(r.Fragment,null,Array.isArray(e)&&e.length?r.createElement(r.Fragment,null,e.map(e=>e.element)):null)]}var L=n(345185);let R=()=>{var e;return(e=class e extends p.Z{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=r.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var t;this.stack&&(null===(t=this.foundation.getInputWrapperRect())||void 0===t?void 0:t.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new l(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,n)=>{this.setState({list:e,removedItems:t,updatedItems:n})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(t){var n;let o=null!==(n=t.id)&&void 0!==n?n:(0,I.ZP)("toast");if(e.ref){let n=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(e=>{e in t&&(n.style[e]="number"==typeof t[e]?`${t[e]}px`:t[e])}),!!t.stack!==e.ref.stack&&(e.ref.stack=!!t.stack),e.ref.has(o)?e.ref.update(o,Object.assign(Object.assign({},t),{id:o})):e.ref.add(Object.assign(Object.assign({},t),{id:o}))}else{let n=document.createElement("div");this.wrapperId||(this.wrapperId=(0,I.ZP)("toast-wrapper").slice(0,26)),n.className=d.WRAPPER,n.id=this.wrapperId,n.style.zIndex=String("number"==typeof t.zIndex?t.zIndex:e.defaultOpts.zIndex),["top","left","bottom","right"].map(r=>{if(r in e.defaultOpts||r in t){let i=t[r]?t[r]:e.defaultOpts[r];n.style[r]="number"==typeof i?`${i}px`:i}}),e.defaultOpts.getPopupContainer?e.defaultOpts.getPopupContainer().appendChild(n):document.body.appendChild(n),i.render(r.createElement(e,{ref:t=>e.ref=t}),n,()=>{e.ref.add(Object.assign(Object.assign({},t),{id:o})),e.ref.stack=!!t.stack})}return o}static close(t){e.ref&&e.ref.remove(t)}static destroyAll(){if(e.ref){e.ref.destroyAll();let t=document.querySelector(`#${this.wrapperId}`);i.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),e.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"info"}))}static warning(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"warning"}))}static error(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"error"}))}static success(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(n=>{n in t&&(e.defaultOpts[n]=t[n])}),"number"==typeof t.zIndex&&(e.defaultOpts.zIndex=t.zIndex),"number"==typeof t.duration&&(e.defaultOpts.duration=t.duration),"function"==typeof t.getPopupContainer&&(e.defaultOpts.getPopupContainer=t.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state,{removedItems:t,updatedItems:n}=this.state;e=Array.from(new Set([...e,...t]));let i=n.map(e=>{let{id:t}=e;return t}),o=e=>{var t;(null===(t=null==e?void 0:e.foundation)||void 0===t?void 0:t._id)&&i.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return r.createElement(r.Fragment,null,r.createElement("div",{className:m()({[`${d.PREFIX}-innerWrapper`]:!0,[`${d.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map((n,i)=>{let a=void 0!==t.find(e=>e.id===n.id);return r.createElement(L.Z,{key:n.id,motion:n.motion,animationState:a?"leave":"enter",startClassName:a?`${d.PREFIX}-animation-hide`:`${d.PREFIX}-animation-show`},t=>{let{animationClassName:s,animationEventsNeedBind:l,isAnimating:c}=t;return a&&!c?null:r.createElement(O,Object.assign({},n,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:i},className:m()({[n.className]:!!n.className,[s]:!0})},l,{style:Object.assign({},n.style),close:e=>this.remove(e),ref:o}))})})))}}).defaultOpts={motion:!0,zIndex:1010,content:""},e.propTypes={content:a().node,duration:a().number,onClose:a().func,icon:a().node,direction:a().oneOf(f),stack:a().bool},e.defaultProps={},e};class j{static create(e){let t=R();return t.useToast=A,e&&t.config(e),t}}var W=j.create()},485699:function(e,t,n){"use strict";var r=n(429996),i=n(405313),o=n(164866);t.Z=function(e){o.Z&&(0,i.mf)(e),(0,r.useEffect)(function(){null==e||e()},[])}},448263:function(e,t,n){"use strict";var r=n(429996),i=function(e,t){return!Object.is(e,t)};t.Z=function(e,t){void 0===t&&(t=i);var n=(0,r.useRef)(),o=(0,r.useRef)();return t(o.current,e)&&(n.current=o.current,o.current=e),n.current}},698570:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(633424),i=n(429996),o=n(727499),a=function(e,t){var n=t.manual,a=t.ready,s=void 0===a||a,l=t.defaultParams,c=void 0===l?[]:l,u=t.refreshDeps,d=t.refreshDepsAction,f=(0,i.useRef)(!1);return f.current=!1,(0,o.Z)(function(){!n&&s&&(f.current=!0,e.run.apply(e,(0,r.ev)([],(0,r.CR)(c),!1)))},[s]),(0,o.Z)(function(){!f.current&&(n||(f.current=!0,d?d():e.refresh()))},(0,r.ev)([],(0,r.CR)(void 0===u?[]:u),!1)),{onBefore:function(){if(!s)return{stopNow:!0}}}};a.onInit=function(e){var t=e.ready;return{loading:!e.manual&&(void 0===t||t)}};var s=n(835984);function l(e,t){var n=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==n.initialized&&(0,s.Z)(n.deps,t)||(n.deps=t,n.obj=e(),n.initialized=!0),n.obj}var c=n(33021),u=new Map,d=function(e,t,n){var i=u.get(e);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var o=void 0;t>-1&&(o=setTimeout(function(){u.delete(e)},t)),u.set(e,(0,r.pi)((0,r.pi)({},n),{timer:o}))},f=new Map,p=function(e,t){f.set(e,t),t.then(function(t){return f.delete(e),t}).catch(function(){f.delete(e)})},h={},v=function(e,t){h[e]&&h[e].forEach(function(e){return e(t)})},m=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),function(){var n=h[e].indexOf(t);h[e].splice(n,1)}},g=function(e,t){var n=t.cacheKey,o=t.cacheTime,a=void 0===o?3e5:o,s=t.staleTime,h=void 0===s?0:s,g=t.setCache,_=t.getCache,y=(0,i.useRef)(),S=(0,i.useRef)(),b=function(e,t){g?g(t):d(e,a,t),v(e,t.data)},E=function(e,t){return(void 0===t&&(t=[]),_)?_(t):u.get(e)};return(l(function(){if(n){var t=E(n);t&&Object.hasOwnProperty.call(t,"data")&&(e.state.data=t.data,e.state.params=t.params,(-1===h||new Date().getTime()-t.time<=h)&&(e.state.loading=!1)),y.current=m(n,function(t){e.setState({data:t})})}},[]),(0,c.Z)(function(){var e;null===(e=y.current)||void 0===e||e.call(y)}),n)?{onBefore:function(e){var t=E(n,e);return t&&Object.hasOwnProperty.call(t,"data")?-1===h||new Date().getTime()-t.time<=h?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(e,t){var i=f.get(n);return i&&i!==S.current||(i=e.apply(void 0,(0,r.ev)([],(0,r.CR)(t),!1)),S.current=i,p(n,i)),{servicePromise:i}},onSuccess:function(t,r){var i;n&&(null===(i=y.current)||void 0===i||i.call(y),b(n,{data:t,params:r,time:new Date().getTime()}),y.current=m(n,function(t){e.setState({data:t})}))},onMutate:function(t){var r;n&&(null===(r=y.current)||void 0===r||r.call(y),b(n,{data:t,params:e.state.params,time:new Date().getTime()}),y.current=m(n,function(t){e.setState({data:t})}))}}:{}},_=n(162063),y=function(e,t){var n=t.debounceWait,o=t.debounceLeading,a=t.debounceTrailing,s=t.debounceMaxWait,l=(0,i.useRef)(),c=(0,i.useMemo)(function(){var e={};return void 0!==o&&(e.leading=o),void 0!==a&&(e.trailing=a),void 0!==s&&(e.maxWait=s),e},[o,a,s]);return((0,i.useEffect)(function(){if(n){var t=e.runAsync.bind(e);return l.current=(0,_.Z)(function(e){e()},n,c),e.runAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,i){var o;null===(o=l.current)||void 0===o||o.call(l,function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)).then(n).catch(i)})})},function(){var n;null===(n=l.current)||void 0===n||n.cancel(),e.runAsync=t}}},[n,c]),n)?{onCancel:function(){var e;null===(e=l.current)||void 0===e||e.cancel()}}:{}},S=function(e,t){var n=t.loadingDelay,r=t.ready,o=(0,i.useRef)();if(!n)return{};var a=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return a(),!1!==r&&(o.current=setTimeout(function(){e.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){a()},onCancel:function(){a()}}},b=n(826967);function E(){return!b.Z||"hidden"!==document.visibilityState}var w=[];b.Z&&window.addEventListener("visibilitychange",function(){if(E())for(var e=0;e<w.length;e++)(0,w[e])()},!1);var C=function(e,t){var n=t.pollingInterval,r=t.pollingWhenHidden,a=void 0===r||r,s=t.pollingErrorRetryCount,l=void 0===s?-1:s,c=(0,i.useRef)(),u=(0,i.useRef)(),d=(0,i.useRef)(0),f=function(){var e;c.current&&clearTimeout(c.current),null===(e=u.current)||void 0===e||e.call(u)};return((0,o.Z)(function(){n||f()},[n]),n)?{onBefore:function(){f()},onError:function(){d.current+=1},onSuccess:function(){d.current=0},onFinally:function(){-1===l||-1!==l&&d.current<=l?c.current=setTimeout(function(){if(a||E())e.refresh();else{var t;u.current=(t=function(){e.refresh()},w.push(t),function(){var e=w.indexOf(t);w.splice(e,1)})}},n):d.current=0},onCancel:function(){f()}}:{}},T=[];if(b.Z){var x=function(){if(E()&&(!b.Z||void 0===navigator.onLine||navigator.onLine))for(var e=0;e<T.length;e++)(0,T[e])()};window.addEventListener("visibilitychange",x,!1),window.addEventListener("focus",x,!1)}var k=function(e,t){var n=t.refreshOnWindowFocus,o=t.focusTimespan,a=void 0===o?5e3:o,s=(0,i.useRef)(),l=function(){var e;null===(e=s.current)||void 0===e||e.call(s)};return(0,i.useEffect)(function(){if(n){var t,i,o,c=(t=e.refresh.bind(e),i=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i||(i=!0,t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)),setTimeout(function(){i=!1},a))});s.current=(o=function(){c()},T.push(o),function(){var e=T.indexOf(o);e>-1&&T.splice(e,1)})}return function(){l()}},[n,a]),(0,c.Z)(function(){l()}),{}},O=function(e,t){var n=t.retryInterval,r=t.retryCount,o=(0,i.useRef)(),a=(0,i.useRef)(0),s=(0,i.useRef)(!1);return r?{onBefore:function(){s.current||(a.current=0),s.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){a.current=0},onError:function(){if(a.current+=1,-1===r||a.current<=r){var t=null!=n?n:Math.min(1e3*Math.pow(2,a.current),3e4);o.current=setTimeout(function(){s.current=!0,e.refresh()},t)}else a.current=0},onCancel:function(){a.current=0,o.current&&clearTimeout(o.current)}}:{}},I=n(806033),Z=function(e,t){var n=t.throttleWait,o=t.throttleLeading,a=t.throttleTrailing,s=(0,i.useRef)(),l={};return(void 0!==o&&(l.leading=o),void 0!==a&&(l.trailing=a),(0,i.useEffect)(function(){if(n){var t=e.runAsync.bind(e);return s.current=(0,I.Z)(function(e){e()},n,l),e.runAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,i){var o;null===(o=s.current)||void 0===o||o.call(s,function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)).then(n).catch(i)})})},function(){var n;e.runAsync=t,null===(n=s.current)||void 0===n||n.cancel()}}},[n,o,a]),n)?{onCancel:function(){var e;null===(e=s.current)||void 0===e||e.cancel()}}:{}},M=n(574367),N=n(999132),A=n(485699),L=n(282120),R=n(164866),j=n(405313),W=function(){function e(e,t,n,i){void 0===i&&(i={}),this.serviceRef=e,this.options=t,this.subscribe=n,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,r.pi)((0,r.pi)((0,r.pi)({},this.state),{loading:!t.manual}),i)}return e.prototype.setState=function(e){void 0===e&&(e={}),this.state=(0,r.pi)((0,r.pi)({},this.state),e),this.subscribe()},e.prototype.runPluginHandler=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.pluginImpls.map(function(n){var i;return null===(i=n[e])||void 0===i?void 0:i.call.apply(i,(0,r.ev)([n],(0,r.CR)(t),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(i),!1))},e.prototype.runAsync=function(){for(var e,t,n,i,o,a,s,l,c,u,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return(0,r.mG)(this,void 0,void 0,function(){var f,p,h,v,m,g,_,y,S,b,E;return(0,r.Jh)(this,function(w){switch(w.label){case 0:if(this.count+=1,f=this.count,v=void 0!==(h=(p=this.runPluginHandler("onBefore",d)).stopNow)&&h,g=void 0!==(m=p.returnNow)&&m,_=(0,r._T)(p,["stopNow","returnNow"]),v)return[2,new Promise(function(){})];if(this.setState((0,r.pi)({loading:!0,params:d},_)),g)return[2,Promise.resolve(_.data)];null===(t=(e=this.options).onBefore)||void 0===t||t.call(e,d),w.label=1;case 1:return w.trys.push([1,3,,4]),(y=this.runPluginHandler("onRequest",this.serviceRef.current,d).servicePromise)||(y=(E=this.serviceRef).current.apply(E,(0,r.ev)([],(0,r.CR)(d),!1))),[4,y];case 2:if(S=w.sent(),f!==this.count)return[2,new Promise(function(){})];return this.setState({data:S,error:void 0,loading:!1}),null===(i=(n=this.options).onSuccess)||void 0===i||i.call(n,S,d),this.runPluginHandler("onSuccess",S,d),null===(a=(o=this.options).onFinally)||void 0===a||a.call(o,d,S,void 0),f===this.count&&this.runPluginHandler("onFinally",d,S,void 0),[2,S];case 3:if(b=w.sent(),f!==this.count)return[2,new Promise(function(){})];throw this.setState({error:b,loading:!1}),null===(l=(s=this.options).onError)||void 0===l||l.call(s,b,d),this.runPluginHandler("onError",b,d),null===(u=(c=this.options).onFinally)||void 0===u||u.call(c,d,void 0,b),f===this.count&&this.runPluginHandler("onFinally",d,void 0,b),b;case 4:return[2]}})})},e.prototype.run=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(t),!1)).catch(function(t){e.options.onError})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},e.prototype.mutate=function(e){var t=(0,j.mf)(e)?e(this.state.data):e;this.runPluginHandler("onMutate",t),this.setState({data:t})},e}(),P=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var i=t.manual,o=void 0!==i&&i,a=(0,r._T)(t,["manual"]);R.Z&&t.defaultParams&&Array.isArray(t.defaultParams);var s=(0,r.pi)({manual:o},a),u=(0,M.Z)(e),d=(0,L.Z)(),f=l(function(){var e=n.map(function(e){var t;return null===(t=null==e?void 0:e.onInit)||void 0===t?void 0:t.call(e,s)}).filter(Boolean);return new W(u,s,d,Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(e),!1)))},[]);return f.options=s,f.pluginImpls=n.map(function(e){return e(f,s)}),(0,A.Z)(function(){if(!o){var e=f.state.params||t.defaultParams||[];f.run.apply(f,(0,r.ev)([],(0,r.CR)(e),!1))}}),(0,c.Z)(function(){f.cancel()}),{loading:f.state.loading,data:f.state.data,error:f.state.error,params:f.state.params||[],cancel:(0,N.Z)(f.cancel.bind(f)),refresh:(0,N.Z)(f.refresh.bind(f)),refreshAsync:(0,N.Z)(f.refreshAsync.bind(f)),run:(0,N.Z)(f.run.bind(f)),runAsync:(0,N.Z)(f.runAsync.bind(f)),mutate:(0,N.Z)(f.mutate.bind(f))}},D=function(e,t,n){return P(e,t,(0,r.ev)((0,r.ev)([],(0,r.CR)(n||[]),!1),[y,S,C,k,Z,a,g,O],!1))}},282120:function(e,t,n){"use strict";var r=n(633424),i=n(429996);t.Z=function(){var e=(0,r.CR)((0,i.useState)({}),2)[1];return(0,i.useCallback)(function(){return e({})},[])}},727499:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r,i=n(429996),o=(r=i.useEffect,function(e,t){var n=(0,i.useRef)(!1);r(function(){return function(){n.current=!1}},[]),r(function(){if(n.current)return e();n.current=!0},t)})},835984:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}n.d(t,{Z:function(){return r}})},826967:function(e,t){"use strict";var n=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.Z=n},223638:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(Error("Failed to load "+this.src),e)}}e.exports=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof n&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async=!("async"in n)||!!n.async,o.src=e,n.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,n.attrs),n.text&&(o.text=""+n.text),("onload"in o?t:function(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}})(o,r),o.onload||t(o,r),i.appendChild(o)}},680611:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(516058),i=n(751317),o=n(891853);function a(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(429996),l=n(353334),c=n(603566),u=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))})},d=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.addClass(i,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r&&n?n+"-":"",o=r?""+i+e:n[e],a=r?o+"-active":n[e+"Active"],s=r?o+"-done":n[e+"Done"];return{baseClassName:o,activeClassName:a,doneClassName:s}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r,i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&(0,c.Q)(e),i&&(this.appliedClasses[t][n]=i,r=i,e&&r&&r.split(" ").forEach(function(t){return function(e,t){if(e.classList)e.classList.add(t);else(e.classList?!(t&&e.classList.contains(t)):-1===(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))&&("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(e,t)}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&u(e,r),i&&u(e,i),o&&u(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return s.createElement(l.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d},353334:function(e,t,n){"use strict";n.d(t,{d0:function(){return f},ZP:function(){return g},cn:function(){return p},Ix:function(){return h}});var r=n(751317),i=n(891853),o=n(429996),a=n(568120),s={disabled:!1},l=n(631433),c=n(603566),u="unmounted",d="exited",f="entering",p="entered",h="exiting",v=function(e){function t(t,n){r=e.call(this,t,n)||this;var r,i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=d,r.appearStatus=f):i=p:i=t.unmountOnExit||t.mountOnEnter?u:d,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==p&&(t=f):(n===f||n===p)&&(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===f){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&(0,c.Q)(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],l=i[1],c=this.getTimeouts(),u=r?c.appear:c.enter;if(!e&&!n||s.disabled){this.safeSetState({status:p},function(){t.props.onEntered(o)});return}this.props.onEnter(o,l),this.safeSetState({status:f},function(){t.props.onEntering(o,l),t.onTransitionEnd(u,function(){t.safeSetState({status:p},function(){t.props.onEntered(o,l)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);if(!t||s.disabled){this.safeSetState({status:d},function(){e.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:h},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(l.Z.Provider,{value:null},"function"==typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function m(){}v.contextType=l.Z,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED=u,v.EXITED=d,v.ENTERING=f,v.ENTERED=p,v.EXITING=h;var g=v},631433:function(e,t,n){"use strict";var r=n(429996);t.Z=r.createContext(null)},603566:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=function(e){return e.scrollTop}},577518:function(e,t,n){"use strict";let r,i;var o=n(814010),a=n(668609);let s=0,l=0;t.Z=function(e,t,n){let c=t&&n||0,u=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){let t=e.random||(e.rng||o.Z)();null==d&&(d=r=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=i=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,v=p-s+(h-l)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=h,i=f;let m=((0xfffffff&(p+=122192928e5))*1e4+h)%0x100000000;u[c++]=m>>>24&255,u[c++]=m>>>16&255,u[c++]=m>>>8&255,u[c++]=255&m;let g=p/0x100000000*1e4&0xfffffff;u[c++]=g>>>8&255,u[c++]=255&g,u[c++]=g>>>24&15|16,u[c++]=g>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(let e=0;e<6;++e)u[c+e]=d[e];return t||(0,a.S)(u)}},607238:function(e,t){"use strict";t.Z={"loading-toast":"loading-toast-LXrKMn",loadingToast:"loading-toast-LXrKMn","loading-spin":"loading-spin-VQF5Ru",loadingSpin:"loading-spin-VQF5Ru"}},170494:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M21.707 7.293a1 1 0 0 0-1.414 0L12 15.586 3.707 7.293a1 1 0 0 0-1.414 1.414L10.586 17a2 2 0 0 0 2.828 0l8.293-8.293a1 1 0 0 0 0-1.414"})}),{}))},879298:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M21.06 7.118a1.5 1.5 0 0 1 0 2.121l-7.646 7.647a2 2 0 0 1-2.828 0L2.939 9.239a1.5 1.5 0 1 1 2.122-2.121L12 14.058l6.94-6.94a1.5 1.5 0 0 1 2.12 0",clipRule:"evenodd"})}),{}))},705513:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.182 21.06a1.5 1.5 0 0 1-2.121 0l-7.647-7.646a2 2 0 0 1 0-2.828l7.647-7.647a1.5 1.5 0 1 1 2.12 2.122L9.244 12l6.939 6.94a1.5 1.5 0 0 1 0 2.12",clipRule:"evenodd"})}),{}))},740659:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M7.707 21.707a1 1 0 0 1 0-1.414L16 12 7.707 3.707a1 1 0 0 1 1.414-1.414l8.293 8.293a2 2 0 0 1 0 2.828l-8.293 8.293a1 1 0 0 1-1.414 0"})}),{}))},108564:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.74 2.94a1.5 1.5 0 0 1 2.12 0l7.647 7.646a2 2 0 0 1 0 2.828l-7.646 7.647a1.5 1.5 0 0 1-2.122-2.122L14.68 12l-6.94-6.94a1.5 1.5 0 0 1 0-2.12",clipRule:"evenodd"})}),{}))},304385:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M9.218 17.41 19.83 6.796a.99.99 0 1 1 1.389 1.415c-3.545 3.425-4.251 4.105-11.419 11.074a.997.997 0 0 1-1.375.018c-1.924-1.801-3.709-3.568-5.573-5.43a.999.999 0 0 1 1.414-1.413z"})}),{}))},214294:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M10.756 7.299a1.245 1.245 0 1 1 2.488 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 16.9a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},539043:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M12 6.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2m-1 9v-4a1 1 0 1 1 0-2h1.004c.55 0 .998.446.999.996q.001 1.503-.001 3.004l-.002 2h.5a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2z",clipRule:"evenodd"})}),{}))},502698:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M2 3c0-.552.497-1 1.111-1H20.89C21.503 2 22 2.448 22 3s-.497 1-1.111 1H3.11C2.497 4 2 3.552 2 3M2 9c0-.552.497-1 1.111-1H20.89C21.503 8 22 8.448 22 9s-.497 1-1.111 1H3.11C2.497 10 2 9.552 2 9M2 15c0-.552.497-1 1.111-1H20.89c.614 0 1.111.448 1.111 1s-.497 1-1.111 1H3.11C2.497 16 2 15.552 2 15M2 21c0-.552.497-1 1.111-1H13c.614 0 1.111.448 1.111 1s-.497 1-1.111 1H3.111C2.497 22 2 21.552 2 21"})}),{}))},275437:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1m0 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1m1 5a1 1 0 1 0 0 2h12a1 1 0 1 0 0-2z",clipRule:"evenodd"})}),{}))},393863:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 9a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1m1 5a1 1 0 1 0 0 2h12a1 1 0 1 0 0-2z",clipRule:"evenodd"})}),{}))},153882:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M2.937 15.058a.89.89 0 0 1-.665-.282.94.94 0 0 1-.272-.675v-4.22q0-.392.272-.674a.87.87 0 0 1 .665-.292q.413 0 .684.292a.92.92 0 0 1 .282.675v4.22a.92.92 0 0 1-.282.674.91.91 0 0 1-.684.282m3.534 4.018a.92.92 0 0 1-.674-.271.95.95 0 0 1-.272-.685V5.864a.95.95 0 0 1 .272-.685.9.9 0 0 1 .674-.282.9.9 0 0 1 .675.282.93.93 0 0 1 .282.685V18.12a.93.93 0 0 1-.282.685.92.92 0 0 1-.675.271m3.515 3.807a.89.89 0 0 1-.665-.282.92.92 0 0 1-.271-.674V2.057q0-.404.271-.675a.89.89 0 0 1 .665-.282q.413 0 .685.282a.9.9 0 0 1 .282.675v19.87a.9.9 0 0 1-.282.674.91.91 0 0 1-.685.282m3.535-5.176a.92.92 0 0 1-.675-.272.92.92 0 0 1-.272-.675V7.223q0-.402.272-.675a.9.9 0 0 1 .675-.282.9.9 0 0 1 .675.282.9.9 0 0 1 .282.675v9.537a.9.9 0 0 1-.282.675.92.92 0 0 1-.675.272m3.535 2.96a.91.91 0 0 1-.685-.281.9.9 0 0 1-.272-.665V4.262q0-.393.272-.674a.91.91 0 0 1 .685-.282q.392 0 .665.282a.92.92 0 0 1 .282.674v15.459a.89.89 0 0 1-.282.665.89.89 0 0 1-.665.282m3.515-4.874a.9.9 0 0 1-.675-.282.94.94 0 0 1-.272-.674v-5.7q0-.393.272-.675a.9.9 0 0 1 .675-.282q.402 0 .684.282a.92.92 0 0 1 .282.675v5.7a.92.92 0 0 1-.282.674.93.93 0 0 1-.684.282"})}),{}))},359453:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M14.152 21.5q-.4 0-.705-.27a1.18 1.18 0 0 1-.368-.684 32 32 0 0 0-.58-2.687q-.294-1.079-.725-1.763a3.3 3.3 0 0 0-1.105-1.1q-.684-.414-1.746-.664a31 31 0 0 0-2.62-.477 1.2 1.2 0 0 1-.716-.363q-.273-.3-.273-.716 0-.415.284-.715.285-.312.715-.363a26 26 0 0 0 2.641-.415q1.074-.24 1.768-.654a3.4 3.4 0 0 0 1.126-1.12q.442-.705.715-1.794.273-1.1.515-2.697.064-.426.358-.685.306-.27.716-.27t.705.27q.305.26.378.685.285 1.597.569 2.686.294 1.08.725 1.764.432.683 1.116 1.1.683.414 1.736.663a30 30 0 0 0 2.62.467q.442.072.715.373.285.3.284.706 0 .425-.284.736-.284.3-.726.342-1.557.177-2.63.425-1.074.24-1.778.654a3.3 3.3 0 0 0-1.126 1.12q-.432.706-.705 1.795a30 30 0 0 0-.516 2.697 1.1 1.1 0 0 1-.368.684q-.294.27-.715.27M6.366 9.078q-.525 0-.589-.54a18 18 0 0 0-.252-1.565q-.127-.57-.421-.861-.295-.301-.884-.446-.59-.146-1.641-.29Q2 5.291 2 4.793t.516-.58a24 24 0 0 0 1.683-.343q.61-.156.905-.435.294-.291.42-.84.127-.561.253-1.546.063-.55.59-.55.515 0 .589.529.126 1.037.252 1.618.137.581.431.871.295.281.895.415.6.136 1.662.28.23.022.379.187.147.165.147.394 0 .488-.505.581-1.083.177-1.694.343-.6.155-.894.446-.295.279-.421.84T6.956 8.56a.58.58 0 0 1-.2.373.58.58 0 0 1-.39.145"})}),{}))},881314:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M1 12c0 6.075 4.925 11 11 11s11-4.925 11-11S18.075 1 12 1 1 5.925 1 12m14.795-2.674a.994.994 0 0 1 1.404.01.994.994 0 0 1 .01 1.404q-2.833 2.827-5.66 5.659a1 1 0 0 1-1.418 0q-1.477-1.479-2.956-2.956a.993.993 0 0 1 .01-1.403.99.99 0 0 1 1.403-.012l2.252 2.252z"})}),{}))},376563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n(429996);var r=n(339512),i=n(627394),o=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m1.147 17.969 8.5-14.793c1.032-1.835 3.674-1.835 4.706 0l8.5 14.793c1.013 1.8-.288 4.023-2.353 4.023h-17c-2.065 0-3.366-2.223-2.353-4.023m9.61-9.178a1.245 1.245 0 1 1 2.487 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 18.392a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},357705:function(e,t,n){"use strict";n.d(t,{l:function(){return v}});var r=n(429996),i=n(483767),o=n(669160),a=n.n(o),s=n(640078),l=n(705513),c=n(108564),u=n(627394);let d=e=>{let{children:t,className:n}=e;return(0,u.jsx)("div",{"data-testid":"carousel-item",className:a()("carousel-item-RtH0tm",n,"carousel-item"),children:t})};var f={carousel:"carousel-Bpr0fm",arrow:"arrow-ETPwYD",large:"large-_rru2x",medium:"medium-HySdVP",small:"small-j54zXw","left-arrow":"left-arrow-zylR9I",leftArrow:"left-arrow-zylR9I","right-arrow":"right-arrow-apab3k",rightArrow:"right-arrow-apab3k","no-border":"no-border-fvQ3oY",noBorder:"no-border-fvQ3oY","carousel-content":"carousel-content-excXaO",carouselContent:"carousel-content-excXaO",left:"left-KHoFX5",right:"right-olWVfh","carousel-row":"carousel-row-ssUUv6",carouselRow:"carousel-row-ssUUv6"};let p=e=>{let{enableArrowBorder:t,enableArrowShalldow:n,className:r,onClick:i,arrowSize:o="small"}=e;return(0,u.jsx)("div",{className:a()(f["arrow-container"],{[f.left]:n},"arrow-container-left",f[o],{[f["no-border"]]:!t}),children:(0,u.jsx)("div",{onClick:i,className:a()(r,f["left-arrow"],f.arrow,f[o],"left-arrow",{[f["no-border"]]:!t}),children:(0,u.jsx)(l.Z,{style:{transform:"scaleX(-1)"}})})})},h=e=>{let{enableArrowBorder:t,enableArrowShalldow:n,className:r,onClick:i,arrowSize:o="small"}=e;return(0,u.jsx)("div",{className:a()(f["arrow-container"],{[f.right]:n},"arrow-container-right",f[o],{[f["no-border"]]:!t}),children:(0,u.jsx)("div",{onClick:i,className:a()(r,f["right-arrow"],f.arrow,f[o],"right-arrow",{[f["no-border"]]:!t}),children:(0,u.jsx)(c.Z,{})})})},v=(0,r.forwardRef)(function(e,t){let{rows:n=1,column:o,className:l,contentClassName:c,itemClassName:v,leftArrowClassName:m,rightArrowClassName:g,carouselRowClassName:_,children:y,enableArrowShalldow:S=!0,scrollStep:b=.5,enableArrowBorder:E=!0,onScroll:w,reportEvent:C,arrowSize:T="small",customUpdateArrowVisible:x,onScrollRight:k}=e,O=(0,r.useRef)(null),[I,Z]=(0,r.useState)(!1),[M,N]=(0,r.useState)(!1),[A,L]=(0,r.useState)(0);if((0,r.useImperativeHandle)(t,()=>({itemsContainerRef:O})),!y)return null;let R=r.Children.map(y,(e,t)=>(0,u.jsx)(d,{className:v,children:e},t)),j=(0,i.Z)(R,null!=o?o:Math.ceil(((null==R?void 0:R.length)||0)/n)),W=Array.from(Array(n).fill(null)).map((e,t)=>(0,u.jsx)("div",{className:a()(f["carousel-row"],"carousel-row",_),children:j[t]},t)),{run:P}=(0,s.Z)(e=>null==C?void 0:C.slideReport(e),{wait:100,leading:!1,trailing:!0});return(0,r.useEffect)(()=>{var e,t;let n=()=>{if("function"==typeof x){let{shouldShowArrowLeft:e,shouldShowArrowRight:t}=x();Z(e),N(t)}else r()},r=()=>{var e,t,n,r,i,o;let a=Math.ceil(null!==(r=null==O?void 0:null===(e=O.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==r?r:0),s=Math.abs((null!==(i=null==O?void 0:null===(t=O.current)||void 0===t?void 0:t.scrollWidth)&&void 0!==i?i:0)-(null!==(o=null==O?void 0:null===(n=O.current)||void 0===n?void 0:n.clientWidth)&&void 0!==o?o:0)-a)>2;Z(a>0),N(s)},i=()=>{var e,t;null==w||w(),n();let r=Math.ceil(null!==(t=null==O?void 0:null===(e=O.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0),i="left";r>A&&(i="right",null==k||k()),P(i),L(r)};return n(),null==O||null===(e=O.current)||void 0===e||e.addEventListener("scroll",i),null===(t=window)||void 0===t||t.addEventListener("resize",n),()=>{var e,t;null==O||null===(e=O.current)||void 0===e||e.removeEventListener("scroll",i),null===(t=window)||void 0===t||t.removeEventListener("resize",n)}},[y]),(0,u.jsxs)("div",{className:a()(f.carousel,"carousel",l),children:[I&&(0,u.jsx)(p,{onClick:()=>{var e,t,n,r;(null==O?void 0:null===(e=O.current)||void 0===e?void 0:e.scrollLeft)!==void 0&&(null==O?void 0:null===(t=O.current)||void 0===t?void 0:t.clientWidth)&&(null===(n=(r=O.current).scrollTo)||void 0===n||n.call(r,{left:Math.max(O.current.scrollLeft-O.current.clientWidth*b,0),behavior:"smooth"}))},enableArrowBorder:E,enableArrowShalldow:S,className:m,arrowSize:T}),(0,u.jsx)("div",{className:a()(f["carousel-content"],"carousel-content",{[f.left]:I,[f.right]:M},c),"data-left":I,"data-right":M,ref:O,children:W}),M&&(0,u.jsx)(h,{onClick:()=>{var e,t,n,r,i,o,a,s,l;let c=null!==(n=null==O?void 0:null===(e=O.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0;if((null==O?void 0:null===(t=O.current)||void 0===t?void 0:t.scrollLeft)!==void 0&&c){let e=(null!==(s=null==O?void 0:null===(r=O.current)||void 0===r?void 0:r.scrollWidth)&&void 0!==s?s:0)-(null!==(l=null==O?void 0:null===(i=O.current)||void 0===i?void 0:i.clientWidth)&&void 0!==l?l:0);null===(o=(a=O.current).scrollTo)||void 0===o||o.call(a,{left:Math.min(O.current.scrollLeft+c*b,e),behavior:"smooth"}),null==k||k()}},enableArrowBorder:E,enableArrowShalldow:S,className:g,arrowSize:T})]})})},202856:function(e,t,n){"use strict";n.d(t,{F:function(){return w}});var r=n(429996),i=n(477041),o=n(607278),a=n(669160),s=n.n(a),l=n(19755),c=n(757873),u=n(727499),d=n(895337),f=n(743741),p=n(444614),h=n(550606),v=n(304385),m=n(740659);let g=(e,t)=>t.some(t=>t.value===e||!!(t.subOptions&&g(e,t.subOptions)));var _={"top-divider":"top-divider-aJrvEi",topDivider:"top-divider-aJrvEi",container:"container-MWoWM8","theme-primary":"theme-primary-mzRdkc",themePrimary:"theme-primary-mzRdkc","theme-rounded":"theme-rounded-CtyJFN",themeRounded:"theme-rounded-CtyJFN","icon-size-small":"icon-size-small-wyIVG8",iconSizeSmall:"icon-size-small-wyIVG8","icon-size-middler":"icon-size-middler-kIDEQi",iconSizeMiddler:"icon-size-middler-kIDEQi","icon-size-middle":"icon-size-middle-xKhaaX",iconSizeMiddle:"icon-size-middle-xKhaaX","font-size-middle":"font-size-middle-mNZcmk",fontSizeMiddle:"font-size-middle-mNZcmk","font-size-large":"font-size-large-leYBUN",fontSizeLarge:"font-size-large-leYBUN",loading:"loading-CxpIoW",icon:"icon-CjS0dD","new-icon":"new-icon-xb8CT0",newIcon:"new-icon-xb8CT0",content:"content-pPWzdg",title:"title-a5adwt",small:"small-y7eSCk",desc:"desc-gqBlCt","selected-icon":"selected-icon-UME2r_",selectedIcon:"selected-icon-UME2r_","sub-options-icon":"sub-options-icon-xwXuOZ",subOptionsIcon:"sub-options-icon-xwXuOZ",disabled:"disabled-AwfTDR",hovered:"hovered-wpg2oH",selected:"selected-oNJwdV"},y=n(627394);let S="magic_null_value";function b(e){let{className:t,style:n,subOptionsPopoverProps:i={},onSelect:o,onMouseDown:a,currentValue:l,itemValue:c,theme:d="primary",iconSize:b="small",fontSize:E="middle",highlightWhenChecked:w=!0,itemTitleClassName:C,subOptionsVisible:T=!1,onSubOptionsVisibleChange:x,onEnter:k,onLeave:O,onInViewChange:I,PopoverSelectSlot:Z,label:M,subLabel:N,value:A,disabled:L=!1,checked:R=!1,loading:j=!1,topDivider:W=!1,top:P,waitForPromise:D=!1,visible:U=!0,hovered:$=!1,rightIcon:z,icon:F,newIcon:X,subOptions:B=[],wrapper:V,onClick:G,onBeforeClick:K,onVisibleChange:H}=e,[Q,q]=(0,r.useState)(T),J=R||l===A,Y=g(l,B)?l:void 0;(0,u.Z)(()=>{null==x||x(Q)},[Q]),(0,u.Z)(()=>{q(T)},[T]),(0,r.useEffect)(()=>{$&&(null==k||k())},[$]),(0,u.Z)(()=>{$||null==O||O()},[$]);let ee=(0,y.jsx)(f.df,{onChange:I,children:e=>{let{ref:r}=e;return(0,y.jsxs)("div",{"data-testid":"popover_select_option_item","data-value":c,ref:r,onMouseEnter:k,onMouseLeave:O,className:s()(_.container,t,_[`icon-size-${b}`],_[`font-size-${E}`],_[`theme-${d}`],{[_.selected]:w&&J,[_.disabled]:L,[_.loading]:j,[_.hovered]:$}),style:n,onClick:async e=>{if(!L&&!B.length){if(e.stopPropagation(),null==K||K(),D){if(await (null==G?void 0:G())===!1)return}else if((null==G?void 0:G())===!1)return;null==o||o(A)}},onMouseDown:a,children:[F&&(0,y.jsx)("div",{className:s()(_.icon,{[_["new-icon"]]:null!=X&&X}),children:F}),(0,y.jsxs)("div",{className:_.content,children:[(0,y.jsx)("div",{className:s()(_.title,C,{[_.small]:!!N}),children:M}),N&&(0,y.jsx)("div",{className:_.desc,children:N})]}),!j&&w&&J&&(0,y.jsx)(v.Z,{className:_["selected-icon"]}),j&&(0,y.jsx)(h.Z,{wrapperClassName:_.loading}),B.length?(0,y.jsx)(m.Z,{className:_["sub-options-icon"]}):z]})}});if(!U)return null;let et=(0,y.jsxs)(y.Fragment,{children:[W&&(0,y.jsx)("div",{className:_["top-divider"]}),P,B.length?(0,y.jsx)(Z,{...i,fontSize:E,iconSize:b,theme:d,newIcon:X,highlightWhenChecked:w,position:"rightTop",spacing:8,defaultValue:S,options:B,visible:Q,onVisibleChange:q,onMouseDown:a,value:Y,onChange:e=>{!(0,p.Z)(e)&&e!==S&&(null==o||o(e))},children:ee}):ee]});return(0,y.jsx)(y.Fragment,{children:V?V(et,()=>null==H?void 0:H(!1)):et})}var E={container:"container-RBMTaX","theme-primary":"theme-primary-xOxCZs",themePrimary:"theme-primary-xOxCZs","theme-rounded":"theme-rounded-ATtZLr",themeRounded:"theme-rounded-ATtZLr","selection-content":"selection-content-gvlYHd",selectionContent:"selection-content-gvlYHd",scrollable:"scrollable-U_PFsk","select-title":"select-title-_yLxLP",selectTitle:"select-title-_yLxLP",text:"text-T6QAhu"};function w(e){let{popoverContentRef:t,className:n,style:a,contentClassName:f,contentStyle:p,contentProps:h,itemClassName:v,itemTitleClassName:m,children:g,content:_,disabled:S=!1,title:C,options:T,defaultValue:x,value:k,onChange:O,visible:I,onVisibleChange:Z,forceVisible:M,position:N="bottom",spacing:A=0,iconSize:L,theme:R="primary",fontSize:j,selectable:W=!0,scrollable:P=!0,showScroller:D=!0,highlightWhenChecked:U,newIcon:$,bottom:z,rePosKey:F,onMouseDown:X,onItemInViewChange:B,onItemClick:V,trigger:G="custom",hideWhenClickOutside:K=!0,...H}=e,[Q,q]=(0,c.f)({defaultValue:x,value:k,onChange:O}),[J,Y]=(0,c.f)({defaultValue:!1,value:I,onChange:Z}),[ee,et]=(0,r.useState)(),en=null!=M?M:J;(0,u.Z)(()=>{J||et(void 0)},[J]),(0,r.useEffect)(()=>{S&&Y(!1)},[S]);let er=async e=>{W&&(q(e),await (0,l.GR)(50)),Y(!1)},ei=e=>{e.preventDefault(),null==X||X(e)},eo=(0,y.jsxs)("div",{...h,ref:t,className:s()(E["selection-content"],f,{[E.scrollable]:P,"flow-scrollbar":D}),style:p,children:[(0,i.Z)(C)?(0,y.jsx)("div",{className:E["select-title"],children:(0,y.jsx)("div",{className:E.text,children:C})}):C,T.map(e=>{let{value:t,newIcon:n=$}=e;return(0,r.createElement)(b,{...e,subOptionsPopoverProps:{contentClassName:f,contentStyle:p,scrollable:P,selectable:W,rePosKey:F,onItemInViewChange:t=>{let{current:n,parents:r,visible:i}=t;null==B||B({visible:i,current:n,parents:e?[...r,e]:r})},onItemClick:t=>{let{current:n,parents:r}=t;null==V||V({current:n,parents:e?[...r,e]:r})}},key:t,itemValue:t,className:v,itemTitleClassName:m,iconSize:L,fontSize:j,newIcon:n,theme:R,highlightWhenChecked:U,currentValue:Q,PopoverSelectSlot:w,onMouseDown:ei,onSelect:er,onVisibleChange:Z,subOptionsVisible:ee===t,onSubOptionsVisibleChange:e=>{ee!==t||e||et(void 0)},onEnter:()=>{et(t)},onInViewChange:t=>{null==B||B({visible:t,current:e,parents:[]})},onBeforeClick:()=>{null==V||V({current:e,parents:[]})}})}),z]}),ea={setVisible:Y,value:Q,option:T.find(e=>e.value===Q)},es=(0,o.Z)(_)?_(ea):_;return(0,y.jsx)(d.Z,{trigger:G,position:N,content:es||eo,spacing:A,className:s()(E.container,n,E[`theme-${R}`]),style:a,visible:en,onVisibleChange:Y,onClickOutSide:()=>{var e,t;K&&(!ee||null===(t=T.find(e=>e.value===ee))||void 0===t||null===(e=t.subOptions)||void 0===e||!e.length)&&Y(!1)},rePosKey:F,"data-visible":en,...H,children:(0,o.Z)(g)?g(ea):g})}},551450:function(e,t,n){"use strict";n.d(t,{Gu:function(){return p},FN:function(){return f},pJ:function(){return f}}),n(429996);var r=n(669160),i=n.n(r),o=n(775313),a=n(539043),s=n(881314),l=n(376563),c=n(214294),u=n(627394);function d(e){return[{method:"info",icon:(0,u.jsx)(a.Z,{className:"text-18"})},{method:"success",icon:(0,u.jsx)(s.Z,{className:"text-18"})},{method:"warning",icon:(0,u.jsx)(l.Z,{className:"text-18"})},{method:"error",icon:(0,u.jsx)(c.Z,{className:"text-18"})}].forEach(t=>{let{method:n,icon:r}=t,o=e[n];e[n]=t=>{let n=t;return"string"==typeof t&&(n={content:t}),o.call(e,Object.assign({showClose:!1,icon:r},n,{className:i()("samantha-toast",n.className||"")},{theme:"light"}))}}),e}let f=d(o.x.create({zIndex:5e3})),p={create:e=>d(o.x.create(e))}},720246:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(429996),i=n(574367);function o(e){let t=(0,i.Z)(e),n=(0,r.useCallback)(function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[]);return e&&n}},2061:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(429996);let i=e=>{let{value:t,isEqual:n=Object.is}=e,i=(0,r.useRef)(),o=(0,r.useRef)(t);return n(o.current,t)||(i.current=o.current,o.current=t),i}},10763:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(429996),i=n(607278);let o=e=>{let t=(0,r.useRef)(e),[n,o]=(0,r.useState)(e);return[n,(0,r.useCallback)(e=>{t.current=(0,i.Z)(e)?e(t.current):e,o(t.current)},[]),(0,r.useCallback)(()=>t.current,[])]}},757873:function(e,t,n){"use strict";n.d(t,{f:function(){return c}});var r=n(429996),i=n(444614),o=n(607278),a=n(10763),s=n(2061),l=n(720246);let c=e=>{var t;let{defaultValue:n,initialValue:c=n,value:u,onChange:d,isEqual:f=Object.is,allowUndefined:p=!1}=e,[h,v,m]=(0,a.H)(null!=u?u:c),g=(0,r.useRef)(p?u:null!=u?u:h),_=(e,t)=>(0,i.Z)(e)||(0,i.Z)(t)?e===t:f(e,t),y=(0,s.s)({value:u,isEqual:_}),S=(0,s.s)({value:h,isEqual:_}),b=(0,l.i)((e,t,n)=>(0,i.Z)(t)?!(0,i.Z)(e)&&(!!n||p):(0,i.Z)(e)?(0,i.Z)(t):!_(e,t));(0,i.Z)(y.current)||_(y.current,u)?(0,i.Z)(S.current)||_(S.current,h)||(g.current=h):g.current=u;let E=(0,l.i)(e=>{let t=m(),n=(0,o.Z)(e)?e(t):e;b(n,u,!0)&&(null==d||d(n)),v(n)});return[null!==(t=g.current)&&void 0!==t?t:n,E]}},139935:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(529496);function i(e){let t=e.startsWith("http://")||e.startsWith("https://"),n=document.createElement("a");n.href=(0,r.C)(t?e:`${window.location.origin}${e.startsWith("/")?e:`/${e}`}`,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldtMTRkb$F4T1dwaFIwWXdX$mhL-m1SW$R%MD0",scmVersion:"1.0.1.2917",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$J-%lJXRXBxW$$NNWFWbFl%bXhNTTFZd1lWZDRla3d6$*5sWm$%bDJZM*RXZF$4W*$IQmliWE4xWk$oT2FHTnRaREZqZHowOQ"}),n.target="_blank",n.click()}},806286:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});let r=(e,t)=>[...e].slice(0,t).join("").length},847758:function(e,t,n){"use strict";var r,i,o,a,s;n.r(t),n.d(t,{ArtifactMetaStatus:function(){return l},ArtifactResourceType:function(){return c},ArtifactSourceType:function(){return u},ArtifactStatus:function(){return d},ArtifactType:function(){return f}});let l=((r={})[r.Undefined=0]="Undefined",r[r.Normal=1]="Normal",r[r.Deleted=2]="Deleted",r),c=((i={})[i.WriteDoc=1]="WriteDoc",i[i.Pages=2]="Pages",i[i.CanvasPage=3]="CanvasPage",i[i.StepWritingPage=4]="StepWritingPage",i[i.Code=5]="Code",i[i.StepWritingOtterPage=6]="StepWritingOtterPage",i),u=((o={})[o.Conversation=1]="Conversation",o[o.MobileMainConversation=2]="MobileMainConversation",o),d=((a={})[a.Init=0]="Init",a[a.Generating=1]="Generating",a[a.Generated=2]="Generated",a[a.Deleted=3]="Deleted",a[a.Terminal=4]="Terminal",a),f=((s={})[s.Page=1]="Page",s)},317774:function(e,t,n){"use strict";var r;n.d(t,{b:function(){return i}});let i=((r={})[r.Unknown=0]="Unknown",r[r.Stream=1]="Stream",r[r.Normal=2]="Normal",r)},57005:function(e,t,n){"use strict";var r,i,o,a,s,l,c,u,d,f,p,h,v;n.d(t,{$Q:function(){return S},Be:function(){return _},Dh:function(){return O},Jq:function(){return k},Lq:function(){return w},Nz:function(){return C},Pu:function(){return g},Re:function(){return x},Th:function(){return b},ce:function(){return m},cj:function(){return y},e$:function(){return T},p1:function(){return E}});let m=((r={})[r.Processing=0]="Processing",r[r.Enable=1]="Enable",r[r.Disable=2]="Disable",r[r.Init=3]="Init",r),g=((i={})[i.from_upload=0]="from_upload",i[i.from_share=1]="from_share",i[i.from_conversation=2]="from_conversation",i),_=((o={})[o.all=0]="all",o[o.doc=1]="doc",o[o.image=2]="image",o[o.media=3]="media",o[o.chart=4]="chart",o[o.ppt=5]="ppt",o[o.code_project=6]="code_project",o[o.meeting_minutes=7]="meeting_minutes",o[o.archive=8]="archive",o[o.others=100]="others",o),y=((a={})[a.Default=0]="Default",a[a.Desc=1]="Desc",a[a.Asc=2]="Asc",a),S=((s={})[s.Default=0]="Default",s[s.LastUsedTime=1]="LastUsedTime",s[s.Name=2]="Name",s[s.CreateTime=3]="CreateTime",s[s.Size=4]="Size",s[s.Source=5]="Source",s[s.FileType=6]="FileType",s[s.UpdateTime=7]="UpdateTime",s),b=((l={})[l.Default=0]="Default",l[l.Documents=1]="Documents",l[l.ConversationFiles=2]="ConversationFiles",l[l.MeetingMinutes=3]="MeetingMinutes",l[l.CodeArtifact=4]="CodeArtifact",l[l.Creation=5]="Creation",l),E=((c={})[c.AI=1]="AI",c),w=((u={})[u.Default=0]="Default",u[u.CodeIndependentSite=1]="CodeIndependentSite",u),C=((d={})[d.Default=0]="Default",d[d.Otter=1]="Otter",d),T=((f={})[f.Init=0]="Init",f[f.Pass=1]="Pass",f[f.Reject=2]="Reject",f[f.Processing=3]="Processing",f[f.Failed=51]="Failed",f),x=((p={})[p.AICreate=1]="AICreate",p[p.FromConversation=2]="FromConversation",p[p.FromUpload=3]="FromUpload",p[p.FromShare=4]="FromShare",p),k=((h={})[h.UnKnown=0]="UnKnown",h[h.Directory=1]="Directory",h[h.File=2]="File",h[h.Link=3]="Link",h[h.Image=4]="Image",h[h.Pages=5]="Pages",h[h.Video=6]="Video",h[h.Audio=7]="Audio",h[h.MeetingMinutes=8]="MeetingMinutes",h[h.CodeArtifact=9]="CodeArtifact",h[h.CodeProject=10]="CodeProject",h),O=((v={})[v.Unknown=0]="Unknown",v[v.Available=1]="Available",v[v.NoEncodedStream=2]="NoEncodedStream",v[v.ReviewFailed=3]="ReviewFailed",v)},689337:function(e,t,n){"use strict";n.d(t,{HL:function(){return d},Nu:function(){return s},ci:function(){return f},lx:function(){return c}});var r=n(377940),i=n(669384),o=n(636674);let a={[o.SkillType.ReadAndSummarize]:r.r4.SKILL_NAME_READ_SUMMARIZE,[i.W.SkillWrite]:r.r4.SKILL_NAME_WRITING_ASSISTANT,[i.W.SkillImageGen]:r.r4.SKILL_NAME_IMAGES_GENERATION,[i.W.SkillSearch]:r.r4.SKILL_NAME_SEARCH,[i.W.SkillDeepSearch]:r.r4.SKILL_NAME_DEEP_SEARCH,[i.W.SkillTranslate]:r.r4.SKILL_NAME_TRANSLATE,[i.W.SkillRead]:r.r4.SKILL_NAME_READ_PDF,[i.W.SkillWebpage]:r.r4.SKILL_NAME_READ_WEBPAGE,[i.W.SkillMusicGen]:r.r4.SKILL_NAME_MUSIC_GENERATION,[o.SkillType.AcademicSearch]:r.r4.SKILL_NAME_ACADEMIC_SEARCH,[o.SkillType.CodeInterpreter]:r.r4.SKILL_NAME_CODE_INTERPRETER,[i.W.SkillFreeChat]:null,[i.W.SkillEdu]:r.r4.SKILL_NAME_EXERCISE_ASSISTANT,[o.SkillType.ReadMultiWebsites]:r.r4.SKILL_NAME_READ_MULTIPLE_URL,[o.SkillType.CodeAssistant]:r.r4.SKILL_NAME_CODING,[o.SkillType.ReferenceAsk]:r.r4.SKILL_NAME_REFERENCE_ACK,[o.SkillType.VoiceCall]:r.r4.SKILL_NAME_VOICE_CALL,[o.SkillType.VideoGeneration]:r.r4.SKILL_NAME_VIDEO_GENERATION,[o.SkillType.AiPPT]:r.r4.SKILL_NAME_AI_PPT,[i.W.SkillDeepResearch]:r.r4.SKILL_NAME_DEEP_RESEARCH,[o.SkillType.SkillAiPodcast]:r.r4.SKILL_NAME_PODCAST,[o.SkillType.CustomSkill]:r.r4.SKILL_CUSTOM_SKILL,[o.SkillType.UGCBot]:null,[o.SkillType.AiReadWebsite]:null,[o.SkillType.LocalModelQA]:null,[o.SkillType.AISpace]:null,[i.W.DesExtChatSkillPlaceholder]:null,[i.W.DesExtSkillTranslate]:null,[i.W.DesExtSkillSummaryHighlight]:null,[i.W.DesExtSkillExplain]:null,[i.W.DesExtSkillDesExtSearchCard]:null,[i.W.DesExtSkillLinkPreview]:null,[i.W.DesExtSkillDesExtSuggest]:null,[i.W.DesExtSkillVideoSummary]:null,[i.W.DesExtSkillOneLevelVideoSummary]:null,[i.W.DesExtSkillRewriteWithTone]:null,[i.W.DesExtSkillCustomSkill]:null,[i.W.DesExtSkillSearchMindNote]:null,[i.W.DesExtSkillTextToMindNote]:null,[i.W.DesExtSkillBilingualSentence]:null,[i.W.DesExtSkillAITitle]:null,[i.W.DesExtPodcastTranscript]:null,[i.W.DesExtSkillWebsiteDetail]:null,[i.W.DesExtSkillSummary]:null,[i.W.DesExtSkillAIToolSummary]:null,[i.W.DesExtSkillMindMap]:null,[i.W.DesExtSkillSimplifiedRead]:null,[i.W.DesExtSkillGrammar]:null,[i.W.DesExtSkillReply]:null,[o.SkillType.DesExtSkillMeetingSummary]:r.r4.SKILL_NAME_MEETING_RECORD,[i.W.SkillTypeMediaUnderstandingByAsr]:null,[i.W.SkillSearchEngine]:null,[i.W.DesExtSkillVideoListSummary]:null,[i.W.DesExtSkillCommentAnalyze]:null,[i.W.DesExtSkillVideoDeepAnalyze]:null,[i.W.DesExtSkillTopicTrendAnalyze]:null,[i.W.DesExtSkillPageTranslate]:null,[i.W.DesExtSkillSharedAppAssistant]:r.r4.SKILL_SHARED_APP_ASSISTANT,[i.W.DesExtSkillGrammarCorrection]:null,[i.W.DesExtSkillPodcastReading]:null,[i.W.DesExtSkillEncyclopedia]:null,[i.W.DesExtSkillMindMapGenerate]:null,[i.W.SkillUserCustomSkill]:null,[i.W.DesExtSkillSuperTask]:r.r4.SKILL_NAME_SUPER_TASK},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return a[e||i.W.SkillFreeChat]},l={[o.SkillType.ReadAndSummarize]:"chat_action_bar_read_summarize",[i.W.SkillWrite]:"chat_action_bar_compose",[i.W.SkillImageGen]:"chat_action_bar_image_creation",[i.W.SkillSearch]:"chat_action_bar_search",[i.W.SkillDeepSearch]:"chat_action_bar_deep_search",[i.W.SkillTranslate]:"chat_action_bar_translate",[i.W.SkillRead]:"chat_action_bar_read_pdf",[i.W.SkillWebpage]:"chat_action_bar_read_url",[i.W.SkillMusicGen]:"chat_action_bar_music_creation",[o.SkillType.AcademicSearch]:"chat_action_bar_academic_search",[o.SkillType.CodeInterpreter]:"chat_action_bar_code_interpreter",[o.SkillType.ExerciseAssistant]:"chat_action_bar_exercise_assistant",[i.W.SkillFreeChat]:"",[o.SkillType.ReadMultiWebsites]:"",[o.SkillType.CodeAssistant]:"chat_action_bar_coding",[o.SkillType.VoiceCall]:"",[o.SkillType.VideoGeneration]:"chat_action_bar_video_creation",[o.SkillType.AiPPT]:"chat_action_bar_video_creation",[o.SkillType.UGCBot]:"",[o.SkillType.AiReadWebsite]:"",[o.SkillType.LocalModelQA]:"",[o.SkillType.AISpace]:"",[o.SkillType.SkillAiPodcast]:"",[o.SkillType.CustomSkill]:"",[i.W.DesExtChatSkillPlaceholder]:"",[i.W.DesExtSkillTranslate]:"",[i.W.DesExtSkillSummaryHighlight]:"",[i.W.DesExtSkillExplain]:"",[i.W.DesExtSkillDesExtSearchCard]:"",[i.W.DesExtSkillLinkPreview]:"",[i.W.DesExtSkillDesExtSuggest]:"",[i.W.DesExtSkillVideoSummary]:"",[i.W.DesExtSkillOneLevelVideoSummary]:"",[i.W.DesExtSkillRewriteWithTone]:"",[i.W.DesExtSkillCustomSkill]:"",[i.W.DesExtSkillSearchMindNote]:"",[i.W.DesExtSkillTextToMindNote]:"",[i.W.DesExtSkillBilingualSentence]:"",[i.W.DesExtSkillAITitle]:"",[i.W.DesExtPodcastTranscript]:"",[i.W.DesExtSkillWebsiteDetail]:"",[i.W.DesExtSkillSummary]:"",[i.W.DesExtSkillAIToolSummary]:"",[i.W.DesExtSkillReferenceAsk]:"",[i.W.DesExtSkillMindMap]:"",[i.W.DesExtSkillSimplifiedRead]:"",[i.W.DesExtSkillGrammar]:"",[i.W.DesExtSkillReply]:"",[o.SkillType.DesExtSkillMeetingSummary]:"",[i.W.SkillTypeMediaUnderstandingByAsr]:"",[i.W.SkillSearchEngine]:"",[i.W.DesExtSkillVideoListSummary]:"",[i.W.DesExtSkillCommentAnalyze]:"",[i.W.DesExtSkillVideoDeepAnalyze]:"",[i.W.DesExtSkillTopicTrendAnalyze]:"",[i.W.DesExtSkillPageTranslate]:"",[i.W.SkillDeepResearch]:"",[i.W.DesExtSkillSharedAppAssistant]:"",[i.W.DesExtSkillGrammarCorrection]:"",[i.W.DesExtSkillPodcastReading]:"",[i.W.DesExtSkillSuperTask]:"",[i.W.DesExtSkillEncyclopedia]:"",[i.W.DesExtSkillMindMapGenerate]:""},c=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=l[t])&&void 0!==e?e:l[i.W.SkillFreeChat]},u={[i.W.SkillWrite]:"writing_preview",[i.W.SkillImageGen]:"image_preview",[i.W.SkillFreeChat]:"",[o.SkillType.CodeInterpreter]:"ci_preview"},d=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=u[t||i.W.SkillFreeChat])&&void 0!==e?e:u[i.W.SkillFreeChat]},f=e=>void 0===e?"generic":e.toString()},775265:function(e,t,n){"use strict";n.d(t,{T5:function(){return l},rP:function(){return f},wG:function(){return d}});var r=n(669384),i=n(41359),o=n(455746),a=n(317774),s=n(972640);let l=e=>{var t,n;return(null==e?void 0:e.content_type)===r.zc.SamanthaAiPodcastOutput||(null==e?void 0:e.content_type)===o.ContentType.Widget&&(null===(t=e.content_obj)||void 0===t?void 0:t.applet_id)===i.K1.Podcast&&(null===(n=e.content_obj)||void 0===n?void 0:n.widget_id)===i.W7.AIPodcast},c=e=>{if(!l(e))return;let t=null==e?void 0:e.content_obj,n=s.Y.parse(null==t?void 0:t.widget_data);return s.Y.parse(null==n?void 0:n.data)},u=e=>{var t,n,r;let i=null==e?void 0:null===(n=e.episodeList)||void 0===n?void 0:null===(t=n.episodes)||void 0===t?void 0:t[0];return(null==i?void 0:null===(r=i.meta)||void 0===r?void 0:r.protocol)===a.b.Normal},d=e=>u(c(e)),f=e=>{let t=c(e);return u(t)?null==t?void 0:t.waiting_reply:void 0}},316965:function(e,t,n){"use strict";n.d(t,{Us:function(){return i},Yw:function(){return r}});var r={UNKNOWN:0,SELECTION:1,CURSOR:2},i={UNKNOWN:0,DIRECT_INPUT:1,WRITE_ARTICLE:2,WRITE_PAPER:3,WRITE_RESEARCH_REPORT:4,WRITE_XIAOHONGSHU:5,WRITE_SUMMARY_REPORT:6,WRITE_ESSAY:7,WRITE_PROMOTION:8,CONTINUE_WRITING:9,ADD_TRANSITION:10,ADD_EXAMPLE:11,ADD_SUMMARY:12,INSERT_TABLE:13,POLISH:14,EXPAND:15,ABBREVIATE:16,FULL_TEXT_POLISH:17,LENGTH_ADJUSTMENT_VERY_LONG:18,LENGTH_ADJUSTMENT_LONG:19,LENGTH_ADJUSTMENT_SHORT:20,LENGTH_ADJUSTMENT_VERY_SHORT:21,TONE_ADJUSTMENT_MORE_PROFESSIONAL:22,TONE_ADJUSTMENT_MORE_ACADEMIC:23,TONE_ADJUSTMENT_MORE_FORMAL:24,TONE_ADJUSTMENT_MORE_EASY:25,TONE_ADJUSTMENT_MORE_LITERARY:26,TONE_ADJUSTMENT_MORE_NET_SENSE:27}},475434:function(e,t,n){"use strict";n.d(t,{p:function(){return E}});var r=n(613993),i=n(231462),o=n(316649),a=n(810197),s=n(69345),l=n(87548),c=n(672697),u=n(669384),d=n(228535),f=n(775265),p=n(93708),h=n(729813),v=n(666396),m=n(455746),g=n(120012),_=n(644367),y=n(436462),S=n(744947);let b=[m.ContentType.Text,m.ContentType.Music,m.ContentType.Video,m.ContentType.Image,m.ContentType.File,m.ContentType.PluginSearchResult,m.ContentType.Composite,m.ContentType.Nested,m.ContentType.CopilotCard,m.ContentType.LyricsToSongMusic,m.ContentType.LyricsToSongLyric,m.ContentType.LyricsToSongsMusic,m.ContentType.PagesCard,m.ContentType.Outline,u.zc.SamanthaText,u.zc.SamanthaMusic,u.zc.SamanthaImageOutput,u.zc.SamanthaSearchCard,u.zc.SamanthaMusicGenOutput,u.zc.SamanthaSearchText,u.zc.SamanthaCodeAssistantInput,u.zc.SamanthaCodeAssistantOutput,u.zc.SamanthaVideoGenerationInput,u.zc.SamanthaVideoGenerationOutput,u.zc.SamanthaWriteArtifactOutput,u.zc.SamanthaWriteOutlineOutput,u.zc.SamanthaWritePagesCardOutput,u.zc.SamanthaBlockSuperTask,u.zc.SamanthaWritingGenerateInput],E=(0,i.Ue)()((0,r.XR)((e,t)=>({scene:void 0,isSelectMode:!1,messageIndexList:[],contentTypeWhiteListInitialized:!1,contentTypeWhiteList:b,preShareId:"",shareToken:"",preMessageIndexList:[],preShareType:g.yw.All,preShareVisibility:g.M7.Default,shareType:g.yw.All,shareActionPosition:"dropdown",shareTitle:"",extraInfo:{},setContentTypeWhiteList:t=>{e({contentTypeWhiteListInitialized:!0,contentTypeWhiteList:t})},enterSelectMode:async n=>{var r,i,o,a,s,l,c,u,d,f,v,m,_,y;let{scene:S,extraInfo:b={},data:E,justUpdateInfo:w}=n,{isSelectMode:C,scene:T}=t();if(C&&S===T&&!w)return;let x=await (0,p.TB)("chatMessageBoxLayoutStore");x.getState().updateSendMessageBoxConfig({containerDataAttr:"select-mode"}),x.getState().updateReceiveMessageBoxConfig({containerDataAttr:"select-mode"}),null===(r=x.getState().getLayoutSetter())||void 0===r||r.setLayoutAreaInVisible("bottom"),null===(i=x.getState().getLayoutSetter())||void 0===i||i.setLayoutAreaInVisible("top"),null===(o=x.getState().getLayoutSetter())||void 0===o||o.setLayoutAreaInVisible("right"),null===(a=x.getState().getLayoutSetter())||void 0===a||a.setLayoutAreaVisible("left"),e({extraInfo:b,scene:S,isSelectMode:!0,preShareId:(null==E?void 0:E.pre_share_id)||(null==E?void 0:null===(s=E.share_info)||void 0===s?void 0:s.share_id)||"",shareToken:null!==(m=null==E?void 0:E.share_token)&&void 0!==m?m:"",preMessageIndexList:(null==E?void 0:null===(l=E.share_info)||void 0===l?void 0:l.share_status)===2&&null!==(_=null==E?void 0:null===(c=E.share_info)||void 0===c?void 0:c.message_index_list)&&void 0!==_?_:[],preShareType:(null==E?void 0:null===(u=E.share_info)||void 0===u?void 0:u.share_type)||g.yw.All,preShareVisibility:null!==(y=null==E?void 0:null===(d=E.share_info)||void 0===d?void 0:d.share_visibility)&&void 0!==y?y:g.M7.Default,shareType:(null==E?void 0:null===(f=E.share_info)||void 0===f?void 0:f.share_type)||g.yw.All,shareTitle:null==E?void 0:null===(v=E.share_info)||void 0===v?void 0:v.share_name}),h.v.emit("chat.share.select",{scene:S,isSelectMode:!0})},exitSelectMode:async()=>{var n,r,i,o;if(!t().isSelectMode)return;let a=await (0,p.TB)("chatMessageBoxLayoutStore");a.getState().updateSendMessageBoxConfig({containerDataAttr:""}),a.getState().updateReceiveMessageBoxConfig({containerDataAttr:""}),null===(n=a.getState().getLayoutSetter())||void 0===n||n.setLayoutAreaVisible("bottom"),null===(r=a.getState().getLayoutSetter())||void 0===r||r.setLayoutAreaVisible("top"),null===(i=a.getState().getLayoutSetter())||void 0===i||i.setLayoutAreaInVisible("right"),null===(o=a.getState().getLayoutSetter())||void 0===o||o.setLayoutAreaInVisible("left"),e({scene:void 0,isSelectMode:!1,messageIndexList:[],preShareId:"",shareToken:"",preMessageIndexList:[],extraInfo:{}}),h.v.emit("chat.share.select",{scene:void 0,isSelectMode:!1})},toggleMessage:n=>{var r;let{conversationId:i,messageIndex:s,state:l}=n,{messageIndexList:c,getIsCheckboxDisabled:u,findMessageByIndex:d}=t(),f=c.includes(s),p=d({conversationId:i,state:l,messageIndex:s}),h=(0,S.sf)(l,i,null!==(r=null==p?void 0:p.message_id)&&void 0!==r?r:""),[m,...g]=h,_=s===m;if(f)return!_&&g.filter(e=>c.includes(e)).length>1?e({messageIndexList:(0,o.Z)(c,s)}):e({messageIndexList:(0,o.Z)(c,...h)}),t().messageIndexList;if(u({conversationId:i,messageIndex:s,state:l}))return t().messageIndexList;let y=h.filter(e=>!u({conversationId:i,messageIndex:e,state:l}));return c.length+y.length>v.zE?e({messageIndexList:[...c,s].sort((e,t)=>e-t)}):e({messageIndexList:(0,a.Z)([...c,...y]).sort((e,t)=>e-t)}),t().messageIndexList},selectAll:n=>{let{_getSelectAllIndexList:r}=t();return e({messageIndexList:r(n)}),t().messageIndexList},deselectAll:()=>{e({messageIndexList:[]})},findMessageByIndex:e=>{var t,n;let{conversationId:r,state:i,messageIndex:o}=e,a=i.messageMap[r],s=i.messageLinkMap[r];if(!a||!s)return;let l=Number(null===(t=a[null===(n=s[0])||void 0===n?void 0:n.messageId])||void 0===t?void 0:t.index),c=s[o-l];if(c){let e=(0,S.K9)(i,r,c);if((null==e?void 0:e.index)===o)return e}let u=Object.keys(a).find(e=>{var t;return Number(null===(t=a[e])||void 0===t?void 0:t.index)===o});if(u)return a[u]},_getSelectAllIndexList:e=>{var n,r,i,o,a,u;let{conversationId:d,state:f,lastMessageIndex:p}=e,{getIsCheckboxDisabled:h}=t(),v=f.messageMap[d],m=f.messageLinkMap[d];if(!v||!m)return[];let g=Number(null===(n=v[null===(r=m[0])||void 0===r?void 0:r.messageId])||void 0===n?void 0:n.index),_=Number(null===(i=v[null===(o=m[m.length-1])||void 0===o?void 0:o.messageId])||void 0===i?void 0:i.index);return _<m.length&&(_=null!==(u=(0,s.Z)(null===(a=(0,y.MF)(d))||void 0===a?void 0:a.map(e=>Number(e.index))))&&void 0!==u?u:m.length),(0,l.Z)(1,p+1).filter(e=>!(0,c.Z)(e,g,_+1)||!h({conversationId:d,messageIndex:e,state:f}))},getIsSelectAllChecked:e=>{let{messageIndexList:n,_getSelectAllIndexList:r}=t(),i=r(e);return n.length>0&&n.length>=i.length},getIsCheckboxDisabled:e=>{let{conversationId:n,state:r,messageIndex:i}=e,{messageIndexList:o,findMessageByIndex:a,_isMessageDisableSelect:s,contentTypeWhiteList:l}=t();if(o.includes(i))return!1;let c=a({state:r,messageIndex:i,conversationId:n}),u=s(c);if(u){var d;_.k.persist.info({eventName:"thread_share_checkbox_disabled",meta:{messageIndex:null==c?void 0:c.index,messageId:null==c?void 0:c.message_id,messageStatus:null==c?void 0:c.status,messageContentType:null==c?void 0:c.content_type,contentTypeWhiteList:l,isOnboarding:null==c?void 0:null===(d=c.ext)||void 0===d?void 0:d.onboarding,listLength:o.length}})}return u},_isMessageDisableSelect:e=>{var n;let{messageIndexList:r,contentTypeWhiteList:i,contentTypeWhiteListInitialized:o}=t();return o||_.k.persist.info({eventName:"thread_share_checkbox_disabled",meta:{whiteListInit:"0"}}),!!(!e||(0,d.N0s)(e)||(0,d.IEy)(e))||e.status===m.PushMessageStatus.InVisible||(null===(n=e.ext)||void 0===n?void 0:n.onboarding)==="1"||r.length>=v.zE||((0,f.T5)(e)?!(0,f.wG)(e):!(e.content_type&&i.includes(e.content_type)))},updateMessageIndexList:n=>{let{messageIndexList:r,_isMessageDisableSelect:i}=t(),o=[];for(let e of Object.values(n))-1!==r.indexOf(Number(e.index))&&i(e)&&o.push(Number(e.index));e({messageIndexList:r.filter(e=>!o.includes(e))})},setShareType:t=>{e({shareType:t})}})))},672212:function(e,t,n){"use strict";n.d(t,{l:function(){return l},z:function(){return c}});var r=n(444614),i=n(742470),o=n(84248),a=n(228535),s=n(806286);let l=e=>{var t,n,o,l,c,u;if(null==e?void 0:null===(t=e.content_blocks)||void 0===t?void 0:t.length){let t=e.content_blocks.find(e=>e.block_type===i.zc.BLOCK_ARTIFACT);if(!t)return;return{...null==t?void 0:t.content_obj,artifactId:null==t?void 0:null===(n=t.content_obj)||void 0===n?void 0:n.artifact_topic,artifactKey:null==t?void 0:null===(o=t.content_obj)||void 0===o?void 0:o.artifact_version_id,resourceId:null==t?void 0:null===(l=t.content_obj)||void 0===l?void 0:l.resource_id,resourceType:null==t?void 0:null===(c=t.content_obj)||void 0===c?void 0:c.resource_type,createTime:Number(null==e?void 0:e.create_time)>1e10?Math.floor(Number(null==e?void 0:e.create_time)/1e3):Number(null==e?void 0:e.create_time),isStreaming:!(null==e?void 0:e.is_finish)}}if(!(0,a.XD1)(e))return;let{artifact_meta:d,text:f=""}=null!==(u=e.content_obj)&&void 0!==u?u:{},{offset:p,title:h="",intention:v,identifier:m,meeting_minutes:g,artifact_id:_,artifact_key:y,create_time:S,resource_id:b,resource_type:E,resource_version:w}=null!=d?d:{},C=p&&!(0,r.Z)(null==p?void 0:p.start)?(0,s.K)(f,p.start):void 0,T=p&&!(0,r.Z)(null==p?void 0:p.end)?(0,s.K)(f,p.end):void 0;return{title:h,content:f.slice(C,T),isStreaming:!(null==p?void 0:p.end),offset:p&&{start:C,end:T},intention:v,identifier:m,artifactId:_,artifactKey:y,createTime:S,resourceId:b,resourceType:E,resourceVersion:w,meeting_minutes:g}},c=e=>{var t,n;if(!(0,a.cnd)(e))return;let r=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:null===(t=n.find(e=>e.block_type===i.zc.BLOCK_RESEARCH))||void 0===t?void 0:t.content_obj,{title:s,resource_id:l,artifact:c,status:u}=null!=r?r:{},{artifact_id:d,artifact_key:f,resource_id:p,resource_type:h}=null!=c?c:{};return{title:s,content:"",isStreaming:u===o.qb.PROCESSING,artifactId:d,artifactKey:f,resourceId:null!=p?p:l,resourceType:h}}},122992:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(429996),i=n(607278),o=n(17135);let a=e=>{let{extraEventParams:t}=e,n=(0,r.useRef)(),a=(0,i.Z)(t)?t():t,s=()=>{var e;return null!==(e=n.current)&&void 0!==e?e:{}},l=e=>n.current=e;return{trackShortcutsShow:()=>{(0,o.trackEvent)("output_preview_tool_show",{...a})},trackShortcutsClick:e=>{l(e),(0,o.trackEvent)("output_preview_tool_click",{...a,...s()})},trackShortcutsLoadingShow:()=>{(0,o.trackEvent)("start_writing_show",{...a})},trackShortcutsPauseWriting:()=>{(0,o.trackEvent)("pause_writing",{...a,...s()})},getShortCutsClickParams:s,setShortCutsClickParams:l,trackInputLoadingShow:()=>{(0,o.trackEvent)("start_writing_show",{...a})},trackInputPauseWriting:()=>{(0,o.trackEvent)("pause_writing",{...a,button_name_level_one:"chat_enter_bar"})}}}},306325:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(567336),i=n(93708),o=n(476697);function a(){let e=(0,i.sQ)("chatViewCanvasStore",e=>e.isExpand);return(0,o.i)(e=>{let{openedDocId:t,docMetaMap:n}=e;return t&&(0,r.Z)(n,t)&&!n[t].isEditRole})&&e}},959875:function(e,t,n){"use strict";n.d(t,{AA:function(){return i},EK:function(){return o},VL:function(){return r}});let r=-1,i=-1,o="write-artifact-preview"},787026:function(e,t,n){"use strict";n.r(t),n.d(t,{matcher:function(){return o}});var r=n(89311),i=n(830004);let o=e=>{let{chatCanvas:t}=e;return(0,r.X1)(null==t?void 0:t.type)?i.J:void 0}},600546:function(e,t,n){"use strict";n.r(t),n.d(t,{DocxRewriteCommandToolbarPlugin:function(){return eu}});var r,i,o=n(429996),a=n(344482),s=n(669160),l=n.n(s),c=n(357705),u=n(202856),d=n(879298),f=n(627394);let p=(0,o.forwardRef)(function(e,t){let{prefix:n,label:r,isActive:i,className:o,onClick:a,disabled:s,suffix:c,...u}=e;return(0,f.jsx)("div",{className:l()("command-button-V2XX0h",o,{"has-prefix-LSEHv9":!!n,"is-active-rHkPE9":i,"disabled-ChQg0P":s}),onClick:s?void 0:a,ref:t,...u,children:(0,f.jsxs)("div",{className:"content-iW6Cqr",children:[n,(0,f.jsx)("span",{"data-testid":"doc_rewrite_item_title",className:"label-owmDpU",children:r}),c]})})}),h=e=>{let{options:t,groupOption:n,className:r,onCommandExecution:i,disabled:a,onVisibleChange:s,...c}=e,[h,v]=(0,o.useState)(!1);(0,o.useEffect)(()=>{a&&v(!1)},[a]);let m=e=>{e!==h&&(v(e),null==s||s(e))},g=e=>{v(!1),i(e)},_=(0,o.useMemo)(()=>t.map(e=>({label:e.label,icon:e.icon,value:e.id,onClick:()=>g(e)})),[t]);return(0,f.jsx)(u.F,{"data-testid":"doc_chat_input_rewrite_toolbar_popover_select",contentClassName:l()("container-_7jEBp",r),className:"popover-select-wrapper-aayqbz",defaultValue:"",selectable:!1,scrollable:!1,wrapWhenSpecial:!1,visible:h,onVisibleChange:m,iconSize:"middler",newIcon:!0,options:_,spacing:4,position:"topLeft",trigger:"click",disabled:a,children:(0,o.createElement)(p,{...c,key:n.id,prefix:n.icon,label:n.label,onClick:()=>!a&&m(!h),disabled:a,suffix:(0,f.jsx)(d.Z,{className:l()({"suffix-et7A39":!0,"disabled-R5ZgU1":a,"active-mEGDcF":h})})})})};var v={"rewrite-command-toolbar":"rewrite-command-toolbar-Iv7DdW",menu:"menu-RG6RTt",button:"button-_gqDwT"},m=n(891853),g=n(353334),_=n(631433),y={out:"out-in",in:"in-out"},S=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},b=((r={})[y.out]=function(e){var t=e.current,n=e.changeState;return o.cloneElement(t,{in:!1,onExited:S(t,"onExited",function(){n(g.d0,null)})})},r[y.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,o.cloneElement(r,{in:!0,onEntered:S(r,"onEntered",function(){n(g.d0)})})]},r),E=((i={})[y.out]=function(e){var t=e.children,n=e.changeState;return o.cloneElement(t,{in:!0,onEntered:S(t,"onEntered",function(){n(g.cn,o.cloneElement(t,{in:!0}))})})},i[y.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[o.cloneElement(t,{in:!1,onExited:S(t,"onExited",function(){r(g.cn,o.cloneElement(n,{in:!0}))})}),o.cloneElement(n,{in:!0})]},i),w=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:g.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,m.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){var n,r;return null==e.children?{current:null}:t.status===g.d0&&e.mode===y.in?{status:g.d0}:t.current&&!((n=t.current)===(r=e.children)||o.isValidElement(n)&&o.isValidElement(r)&&null!=n.key&&n.key===r.key)?{status:g.Ix}:{current:o.cloneElement(e.children,{in:!0})}},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,a=i.status,s=i.current,l={children:n,current:s,changeState:this.changeState,status:a};switch(a){case g.d0:e=E[r](l);break;case g.Ix:e=b[r](l);break;case g.cn:e=s}return o.createElement(_.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(o.Component);w.propTypes={},w.defaultProps={mode:y.out},n(680611),n(895337);var C=n(170494),T={"command-trigger-button":"command-trigger-button-ofcc5r",commandTriggerButton:"command-trigger-button-ofcc5r","command-trigger-button__content":"command-trigger-button__content-YQiGz8",commandTriggerButtonContent:"command-trigger-button__content-YQiGz8","command-trigger-button__label":"command-trigger-button__label-Xu2ZMc",commandTriggerButtonLabel:"command-trigger-button__label-Xu2ZMc"};let x="command-trigger-button",k={Toolbar:e=>{let{options:t,className:n,onCommandExecution:r,disabled:i,onExposed:a}=e;return(0,o.useEffect)(()=>{null==a||a()},[]),(0,f.jsx)("section",{"data-testid":"doc_chat_input_rewrite_toolbar",className:l()(v["rewrite-command-toolbar"],n),children:(0,f.jsx)(c.l,{arrowSize:"medium",enableArrowBorder:!1,scrollStep:1,carouselRowClassName:v.menu,children:t.map(e=>{var t;return(null===(t=e.children)||void 0===t?void 0:t.length)?(0,f.jsx)(h,{"data-testid":"doc_chat_input_rewrite_toolbar_item","data-key":e.id,options:e.children,groupOption:e,onCommandExecution:r,disabled:i},e.id):(0,f.jsx)(p,{"data-testid":"doc_chat_input_rewrite_toolbar_item","data-key":e.id,className:v.button,prefix:e.icon,label:e.label,onClick:()=>r(e),disabled:i},e.id)})})})}};var O=n(821247),I=n(316965),Z=n(672212),M=n(530836),N=n(744947),A=n(475434),L=n(93708),R=n(432626),j=n(993047),W=n(551450),P=n(153882),D=n(502698),U=n(393863),$=n(275437),z=n(359453),F=n(134189),X=n(201388),B=n(476697),V=n(959875),G=n(444614),K=n(164303),H=n(156217),Q=n(15348),q=n(468494),J=n(729813),Y=n(636674),ee=n(122992);let et=e=>{let{conversationId:t,onRewrite:n,onAfterRewrite:r,extraEventParams:i}=e,o=(0,ee.f)({extraEventParams:i}),{sendMessage:a}=(0,H.GL)("chatMessageService"),s=()=>{var e;let t=null===(e=(0,L.GX)("chatViewCoreStore").currentChatViewConfig)||void 0===e?void 0:e.chatId;if(!t)return!0;let{chatNotReachLimitMap:n,guestReachSendMessageLimit:r}=q.useFeedStore.getState(),i=n[t];return(0,G.Z)(i)?r:!i};return{handleRewriteDocByTool:async e=>{let{text:i,artifact:l,docAction:c,docId:u}=e;if(s()){J.v.emit("chat.guest.login",{source:"canvas_editor_tool"}),(0,Q.D)("chatNavigateService").then(e=>null==e?void 0:e.navigateToLoginPage("canvas_editor_tool"));return}let d={skill_id:String(Y.SkillType.WriteAssistant),skill_type:Y.SkillType.WriteAssistant},{version:f}=l||{};l&&(0,K.Z)(d,{pre_version:{version:Number(f),reportParams:o.getShortCutsClickParams()}}),null==n||n(),await a([{text:i,reportParams:{scene:"canvas_tool_list",rewrite_command:c,canvas_type:"writing"},extraExt:{input_skill:JSON.stringify(d),answer_with_suggest:"0",doc_action:`${c}`},conversationId:t}]),await B.i.getState().resetDocArtifactCache(u),null==r||r()}}};var en=n(306325),er=n(886421),ei=n(689337),eo=n(17135);let ea=e=>{let{docId:t,chatId:n}=e;(0,eo.trackEvent)("start_writing_show",{skill_id:String(Y.SkillType.WriteAssistant),skill_name:(0,ei.Nu)(Y.SkillType.WriteAssistant),conversation_id:n,bot_id:(0,er.SR)(n,!0),artifact_type:1,page_token:t,layout_type:"side_panel",canvas_type:"writing"})},es=e=>{let{docId:t,chatId:n,messageId:r,levelOne:i,levelTwo:o}=e;(0,eo.trackEvent)("start_writing_click",{skill_id:String(Y.SkillType.WriteAssistant),skill_name:(0,ei.Nu)(Y.SkillType.WriteAssistant),conversation_id:n,bot_id:(0,er.SR)(n,!0),artifact_type:1,page_token:t,message_id:r,layout_type:"side_panel",canvas_type:"writing",button_name_level_one:i,button_name_level_two:o})};var el={};let ec=e=>{let{chatId:t=""}=e,n=O.p.useIsNewDoc(),{messageId:r,artifactKey:i,type:s}=(0,L.sQ)("chatViewCanvasStore",e=>{var t,n,r;return{messageId:e.messageId,artifactId:null===(t=e.canvasContent)||void 0===t?void 0:t.artifactId,artifactKey:null===(n=e.canvasContent)||void 0===n?void 0:n.artifactKey,type:null===(r=e.canvasContent)||void 0===r?void 0:r.type}}),l=(0,en.M)(),c=(0,M.useMessageStore)(e=>{var n;let i=null!==(n=e.messageMap[t])&&void 0!==n?n:{};if(r){let e=i[r],t=(0,Z.l)(e);return null==t?void 0:t.resourceId}}),{docId:u,isLegacy:d}=(0,B.i)(e=>{let{legacyDocIdMapping:t}=e;if(c){let e=t[c];return{isLegacy:!!e,docId:e||c}}return{isLegacy:!1,docId:c}},a.X),[p,h]=(0,o.useState)(!1),[v,m]=(0,o.useState)(void 0),g=async()=>{var e;if(!u||!n||27!==u.length){h(!1);return}let{fetchDocArtifactMeta:t}=B.i.getState(),r=await (0,j.C5)(async()=>{let e=await t({docId:u,cache:!1});if(!e.version_list)throw Error("artifactMeta.version_list is empty");return e},5,500);await t({docId:u,cache:!1});let o=null!==(e=r.version_list)&&void 0!==e?e:[],a=o.find(e=>e.resource_version===V.VL),l=s===X.$.StepWritingOtterPage||d?a:o.find(e=>e.id===i);m(l),h(!!(a&&l&&a.id===l.id))};(0,o.useEffect)(()=>{u&&g()},[u,i,n]);let _=(0,M.useMessageStore)(e=>!!(0,N.Sv)(e,null!=t?t:"")),y=(0,o.useRef)(!1),{handleRewriteDocByTool:S}=et({conversationId:t}),{isSelectMode:b}=(0,A.p)(e=>({isSelectMode:e.isSelectMode}),a.X);return!n||l?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:el["docx-rewrite-toolbar"],children:p&&!b&&(0,f.jsx)(k.Toolbar,{options:[{id:"1",icon:(0,f.jsx)(P.Z,{}),label:(0,R.X9)("doc_copilot_option_tone"),children:[{id:"1-1",label:(0,R.X9)("doc_copilot_option_tone_professional"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_professional")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_PROFESSIONAL,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_professional")}},{id:"1-2",label:(0,R.X9)("doc_copilot_option_tone_academic"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_academic")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_ACADEMIC,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_academic")}},{id:"1-3",label:(0,R.X9)("doc_copilot_option_tone_formal"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_formal")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_FORMAL,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_formal")}},{id:"1-4",label:(0,R.X9)("doc_copilot_option_tone_casual"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_casual")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_EASY,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_casual")}},{id:"1-5",label:(0,R.X9)("doc_copilot_option_tone_literary"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_literary")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_LITERARY,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_literary")}},{id:"1-6",label:(0,R.X9)("doc_copilot_option_tone_internet"),msgContent:(0,R.X9)("doc_chat_prompt_changeTone",{s_toneOption:(0,R.X9)("doc_copilot_option_tone_internet")}),actionType:I.Us.TONE_ADJUSTMENT_MORE_NET_SENSE,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_tone"),levelTwo:(0,R.X9)("doc_copilot_option_tone_internet")}}]},{id:"2",icon:(0,f.jsx)(D.Z,{}),label:(0,R.X9)("doc_copilot_option_length"),children:[{id:"2-1",icon:(0,f.jsx)(U.Z,{}),label:(0,R.X9)("doc_copilot_option_length_veryShort"),msgContent:(0,R.X9)("doc_chat_prompt_adjustLength",{s_lengthOption:(0,R.X9)("doc_copilot_option_length_veryShort")}),actionType:I.Us.LENGTH_ADJUSTMENT_VERY_SHORT,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_length"),levelTwo:(0,R.X9)("doc_copilot_option_length_veryShort")}},{id:"2-2",icon:(0,f.jsx)($.Z,{}),label:(0,R.X9)("doc_copilot_option_length_short"),msgContent:(0,R.X9)("doc_chat_prompt_adjustLength",{s_lengthOption:(0,R.X9)("doc_copilot_option_length_short")}),actionType:I.Us.LENGTH_ADJUSTMENT_SHORT,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_length"),levelTwo:(0,R.X9)("doc_copilot_option_length_short")}},{id:"2-3",icon:(0,f.jsx)($.Z,{}),label:(0,R.X9)("doc_copilot_option_length_long"),msgContent:(0,R.X9)("doc_chat_prompt_adjustLength",{s_lengthOption:(0,R.X9)("doc_copilot_option_length_long")}),actionType:I.Us.LENGTH_ADJUSTMENT_LONG,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_length"),levelTwo:(0,R.X9)("doc_copilot_option_length_long")}},{id:"2-4",icon:(0,f.jsx)(D.Z,{}),label:(0,R.X9)("doc_copilot_option_length_veryLong"),msgContent:(0,R.X9)("doc_chat_prompt_adjustLength",{s_lengthOption:(0,R.X9)("doc_copilot_option_length_veryLong")}),actionType:I.Us.LENGTH_ADJUSTMENT_VERY_LONG,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_length"),levelTwo:(0,R.X9)("doc_copilot_option_length_veryLong")}}]},{id:"3",icon:(0,f.jsx)(z.Z,{}),label:(0,R.X9)("doc_copilot_option_polish"),msgContent:(0,R.X9)("doc_copilot_option_polish"),actionType:I.Us.FULL_TEXT_POLISH,trackParams:{levelOne:(0,R.X9)("doc_copilot_option_polish")}}],onCommandExecution:async e=>{if(y.current||!e.actionType||!u){W.pJ.warning((0,R.X9)("doc_toast_requestFail_refresh"));return}y.current=!0,await S({text:e.msgContent||e.label,docAction:e.actionType,artifact:v?(0,F.ri)(v):void 0,docId:u}),y.current=!1,es({docId:null!=u?u:"",chatId:t,messageId:null!=r?r:"",...e.trackParams||{levelOne:e.label}})},disabled:_,onExposed:()=>{ea({docId:null!=u?u:"",chatId:t})}})})})};class eu{constructor(){var e,t;(e="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="Content","string"))?t:t+"")in this?Object.defineProperty(this,e,{value:ec,enumerable:!0,configurable:!0,writable:!0}):this[e]=ec}}},476697:function(e,t,n){"use strict";n.d(t,{z:function(){return z},i:function(){return $}});var r=n(613993),i=n(231462),o=n(136389),a=n(869024),s=n(474227),l=n(683653),c=n(561200),u=n(120791),d=n(51679),f=n(636674),p=n(644367);let h=()=>({writingEditorValue:{data:[]},sendDisabled:!1,isWriteConfigInitd:!1,isWriteConfigLoading:!1,writeConfig:{},keepValueOnClear:!1,recentDocs:[],docAISpaceNodeId:null,docPageChatLayoutMode:u.y.Avatar}),v=(e,t)=>(0,o.Z)(h(),{updateWritingEditorValue:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{keepOnClear:i=!1}=r,{writingEditorValue:o}=t();!(0,s.Z)(o,n)&&e((0,c.Uy)(e=>{e.writingEditorValue=n,e.keepValueOnClear=i}))},clearWritingEditorValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{skipOnceWhenKeep:n=!1}=t;e((0,c.Uy)(e=>{if(n&&e.keepValueOnClear){e.keepValueOnClear=!1;return}e.writingEditorValue={data:[]}}))},updateSendDisabledState:t=>{e((0,c.Uy)(e=>{e.sendDisabled=t}))},fetchWriteConfig:async()=>{if(!t().isWriteConfigLoading&&!t().isWriteConfigInitd)try{e((0,c.Uy)(e=>{e.isWriteConfigLoading=!0,e.isWriteConfigInitd=!1}));let{data:t}=await d.mH.SkillPack({skill_type:f.SkillType.WriteAssistant,condition:{}});e((0,c.Uy)(e=>{(null==t?void 0:t.write)?(e.isWriteConfigLoading=!1,e.isWriteConfigInitd=!0,e.writeConfig=t.write):e.isWriteConfigLoading=!1}))}catch(e){p.k.persist.warning({eventName:"init_write_config_error"})}},refreshRecentDocs:async()=>{try{let{data:t}=await d.mH.AISpacePagesSearch({limit:10}),{nodes:n}=null!=t?t:{};e({recentDocs:null!=n?n:[]})}catch(e){p.k.persist.warning({eventName:"refresh_recent_docs_error",error:e})}},getDocAISpaceNodeId:async()=>{let{docAISpaceNodeId:n}=t();if(n)return n;let{data:r}=await d.mH.AISpaceGetSystemDirectory(),{documents_node_id:i}=null!=r?r:{};if(!i)throw Error("Fail to get doc system directory");return e({docAISpaceNodeId:i}),i},updateDocPageChatLayoutMode:t=>{e({docPageChatLayoutMode:t})},closeCopilotChat:()=>{let{docPageChatLayoutMode:e,updateDocPageChatLayoutMode:n}=t();(0,l.Z)([u.y.Sidebar,u.y.Popover],e)&&n(u.y.Avatar)},showCopilotChat:()=>{let{docPageChatLayoutMode:e,updateDocPageChatLayoutMode:n}=t();(0,l.Z)([u.y.Avatar],e)&&n(u.y.Popover)}});var m=n(735393),g=n(93708),_=n(993047),y=n(453093),S=n(847758);let b=async e=>{var t;let{conversationId:n,artifactId:r}=e,{data:i}=await d.mH.SearchArtifact({conversation_id:n,artifact_id:r}),o=null!==(t=null==i?void 0:i.artifacts)&&void 0!==t?t:[];return(0,y.Z)(o,e=>e.version)},E=async e=>{let{docId:t,needHistories:n=!1}=e;try{let{data:e={}}=await d.Mz.AGWGetArtifactMetaByResource({resource_id:t,artifact_type:S.ArtifactType.Page,need_current_version:!0,need_histories:n}),{artifact_meta:r}=e;if(!r)throw Error("Artifact meta is empty");return r}catch(e){throw p.k.persist.error({message:"get_artifact_union_meta_by_doc_id_error",error:e}),e}};var w=n(520280);let C=()=>({artifactMap:{},blockArtifactMap:{},blockArtifactIdToConvId:{},docArtifactMetaMap:{},openedArtifactKey:null}),T=(e,t)=>(0,o.Z)(C(),{fetchArtifactList:async t=>{let{conversationId:n,artifactId:r,hasAbort:i,ifRetry:o}=t;try{let t=await (0,_.aG)({value:()=>b({conversationId:n,artifactId:r}),ifRetry:e=>!e.length||!!(null==o?void 0:o(e)),count:5});if(i)return;return e((0,c.Uy)(e=>{let{artifactMap:i}=e;i[n]||(i[n]={}),i[n][r]=t})),t}catch(e){throw p.k.persist.error({eventName:"search_artifact_error",error:e}),e}},async refreshArtifactList(){let{conversationId:e,canvasContent:n}=(0,g.GX)("chatViewCanvasStore"),r=null==n?void 0:n.artifactId;if(e&&r)return t().fetchArtifactList({conversationId:e,artifactId:r})},loadMobileArtifactList:async t=>{let{resourceId:n,blockId:r}=t;try{var i;let t=await d.mH.GetDeepResearchResource({resource_id:n}),{blocks:o=[]}=null!==(i=null==t?void 0:t.data)&&void 0!==i?i:{},a=(0,m.Hb)(o);e((0,c.Uy)(e=>{let{blockArtifactMap:t}=e;t||(t={}),t[r]={status:w.M.Succeed,data:a}}))}catch(e){throw p.k.persist.error({eventName:"deep_research_resource_error",error:e}),e}},updateBlockArtifact:t=>{let{type:n,blockId:r,value:i}=t;e((0,c.Uy)(e=>{let{blockArtifactMap:t}=e;t||(t={}),n===w.P.Status?t[r]={...t[r],status:i}:t[r]={...t[r],data:i}}))},updateBlockArtifactIdToConvId:t=>{let{blockId:n,convId:r,status:i}=t;e((0,c.Uy)(e=>{let{blockArtifactIdToConvId:t,blockArtifactMap:o}=e;t[n]||(t[n]={}),t[n]={convId:r,status:i};let a=null!=t?t:{};Object.keys(null!=o?o:{}).forEach(e=>{var t,n;(!a[e]||(null===(t=a[e])||void 0===t?void 0:t.convId)!==r&&(null===(n=a[e])||void 0===n?void 0:n.status))&&delete o[e]})}))},fetchDocArtifactMeta(n){let{docId:r,cache:i=!0}=n,{docArtifactMetaMap:o}=t(),a=o[r];if(a&&i)return Promise.resolve(a);let s=(0,_.aG)({value:()=>E({docId:r,needHistories:!0}),count:3,ifRetry:e=>{var t;return!(null===(t=e.version_list)||void 0===t?void 0:t.length)}}).then(t=>(e((0,c.Uy)(e=>{let{docArtifactMetaMap:n}=e;r in n||(n[r]={}),n[r]=t})),t)).catch(t=>{throw e((0,c.Uy)(e=>{let{docArtifactMetaMap:t}=e;delete t[r]})),t});return e((0,c.Uy)(e=>{let{docArtifactMetaMap:t}=e;r in t||(t[r]={}),t[r]=s})),s},resetDocArtifactCache(t){e((0,c.Uy)(e=>{let{docArtifactMetaMap:n}=e;delete n[t]}))},setOpenedArtifactKey(t){e((0,c.Uy)(e=>{e.openedArtifactKey=t}))}});var x=n(598117);let k=()=>({...x.O,isListLoading:!1,uploadFiles:[],fileStatusMap:{},snapshotUploadFiles:[]}),O=(e,t,n)=>{let r=(0,x.L)(e,t,n);return(0,o.Z)(k(),{...r,clearUploadFiles:()=>{e({uploadFiles:[]})},appendUploadFiles:t=>{e((0,c.Uy)(e=>{e.uploadFiles=[...e.uploadFiles,...t],e.snapshotUploadFiles=t}))},deleteUploadFileWithKey:t=>{e((0,c.Uy)(e=>{let n=e.uploadFiles.filter(e=>e.localKey!==t);e.uploadFiles=n}))},updateUploadFileInfoWithKey:(t,n)=>{e((0,c.Uy)(e=>{let r=e.uploadFiles.findIndex(e=>e.localKey===t);if(-1!==r){let t=e.uploadFiles[r];e.uploadFiles[r]={...t,...n}}}))}})},I=()=>({referenceAndQuoteMap:{}}),Z=e=>(0,o.Z)(I(),{updateReferenceQuoteList(t,n,r){e((0,c.Uy)(e=>{e.referenceAndQuoteMap[t]=e.referenceAndQuoteMap[t]||{},e.referenceAndQuoteMap[t][n]=e.referenceAndQuoteMap[t][n]||{},(null==r?void 0:r.length)&&(e.referenceAndQuoteMap[t][n].referenceQuoteList=r)}))},updateReferenceList(t,n,r){e((0,c.Uy)(e=>{e.referenceAndQuoteMap[t]=e.referenceAndQuoteMap[t]||{},e.referenceAndQuoteMap[t][n]=e.referenceAndQuoteMap[t][n]||{},(null==r?void 0:r.length)&&(e.referenceAndQuoteMap[t][n].referenceList=r)}))},clearReferenceListAndQuote(t,n){e((0,c.Uy)(e=>{var r,i,o,a;(null===(i=e.referenceAndQuoteMap[t])||void 0===i?void 0:null===(r=i[n])||void 0===r?void 0:r.referenceList)&&(e.referenceAndQuoteMap[t][n].referenceList=[]),(null===(a=e.referenceAndQuoteMap[t])||void 0===a?void 0:null===(o=a[n])||void 0===o?void 0:o.referenceList)&&(e.referenceAndQuoteMap[t][n].referenceQuoteList=[])}))},updateReferenceAndQuote(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e((0,c.Uy)(e=>{e.referenceAndQuoteMap[t]=e.referenceAndQuoteMap[t]||{},e.referenceAndQuoteMap[t][n]=e.referenceAndQuoteMap[t][n]||{},(null==i?void 0:i.length)&&(e.referenceAndQuoteMap[t][n].referenceQuoteList=i),(null==r?void 0:r.length)&&(e.referenceAndQuoteMap[t][n].referenceList=r)}))}}),M=()=>{let e=window.innerWidth,t=e-400;return{rightPartWidth:t,rightPartWidthRatio:t/e,showySectionInView:!0}},N=e=>(0,o.Z)(M(),{updateRightPartWidth:t=>{e(()=>({rightPartWidth:t,rightPartDisplayWidth:t}))},updateShowySectionInView:t=>{e(()=>({showySectionInView:t}))}}),A=()=>({selectionMap:{}}),L=(e,t)=>(0,o.Z)(A(),{addSelection:t=>{let{chatId:n,version:r,selectedContent:i,referenceContent:o,skillType:a,docAction:s,docCursorType:l}=t;e((0,c.Uy)(e=>{e.selectionMap[n]={chatId:n,version:r,selectedContent:i,referenceContent:o,skillType:a,docAction:s,docCursorType:l,timestamp:Date.now()}}))},getSelection:e=>{let{selectionMap:n}=t();return n[e]},removeSelection:t=>{e((0,c.Uy)(e=>{delete e.selectionMap[t]}))},clearAllSelections:()=>{e((0,c.Uy)(e=>{e.selectionMap={}}))}});var R=n(627426);let j=()=>({legacyDocIdMapping:{},openedDocId:null,docMetaMap:{}}),W=e=>(0,o.Z)(j(),{setLegacyDocIdMapping:(t,n)=>{e((0,c.Uy)(e=>{let{legacyDocIdMapping:r}=e;r[t]=n}))},setOpenedDocId:t=>{e((0,c.Uy)(e=>{e.openedDocId=t}))},updateDocMetaMap:(t,n)=>{e((0,c.Uy)(e=>{var r;e.docMetaMap[t]=(0,R.Z)({},n,null!==(r=e.docMetaMap[t])&&void 0!==r?r:{})}))}}),P=e=>{try{return{blockArtifactMap:e.blockArtifactMap}}catch(e){return p.k.persist.error({message:"[@write-skill-store] persist state limit error",error:e instanceof Error?e:Error(String(e))}),{}}},D=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.Z)(v(...t),T(...t),O(...t),Z(...t),N(...t),L(...t),W(...t))},U=e=>{let{isEnableDebug:t,reduxDevToolsSnapshot:n,merge:o,partialize:s,storage:l}=e,c=(0,a.C1)({name:"writing-skill-store",prefix:"samantha-web",storage:l,partialize:null!=s?s:P,version:1.5,merge:o}),u=(0,r.tJ)((0,r.XR)(D),c);return t&&n?(0,i.Ue)()((0,r.mW)(u,{name:"samantha-web-writing-skill-store"})):(0,i.Ue)()(u)},$=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let{_useWriteStore:r}=$.prototype;if(r)return r(...t);throw Error("useWriteStore is not initialized")};function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{_useWriteStore:t}=$.prototype||{};if(!t){let t=U({...e});Object.setPrototypeOf($.prototype,t),Object.defineProperties($,{...Object.getOwnPropertyDescriptors(t)}),$.prototype._useWriteStore=t}}},520280:function(e,t,n){"use strict";var r,i;n.d(t,{M:function(){return o},P:function(){return a}});let o=((r={}).Processing="processing",r.Succeed="succeed",r.Failed="failed",r.Broken="broken",r),a=((i={}).Status="status",i.Artifact="artifact",i)},201388:function(e,t,n){"use strict";n.d(t,{$:function(){return i},P:function(){return o}});var r=n(847758);let{ArtifactResourceType:i}=n(273716),{ArtifactResourceType:o}=r},134189:function(e,t,n){"use strict";n.d(t,{f0:function(){return I},lf:function(){return x},ri:function(){return N},Nz:function(){return b},Yz:function(){return k},DU:function(){return O},Ki:function(){return Z},q4:function(){return A},GH:function(){return y},B0:function(){return M},Ij:function(){return E}});var r=n(260325),i=n(627596),o=n(348344),a=n(957641),s=n(508360),l=n(392256),c=n(683653),u=n(36601),d=n(228535),f=n(672212),p=n(530836),h=n(744947),v=n(631150),m=n(633604),g=n(201388),_=n(959875);let y=e=>{let{conversationId:t,artifactKey:n}=e,r=(0,u.Q6)({conversationId:t,artifactKey:n});return(0,f.l)(r)},S=e=>{var t;let{conversationId:n,artifactId:i}=e,o=p.useMessageStore.getState(),a=o.messageLinkMap[n],s=null===(t=(0,r.Z)(a,e=>{var t,r,a,s;let l=(0,h.K9)(o,n,e);if((0,d.cnd)(l)){let{artifactId:e}=null!==(r=(0,f.z)(l))&&void 0!==r?r:{};return i===e}if(!l||!(0,d.z_e)(l)||!(0,d.XD1)(l))return!1;if((0,d.BUc)(l)){let{artifactId:e}=null!==(a=(0,f.l)(l))&&void 0!==a?a:{};return i===e}let{artifact_id:c,offset:u}=null!==(s=null===(t=l.content_obj)||void 0===t?void 0:t.artifact_meta)&&void 0!==s?s:{};return i===c&&!!u}))||void 0===t?void 0:t.messageId;if(!s)return;let l=(0,m.f)({conversationId:n,messageId:s});if(!(null==l?void 0:l.length))return s;let c=null==l?void 0:l.find(e=>(0,d.z_e)(e));return null==c?void 0:c.message_id},b=(e,t,n)=>!!n&&!!t&&S({conversationId:e,artifactId:n})===t,E=(e,t)=>{var n;let r=p.useMessageStore.getState(),i=(null!==(n=r.messageLinkMap[e])&&void 0!==n?n:[]).find(t=>{let n=(0,h.K9)(r,e,t);return n&&(0,d.z_e)(n)&&(0,d.XD1)(n)});return(null==i?void 0:i.messageId)===t},w=e=>{var t,n;let i=(0,r.Z)(e,e=>!!(0,d.cnd)(e)),o=(0,r.Z)(e,e=>!!(0,f.l)(e));return i?null===(n=(0,f.z)(o))||void 0===n?void 0:n.artifactKey:null===(t=(0,f.l)(o))||void 0===t?void 0:t.artifactKey},C=e=>{var t;let n=null==e?void 0:e.find(e=>!!(0,f.l)(e));return null===(t=(0,f.l)(n))||void 0===t?void 0:t.artifactKey},T=(e,t)=>!!(0,u.Q6)({conversationId:e,artifactKey:t}),x=e=>{let{conversationId:t,artifacts:n,artifactKey:r}=e,l=(0,u.Q6)({conversationId:t,artifactKey:r}),c=n.find(e=>e.artifact_key===r),p=null==c?void 0:c.artifact_id,h=(0,i.Z)(n,e=>e.version,"desc").filter(e=>!p||e.artifact_id===p),g=e=>{var r;let i=(r=t=>t.artifact_key!==e,h&&h.length?(0,a.Z)(h,(0,o.Z)(r,3),!1,!0):[]),s=(0,v.Do)(i,e=>{var r,i;return null!==(i=x({conversationId:t,artifacts:n,artifactKey:null!==(r=e.artifact_key)&&void 0!==r?r:""}))&&void 0!==i&&i});return s?s[1]:null};if(l){var _,y,S;let{message_id:e=""}=l,n=(0,m.f)({conversationId:t,messageId:e}),i=null!==(y=w(n))&&void 0!==y?y:r,o=null===(_=(0,s.Z)(h,e=>e.artifact_key!==i).find(e=>{var n;return!T(t,null!==(n=e.artifact_key)&&void 0!==n?n:"")}))||void 0===_?void 0:_.artifact_key,a=b(t,null==l?void 0:l.message_id,p),c=null==n?void 0:n.find(e=>(0,d.z_e)(e));if(!(null==n?void 0:n.length))return(0,d.z_e)(l)?{messageId:e,artifactKey:a&&o?o:r}:g(r);if(!c)return g(null!==(S=C(n))&&void 0!==S?S:r);let u=(0,f.l)(c)||(0,f.z)(c);if(u){let{artifactKey:e=""}=u,{message_id:t=""}=c;return{messageId:t,artifactKey:a&&o?o:e}}return null}if(!c)return null;let E=g(r);if(E){let{messageId:e}=E;return{artifactKey:r,messageId:e}}return null},k=e=>{let{conversationId:t,artifacts:n,artifactId:r,messageId:i}=e,o=p.useMessageStore.getState();for(let e of(0,l.Z)(n.slice())){var a,s,c,u,d,f;if(e.artifact_id!==r)continue;let n=(0,h.PT)(o,t,null!==(a=e.question_message_id)&&void 0!==a?a:"");if(!n)continue;if(!i)return{artifactKey:null!==(s=e.artifact_key)&&void 0!==s?s:"",messageId:null!==(c=n.message_id)&&void 0!==c?c:""};let l=(0,m.f)({conversationId:t,messageId:null!==(u=n.message_id)&&void 0!==u?u:""}),p=((null==l?void 0:l.length)?l:[n]).find(e=>e.message_id===i);if(p)return{artifactKey:null!==(d=e.artifact_key)&&void 0!==d?d:"",messageId:null!==(f=p.message_id)&&void 0!==f?f:""}}return null},O=e=>{let{conversationId:t,artifacts:n,onlyLegacyDoc:r=!1}=e;return n.filter(e=>{let{resource_type:n,artifact_key:i}=e;if(!(0,c.Z)([g.$.Pages,g.$.WriteDoc],n))return!r;let o=(0,u.Q6)({conversationId:t,artifactKey:null!=i?i:""});if(!o)return!0;let{message_id:a=""}=o,s=(0,m.f)({conversationId:t,messageId:a});if(!(null==s?void 0:s.length))return(0,d.z_e)(o);let l=null==s?void 0:s.find(e=>(0,d.z_e)(e)),p=(0,f.l)(l);return!!l&&!!p&&p.artifactKey===i})},I=e=>{var t;let n=(0,f.l)(e);return!!n&&(null===(t=n.artifactId)||void 0===t?void 0:t.startsWith("human-created"))},Z=e=>{let t=(0,f.l)(e);return null!=t&&!!t.artifactId&&(t.artifactId.startsWith("human-edit")||t.artifactId.startsWith("human-created"))},M=e=>{var t;let{conversationId:n,artifactKey:r}=e;if(!r)return!1;let i=p.useMessageStore.getState(),{messageLinkMap:o}=i;return C((null!==(t=o[n])&&void 0!==t?t:[]).map(e=>(0,h.K9)(i,n,e)).filter(e=>!!e))===r},N=e=>{let{id:t,source_id:n,topic:r,title:i,version:o,status:a,resource_type:s,resource_id:l,resource_version:c,create_time:u}=e;return{conversation_id:n,artifact_id:r,title:i,version:o,status:a,resource_type:s,resource_id:l,resource_version:(0,v.sT)(c),create_time:u,artifact_key:t,id:t}},A=e=>{var t;let{version_list:n=[]}=null!=e?e:{};return null!==(t=n.find(e=>e.resource_version===_.VL))&&void 0!==t?t:{}}},633604:function(e,t,n){"use strict";n.d(t,{F:function(){return h},f:function(){return p}});var r=n(118200),i=n(342617),o=n(713273),a=n(210230),s=n(742470),l=n(148824),c=n(228535),u=n(530836),d=n(744947),f=n(63746);let p=e=>{var t,n;let{conversationId:r,messageId:i}=e,o=u.useMessageStore.getState(),{reply_id:a}=null!==(t=(0,d.PJ)(o,r,i))&&void 0!==t?t:{};if(!a)return;let s=(0,f.Wi)({messageMap:o.messageMap[r],localMessageMap:o.localMessageMap[r]});return(null!==(n=o.messageLinkMap[r])&&void 0!==n?n:[]).filter(e=>{var t;return(null===(t=s(e))||void 0===t?void 0:t.reply_id)===a&&(0,l.bf)(s(e))}).map(e=>(0,d.K9)(o,r,e)).filter(e=>!!e)},h=e=>{var t,n,l,u;let d,{message:f}=e;if(!f)return;(0,c.zL_)(f)&&(d=null==f?void 0:null===(l=f.content_blocks)||void 0===l?void 0:null===(n=l.find(e=>e.block_type===s.zc.BLOCK_SEARCH_QUERY_RESULT))||void 0===n?void 0:null===(t=n.content_obj)||void 0===t?void 0:t.results);let p=(0,r.Z)(f,"content_obj.search_card.search_references"),h=(0,r.Z)(f,"content_obj.search_references"),v=null!==(u=null!=d?d:p)&&void 0!==u?u:h;if(v){let e=(0,i.Z)(v,e=>e.text_card);return(0,o.Z)(e,e=>!(0,a.Z)(e))}}},598117:function(e,t,n){"use strict";n.d(t,{L:function(){return a},O:function(){return o}});var r=n(561200),i=n(57005);let o={rootId:"0",systemNodeIds:[],nodeListMap:{},nodeListStatusMap:{},nodeInfoMap:{},currentPathStack:[],selectedNodeIds:[],selectedNodes:[],disbaleNodeInfoMap:{},mediaTransformStatus:{},sortStatus:{sortOrder:i.cj.Desc,sortType:i.$Q.Default},sortConfig:{}},a=e=>({...o,updateRootId:t=>{e(()=>({rootId:t}))},updateSystemNodeIds:t=>{e(()=>({systemNodeIds:t}))},setNodeListMap:(t,n)=>{e((0,r.Uy)(e=>{e.nodeListMap[t]=n}))},deleteNodeListMap:t=>{e((0,r.Uy)(e=>{delete e.nodeListMap[t]}))},clearNodeListMap:()=>{e(()=>({nodeListMap:{}}))},setNodeListStatusMap:(t,n)=>{e((0,r.Uy)(e=>{e.nodeListStatusMap[t]=n}))},deleteNodeListStatusMap:t=>{e((0,r.Uy)(e=>{delete e.nodeListStatusMap[t]}))},clearNodeListStatusMap:()=>{e(()=>({nodeListStatusMap:{}}))},setNodeInfoMap:(t,n)=>{e((0,r.Uy)(e=>{e.nodeInfoMap[t]=n}))},deleteNodeInfoMap:t=>{e((0,r.Uy)(e=>{delete e.nodeInfoMap[t]}))},clearNodeInfoMap:()=>{e(()=>({nodeInfoMap:{}}))},pushCurrentPathStack:t=>{e((0,r.Uy)(e=>{e.currentPathStack.push(t)}))},popCurrentPathStack:()=>{let t;return e((0,r.Uy)(e=>{t=e.currentPathStack.pop()})),t},updateCurrentPathStack:t=>{e((0,r.Uy)(e=>{e.currentPathStack=t}))},updateSelectedNodeIds:t=>{e((0,r.Uy)(e=>{e.selectedNodeIds=t;let n=[];t.forEach(t=>{let r=e.nodeInfoMap[t];r&&n.push(r)}),e.selectedNodes=n}))},deleteNodes:(t,n)=>{e((0,r.Uy)(e=>{let r=e.nodeListMap[t],i=null==r?void 0:r.filter(e=>!n.includes(e));e.nodeListMap[t]=i,n.forEach(t=>{delete e.nodeInfoMap[t]})}))},renameNode:(t,n)=>{e((0,r.Uy)(e=>{let r=e.nodeInfoMap[t];r&&(r.name=n,r.updateTime=String(new Date().getTime()))}))},updateGuestCanCreateThread:t=>{e((0,r.Uy)(e=>{e.guestCanCreateThread=t}))},updateGuestCanSendMessage:t=>{e((0,r.Uy)(e=>{e.guestCanSendMessage=t}))},disableNode:t=>{e((0,r.Uy)(e=>{(Array.isArray(t)?t:[t]).forEach(t=>{e.disbaleNodeInfoMap[t]=!0})}))},batchUpdateMediaTransformStatus:t=>{(null==t?void 0:t.length)&&e((0,r.Uy)(e=>{e.mediaTransformStatus={...e.mediaTransformStatus},t.forEach(t=>{e.mediaTransformStatus[t.nodeId]=t.status})}))},batchUpdateNodeAISkillStatus:t=>{(null==t?void 0:t.length)&&e((0,r.Uy)(e=>{t.forEach(t=>{let n=e.nodeInfoMap[t.nodeId];n&&(e.nodeInfoMap[t.nodeId]={...n,content:{...n.content,aiSkillStatus:t.aiSkillStatus}})})}))},clearAllNodeList:()=>{e(()=>({nodeListMap:{}}))}})},84673:function(e,t,n){"use strict";n.d(t,{l4:function(){return g},Lx:function(){return w},Vx:function(){return y},jg:function(){return C},J8:function(){return m},TH:function(){return _},qr:function(){return S},Wf:function(){return h}});var r,i=n(444614),o=n(51679);let a=((r={})[r.Unknown=0]="Unknown",r[r.Markdown=1]="Markdown",r[r.ClientVars=2]="ClientVars",r[r.Xml=3]="Xml",r);var s=n(993047),l=n(644367),c=n(89311),u=n(735393),d=n(120791),f=n(821247),p=n(972836);let h=async e=>{let{docId:t,conversationId:n,safe:r=!1}=e;try{let{data:e}=await (0,s.xK)(()=>o.mH.CheckPageUpgradeStatus({pages_id:t,conversation_id:n}),3,0),r=null==e?void 0:e.status;if((0,i.Z)(r))throw Error("Invalid check upgrade response");return r}catch(e){if(l.k.persist.error({eventName:"check_upgrade_failed",error:e}),r)return null;throw e}},v=async()=>{try{return await f.p.isNewDoc()}catch{return null}},m=async e=>{let{docId:t,conversationId:n}=e,r={docId:t,conversationId:n,isNewDoc:await v()};try{if(l.k.persist.log({eventName:"doc_upgrade_start",meta:r}),!t)return l.k.persist.error({eventName:"doc_upgrade_failed",meta:{...r,reason:"invalid_doc_id"},error:Error()}),{status:d.P.NotUpgrade};let{data:e}=await (0,s.aG)({value:()=>o.mH.ExecPageUpgrade({pages_id:t,conversation_id:n}),interval:1e3,count:3,ifRetry:e=>{let{data:t}=e;return(null==t?void 0:t.status)===d.P.Upgrading}}),{status:i=d.P.UpgradeFailed,page_token:a}=null!=e?e:{};return l.k.persist.log({eventName:"doc_upgrade_success",meta:{...r,status:i,newDocId:a}}),{status:i,newDocId:a}}catch(e){return l.k.persist.error({eventName:"doc_upgrade_failed",meta:{...r,reason:"request_failed"},error:e}),{status:d.P.UpgradeFailed}}},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,c.XU)({key:e}))return e;let{status:n,newDocId:r}=await (0,s.aG)({value:()=>m({docId:e,conversationId:t}),count:5,ifRetry:e=>e.status===d.P.Upgrading});return n===d.P.Upgraded&&r?r:null},_=async e=>{let{docId:t,parentNodeId:n}=e;try{let{data:e={}}=await o.mH.GetPages({pages_id:t}),{title:r="",source_content:i=""}=e,{token:s}=await b({content:i,title:(0,u.mD)(r),scene:p.C.Markdown,format:a.Markdown,parentNodeId:n});return s}catch(e){throw l.k.persist.error({eventName:"create_new_page_by_legacy_doc_error",error:e,meta:{doc_id:t}}),e}};async function y(e){let{parentNodeId:t}=e;return b({scene:p.C.Blank,parentNodeId:t})}async function S(e){let{pageToken:t,title:n,parentNodeId:r}=e;return E({pageToken:t,title:(0,u.mD)(n),scene:p.C.Duplicate,parentNodeId:r})}async function b(e){let{content:t,title:n,format:r,scene:i,parentNodeId:a}=e;try{let e=await o.Z.AGWCreatePage({content:t,title:n,format:r,source:0,sub_type:0,parent_node_id:a});if(0===e.code&&e.data)return e.data;throw Error(`[resp_error]: ${JSON.stringify(e)}`)}catch(e){throw l.k.persist.error({eventName:"create_docx_error",error:e,meta:{scene:i}}),e}}async function E(e){let{pageToken:t,title:n,scene:r,parentNodeId:i}=e;try{let e=await o.Z.AGWCopyPage({page_token:t,source:0,subtype:0,title:n,parent_node_id:i});if(0===e.code&&e.data)return e.data;throw Error(`[resp_error]: ${JSON.stringify(e)}`)}catch(e){throw l.k.persist.error({eventName:"create_docx_error",error:e,meta:{scene:r}}),e}}async function w(e,t,n){return b({content:e,title:t,format:a.Markdown,scene:p.C.Markdown,parentNodeId:n})}async function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{let r=await o.Z.AGWInsertTemplateContent({page_token:e,template_token:t,base_ver:n});if(0===r.code)return r;throw Error(`[resp_error]: ${JSON.stringify(r)}`)}catch(e){throw l.k.persist.error({eventName:"insert_template_conten_error",error:e}),e}}},972836:function(e,t,n){"use strict";var r;n.d(t,{C:function(){return i}});let i=((r={}).Blank="blank",r.Markdown="md",r.Chat="chat",r.Template="template",r.Duplicate="duplicate",r.SpaceImport="space_import",r.FileImport="file_import",r)},821247:function(e,t,n){"use strict";n.d(t,{p:function(){return v}});var r=n(429996),i=n(861431),o=n(474227),a=n(210230),s=n(537065),l=n(598451),c=n(51679),u=n(393648),d=n(993047),f=n(698570),p=n(448263);function h(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v{static async fetchWriteConfig(){let{data:e={}}=await (0,d.xK)(async()=>c.mH.GetSetting({ab_param:{ab_request:(0,i.Z)(l.q,"doc_new_tab_home","doc_new_tag","doc_new_home","doc_needs_guidance")}}),10,e=>200*e),{page_config:t={},ab_config:n={}}=e,{hit_otter:r=!1}=t,{ab_results:o={}}=n,{doc_new_tab_home:a,doc_new_tag:s,doc_new_home:u,doc_needs_guidance:f}=o;return{inDocAbTest:!!a&&!!s&&!!u,newDoc:r,newTabHome:r&&(!a||"true"===a),newTag:r&&(!s||"true"===s),newHome:r&&(!s||"true"===u),needsGuidance:r&&!!f&&"true"===f}}static getCurrentFreshStatus(){return{isLogined:(0,u.M7)()}}static isDataFresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCurrentFreshStatus();return(0,o.Z)(t,{...this.freshStatus,...e})}static getWriteConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forceFetch:t=!1,...n}=e;return this.config&&!t&&this.isDataFresh(n)||(this.freshStatus=this.getCurrentFreshStatus(),this.updateLoading(!0),this.config=this.fetchWriteConfig().then(e=>(this.isDataFresh()&&(this.config=e),e)).catch(e=>{throw this.config=null,this.freshStatus=null,e}).finally(()=>{this.updateLoading(!1)})),this.config}static async getConfigByKey(e,t){return(await this.getWriteConfig(t))[e]}static useConfigByKey(e,t){let{data:n=null,refresh:i}=(0,f.Z)(async()=>this.getWriteConfig(t));return(0,r.useEffect)(()=>(this.events.on("after-refresh",i),()=>{this.events.off("after-refresh",i)}),[]),n&&n[e]}static updateLoading(e){e!==this.loading&&(this.events.emit("loading-change",e),this.loading=e)}static useIsLoading(){let[e,t]=(0,r.useState)(this.loading);return(0,r.useEffect)(()=>(this.events.on("loading-change",t),()=>{this.events.off("loading-change",t)}),[]),e}static async refresh(){await this.getWriteConfig({forceFetch:!0}),this.events.emit("after-refresh")}static async isNewDoc(e){return this.getConfigByKey("newDoc",e)}static useIsNewDoc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refreshWhenInitialFalse:t=!1,...n}=e,i=this.useConfigByKey("newDoc",n),o=(0,p.Z)(i);return(0,r.useEffect)(()=>{!1===i&&(0,a.Z)(o)&&t&&v.refresh()},[i]),i}static async isNewTabHome(e){return this.getConfigByKey("newTabHome",e)}static useIsNewTabHome(e){return this.useConfigByKey("newTabHome",e)}static async isNewTag(e){return this.getConfigByKey("newTag",e)}static useIsNewTag(e){return this.useConfigByKey("newTag",e)}static async isNewHome(e){return this.getConfigByKey("newHome",e)}static useIsNewHome(e){return this.useConfigByKey("newHome",e)}static async isInDocAbTest(e){return this.getConfigByKey("inDocAbTest",e)}static useIsInDocAbTest(e){return this.useConfigByKey("inDocAbTest",e)}static async isNeedsGuidance(e){return this.getConfigByKey("needsGuidance",e)}static useIsNeedsGuidance(e){return this.useConfigByKey("needsGuidance",e)}}h(v,"config",null),h(v,"freshStatus",null),h(v,"events",new s.Z),h(v,"loading",!1)},541284:function(e,t,n){"use strict";var r;n.d(t,{$:function(){return i},X:function(){return o}});let{ArtifactResourceType:i}=n(273716),o=((r={}).MobileDoc="mobile_doc",r)},120791:function(e,t,n){"use strict";n.d(t,{P:function(){return s},y:function(){return l}});var r,i,o={};n.r(o),n.d(o,{CheckPageUpgradeStatus:function(){return a}});let a=((r={})[r.NotUpgrade=1]="NotUpgrade",r[r.Init=2]="Init",r[r.Upgrading=3]="Upgrading",r[r.Upgraded=4]="Upgraded",r[r.UpgradeFailed=5]="UpgradeFailed",r),{CheckPageUpgradeStatus:s}=o,l=((i={}).Sidebar="sidebar",i.Popover="popover",i.Avatar="avatar",i.Hidden="hidden",i)},36601:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},Ms:function(){return f},Q6:function(){return c}});var r=n(986091),i=n(683653),o=n(228535),a=n(530836),s=n(744947),l=n(735393);let c=e=>{var t;let{conversationId:n,artifactKey:r}=e,i=a.useMessageStore.getState(),{messageLinkMap:c}=i;return(null!==(t=c[n])&&void 0!==t?t:[]).map(e=>(0,s.K9)(i,n,e)).find(e=>{var t,n,i,a;return(0,o.XD1)(e)&&(null===(n=e.content_obj)||void 0===n?void 0:null===(t=n.artifact_meta)||void 0===t?void 0:t.artifact_key)===r||(0,o.cnd)(e)&&(null===(i=(0,l.bu)(e))||void 0===i?void 0:i.find(e=>{var t,n;return(null===(n=e.content_obj)||void 0===n?void 0:null===(t=n.artifact)||void 0===t?void 0:t.artifact_key)===r}))||(0,o.BUc)(e)&&(null===(a=(0,l.o2)(e))||void 0===a?void 0:a.artifact_version_id)===r})},u=e=>{var t;let{conversationId:n,docId:r}=e,i=a.useMessageStore.getState(),{messageLinkMap:c}=i;return(null!==(t=c[n])&&void 0!==t?t:[]).map(e=>(0,s.K9)(i,n,e)).find(e=>{var t,n,i,a,s,c;return(0,o.XD1)(e)&&(null===(n=e.content_obj)||void 0===n?void 0:null===(t=n.artifact_meta)||void 0===t?void 0:t.resource_id)===r||(0,o.cnd)(e)&&(null===(i=(0,l.bu)(e))||void 0===i?void 0:i.find(e=>{var t,n;return(null===(n=e.content_obj)||void 0===n?void 0:null===(t=n.artifact)||void 0===t?void 0:t.resource_id)===r}))||(0,o.BUc)(e)&&(null===(a=(0,l.o2)(e))||void 0===a?void 0:a.resource_id)===r||(0,o.zwb)(e)&&(null===(s=e.content_obj)||void 0===s?void 0:s.pages_id)===r||(0,o.e0X)(e)&&(null===(c=e.content_obj)||void 0===c?void 0:c.pages_id)===r})},d=e=>{let{conversationId:t,matcher:n,timeout:i=15e3}=e;return new Promise((e,o)=>{let l=null,c=setTimeout(()=>{null==l||l(),o(Error(`Subscribe matching message with artifact timeout: ${i}`))},i);l=a.useMessageStore.subscribe(e=>{var n;let{messageLinkMap:r}=e;return(null!==(n=r[t])&&void 0!==n?n:[]).map(n=>(0,s.K9)(e,t,n))},t=>{if((0,r.Z)(t))return;let i=t.find(e=>n(e));null==l||l(),c&&clearTimeout(c),e(i)},{fireImmediately:!0})})},f=e=>{let{artifacts:t,...n}=e,r=t.map(e=>e.artifact_key);return d({...n,matcher:e=>{var t,n,a,s;if(!(0,o.z_e)(e))return!1;if((0,o.XD1)(e))return r.includes(null===(n=e.content_obj)||void 0===n?void 0:null===(t=n.artifact_meta)||void 0===t?void 0:t.artifact_key);if((0,o.cnd)(e)){for(let t of(0,l.bu)(e))if((0,i.Z)(r,null==t?void 0:null===(s=t.content_obj)||void 0===s?void 0:null===(a=s.artifact)||void 0===a?void 0:a.artifact_key))return!0}return!1}})}},735393:function(e,t,n){"use strict";n.d(t,{Hb:function(){return s},bu:function(){return l},fY:function(){return u},mD:function(){return d},o2:function(){return c}});var r=n(118200),i=n(742470),o=n(432626),a=n(910157);let s=e=>{let t="";for(let o of e)if(o.block_type===i.zc.BLOCK_TEXT&&(t+=(0,a.R)(o.content,{}).text),o.block_type===i.zc.BLOCK_IMAGE){var n,r;let e=(0,a.R)(o.content,{});t+=`![](${null==e?void 0:null===(r=e.images)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.thumb_url})`}return t},l=e=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.content_blocks)||void 0===t?void 0:t.filter(e=>e.block_type===i.zc.BLOCK_RESEARCH))&&void 0!==n?n:[]},c=e=>{var t,n;return null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:null===(t=n.find(e=>e.block_type===i.zc.BLOCK_ARTIFACT))||void 0===t?void 0:t.content_obj},u=e=>{let t=(0,r.Z)(e,["verbose","deep_research","deep_research_id"]),n=(0,r.Z)(e,["ext","deep_research_id"]);return t||n},d=e=>(0,o.X9)("doc_title_duplicate",{docName:e||(0,o.X9)("doc_title_unnamed")})},89311:function(e,t,n){"use strict";n.d(t,{y_:function(){return x},lE:function(){return w},X1:function(){return M},qy:function(){return T},XU:function(){return I},ZV:function(){return E},of:function(){return O},Q7:function(){return C},AQ:function(){return Z}});var r=n(529496),i=n(955943),o=n(683653),a=n(444614),s=n(473920),l=n(944406),c=n(432626),u=n(631150),d=n(139935),f=n(550606),p=n(551450),h=n(644367),v=n(821247),m=n(541284),g=n(120791),_=n(972836),y=n(607238),S=n(84673),b=n(627394);let E=e=>{let t=location.host.endsWith("doubao.com")||location.host.endsWith("cici.com")?location.origin:"https://www.doubao.com";return`${t}${e.startsWith("/")?"":"/"}${e}`},w=(e,t)=>`/chat/${t}?action=${encodeURIComponent(JSON.stringify({pluginId:"AISpace_DocCanvasOpen",payload:{pages_id:e}}))}`,C=e=>{let{conversationId:t,pagesId:n,redirect:i=!1,navigate:o}=e,a=w(n,t),s=E(a);if(i){location.href=(0,r.C)(s,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldtMTRkb$F4T1dwaFIwWXdX$mhL-m1SW$R%MD0",scmVersion:"1.0.1.2917",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkb$F6%25Ca1Ix$jJZek5L-Wt3elZqQmhWM2g2$ERK%2RsbD$O$EJqTTJob1kyMWtN$04z%FQwPQ"});return}if(o){o(a,{replace:!0});return}(0,d.t)(s)},T=async e=>{let{pageToken:t,layoutMode:n,templateId:r,navigate:o,enterFrom:a,showImportOnboarding:c}=e,u=window.location.pathname.startsWith("/doc"),f=o&&u&&await v.p.isNewTabHome(),p=`/doc/${t}`,h=f?t:p,m=Object.fromEntries(Object.entries({layout_mode:n,template_id:r,enter_from:a,show_import_onboarding:c}).filter(e=>{let[t,n]=e;return null!=n&&""!==n})),g=i.Z.stringify(m);if(g&&(h+=`?${g}`),(0,l.Fe)(p,"prev_page",(0,s.FZ)()||""),f){o(h);return}let _=E(h);(0,d.t)(_)},x=async e=>{let{type:t,docId:n,conversationId:r,source:i,navigate:a}=e;if(!n||!r)return;let s=()=>{C({conversationId:r,pagesId:n,navigate:a})};if((0,o.Z)([m.$.CanvasPages,m.$.StepWritingOtterPage],t)){T({pageToken:n,enterFrom:i,navigate:a});return}if((0,o.Z)([m.$.Pages,m.$.StepWritingPages],t)){if(!await v.p.isNewDoc()){s();return}let{status:e,newDocId:t}=await (0,S.J8)({docId:n,conversationId:r});if(e===g.P.NotUpgrade){s();return}if(e===g.P.Upgraded&&t){T({pageToken:t,navigate:a});return}let i=E(`/doc/${n}?${function(e){let{conversationId:t}=e,n=["type=legacy_doc"];return t&&n.push(`conversation_id=${t}`),n.join("&")}({conversationId:r})}`);(0,d.t)(i)}},k=async e=>{let{createAction:t,onSuccess:n}=e,r=p.pJ.info({icon:(0,b.jsx)(f.Z,{wrapperClassName:y.Z["loading-spin"]}),duration:0,content:(0,c.X9)("write_guidance_creating_doc")});try{let{token:e}=await t();p.pJ.close(r),p.pJ.success((0,c.X9)("write_guidance_create_doc_success")),n(e)}catch(e){p.pJ.error((0,c.X9)("doc_create_failed"))}finally{p.pJ.close(r)}},O=async e=>{let{navigate:t,parentNodeId:n,onSuccess:r,enterFrom:i}=e;return h.k.persist.info({eventName:"create_docx",meta:{scene:_.C.Blank,url_path:location.pathname}}),k({createAction:()=>(0,S.Vx)({parentNodeId:n}),onSuccess:e=>{null==r||r(e),T({pageToken:e,navigate:t,enterFrom:i})}})},I=e=>{let{key:t}=e;return(0,a.Z)((0,u.sT)(t))},Z=e=>{if(null==e)return!1;let t=[m.$.CanvasPages,m.$.StepWritingOtterPage];return(0,o.Z)(t,e)},M=e=>{if(null==e)return!1;let t=[m.$.Pages,m.$.StepWritingPages,m.$.CanvasPages,m.$.StepWritingOtterPage];return(0,o.Z)(t,e)}},349504:function(e,t,n){"use strict";var r=n(633906);t.Z=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s==s&&!(0,r.Z)(s):n(s,l)))var l=s,c=a}return c}},89190:function(e,t,n){"use strict";var r=n(824915);t.Z=function(e,t){var n=[];return(0,r.Z)(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},210428:function(e,t){"use strict";t.Z=function(e,t){return e>t}},268059:function(e,t,n){"use strict";var r=n(824915),i=n(734420);t.Z=function(e,t){var n=-1,o=(0,i.Z)(e)?Array(e.length):[];return(0,r.Z)(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},225779:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(477404),i=n(510722),o=n(348344),a=n(268059),s=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},l=n(836423),c=n(633769),u=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=(0,c.Z)(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index},d=n(129144),f=n(511451),p=function(e,t,n){t=t.length?(0,r.Z)(t,function(e){return(0,f.Z)(e)?function(t){return(0,i.Z)(t,1===e.length?e[0]:e)}:e}):[d.Z];var c=-1;return t=(0,r.Z)(t,(0,l.Z)(o.Z)),s((0,a.Z)(e,function(e,n,i){return{criteria:(0,r.Z)(t,function(t){return t(e)}),index:++c,value:e}}),function(e,t){return u(e,t,n)})}},234401:function(e,t){"use strict";t.Z=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},509087:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(921097),i=n(594175),o=n(510722),a=n(234401),s=n(603378),l=function(e,t){var n,l;return t=(0,r.Z)(t,e),n=e,null==(e=(l=t).length<2?n:(0,o.Z)(n,(0,a.Z)(l,0,-1)))||delete e[s.Z(i.Z(t))]}},796004:function(e,t,n){"use strict";var r=n(477404);t.Z=function(e,t){return(0,r.Z)(t,function(t){return e[t]})}},957641:function(e,t,n){"use strict";var r=n(234401);t.Z=function(e,t,n,i){for(var o=e.length,a=i?o:-1;(i?a--:++a<o)&&t(e[a],a,e););return n?(0,r.Z)(e,i?0:a,i?a+1:o):(0,r.Z)(e,i?a+1:0,i?o:a)}},633769:function(e,t,n){"use strict";var r=n(633906);t.Z=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=(0,r.Z)(e),s=void 0!==t,l=null===t,c=t==t,u=(0,r.Z)(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return -1}return 0}},491383:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},i=n(824915),o=function(e,t,n,r){return(0,i.Z)(e,function(e,i,o){t(r,e,n(e),o)}),r},a=n(348344),s=n(511451),l=function(e,t){return function(n,i){var l=(0,s.Z)(n)?r:o,c=t?t():{};return l(n,e,(0,a.Z)(i,2),c)}}},282564:function(e,t,n){"use strict";var r=n(348344),i=n(734420),o=n(445863);t.Z=function(e){return function(t,n,a){var s=Object(t);if(!(0,i.Z)(t)){var l=(0,r.Z)(n,3);t=(0,o.Z)(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},164303:function(e,t,n){"use strict";var r=n(718609),i=n(268327),o=n(305144),a=n(734420),s=n(928448),l=n(445863),c=Object.prototype.hasOwnProperty,u=(0,o.Z)(function(e,t){if((0,s.Z)(t)||(0,a.Z)(t)){(0,i.Z)(t,(0,l.Z)(t),e);return}for(var n in t)c.call(t,n)&&(0,r.Z)(e,n,t[n])});t.Z=u},622551:function(e,t,n){"use strict";var r=n(268327),i=n(305144),o=n(445863),a=(0,i.Z)(function(e,t,n,i){(0,r.Z)(t,(0,o.Z)(t),e,i)});t.Z=a},721219:function(e,t,n){"use strict";var r=n(511451);t.Z=function(){if(!arguments.length)return[];var e=arguments[0];return(0,r.Z)(e)?e:[e]}},483767:function(e,t,n){"use strict";var r=n(234401),i=n(173581),o=n(634145),a=Math.ceil,s=Math.max;t.Z=function(e,t,n){t=(n?(0,i.Z)(e,t,n):void 0===t)?1:s((0,o.Z)(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(a(l/t));c<l;)d[u++]=(0,r.Z)(e,c,c+=t);return d}},713273:function(e,t,n){"use strict";var r=n(740480),i=n(89190),o=n(348344),a=n(511451);t.Z=function(e,t){return((0,a.Z)(e)?r.Z:i.Z)(e,(0,o.Z)(t,3))}},871987:function(e,t,n){"use strict";var r=n(282564),i=n(746821),o=(0,r.Z)(i.Z);t.Z=o},746821:function(e,t,n){"use strict";var r=n(910198),i=n(348344),o=n(634145),a=Math.max;t.Z=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:(0,o.Z)(n);return l<0&&(l=a(s+l,0)),(0,r.Z)(e,(0,i.Z)(t,3),l)}},260325:function(e,t,n){"use strict";var r=n(282564),i=n(563323),o=(0,r.Z)(i.Z);t.Z=o},563323:function(e,t,n){"use strict";var r=n(910198),i=n(348344),o=n(634145),a=Math.max,s=Math.min;t.Z=function(e,t,n){var l=null==e?0:e.length;if(!l)return -1;var c=l-1;return void 0!==n&&(c=(0,o.Z)(n),c=n<0?a(l+c,0):s(c,l-1)),(0,r.Z)(e,(0,i.Z)(t,3),c,!0)}},567336:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=Object.prototype.hasOwnProperty,i=function(e,t){return null!=e&&r.call(e,t)},o=n(891455),a=function(e,t){return null!=e&&(0,o.Z)(e,t,i)}},672697:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=Math.max,i=Math.min,o=n(101823),a=n(637825),s=function(e,t,n){var s,l,c;return t=(0,o.Z)(t),void 0===n?(n=t,t=0):n=(0,o.Z)(n),(s=e=(0,a.Z)(e))>=i(l=t,c=n)&&s<r(l,c)}},683653:function(e,t,n){"use strict";var r=n(173619),i=n(734420),o=n(477041),a=n(634145),s=n(508830),l=Math.max;t.Z=function(e,t,n,c){e=(0,i.Z)(e)?e:(0,s.Z)(e),n=n&&!c?(0,a.Z)(n):0;var u=e.length;return n<0&&(n=l(u+n,0)),(0,o.Z)(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&(0,r.Z)(e,t,n)>-1}},828652:function(e,t,n){"use strict";var r=n(521167),i=n(770532);t.Z=function(e){return!0===e||!1===e||(0,i.Z)(e)&&"[object Boolean]"==(0,r.Z)(e)}},31497:function(e,t,n){"use strict";var r=n(408065),i=(0,n(491383).Z)(function(e,t,n){(0,r.Z)(e,n,t)});t.Z=i},342617:function(e,t,n){"use strict";var r=n(477404),i=n(348344),o=n(268059),a=n(511451);t.Z=function(e,t){return((0,a.Z)(e)?r.Z:o.Z)(e,(0,i.Z)(t,3))}},69345:function(e,t,n){"use strict";var r=n(349504),i=n(210428),o=n(129144);t.Z=function(e){return e&&e.length?(0,r.Z)(e,o.Z,i.Z):void 0}},963729:function(e,t,n){"use strict";var r=n(349504),i=n(210428),o=n(348344);t.Z=function(e,t){return e&&e.length?(0,r.Z)(e,(0,o.Z)(t,2),i.Z):void 0}},327386:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(477404),i=n(497182),o=n(509087),a=n(921097),s=n(268327),l=n(194711),c=function(e){return(0,l.Z)(e)?void 0:e},u=n(29787),d=n(71810),f=(0,u.Z)(function(e,t){var n={};if(null==e)return n;var l=!1;t=(0,r.Z)(t,function(t){return t=(0,a.Z)(t,e),l||(l=t.length>1),t}),(0,s.Z)(e,(0,d.Z)(e),n),l&&(n=(0,i.Z)(n,7,c));for(var u=t.length;u--;)(0,o.Z)(n,t[u]);return n})},627596:function(e,t,n){"use strict";var r=n(225779),i=n(511451);t.Z=function(e,t,n,o){return null==e?[]:((0,i.Z)(t)||(t=null==t?[]:[t]),n=o?void 0:n,(0,i.Z)(n)||(n=null==n?[]:[n]),(0,r.Z)(e,t,n))}},87548:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=Math.ceil,i=Math.max,o=function(e,t,n,o){for(var a=-1,s=i(r((t-e)/(n||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=n;return l},a=n(173581),s=n(101823),l=function(e,t,n){return n&&"number"!=typeof n&&(0,a.Z)(e,t,n)&&(t=n=void 0),e=(0,s.Z)(e),void 0===t?(t=e,e=0):t=(0,s.Z)(t),n=void 0===n?e<t?1:-1:(0,s.Z)(n),o(e,t,n,void 0)}},392256:function(e,t){"use strict";var n=Array.prototype.reverse;t.Z=function(e){return null==e?e:n.call(e)}},817835:function(e,t,n){"use strict";var r=n(845027);t.Z=function(e,t,n){return null==e?e:(0,r.Z)(e,t,n)}},156634:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(259389),i=n(348344),o=n(824915),a=function(e,t){var n;return(0,o.Z)(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},s=n(511451),l=n(173581),c=function(e,t,n){var o=(0,s.Z)(e)?r.Z:a;return n&&(0,l.Z)(e,t,n)&&(t=void 0),o(e,(0,i.Z)(t,3))}},453093:function(e,t,n){"use strict";var r=n(883566),i=n(225779),o=n(219291),a=n(173581),s=(0,o.Z)(function(e,t){if(null==e)return[];var n=t.length;return n>1&&(0,a.Z)(e,t[0],t[1])?t=[]:n>2&&(0,a.Z)(t[0],t[1],t[2])&&(t=[t[0]]),(0,i.Z)(e,(0,r.Z)(t,1),[])});t.Z=s},508360:function(e,t,n){"use strict";var r=n(348344),i=n(957641);t.Z=function(e,t){return e&&e.length?(0,i.Z)(e,(0,r.Z)(t,3)):[]}},211959:function(e,t,n){"use strict";var r=n(883566),i=n(348344),o=n(219291),a=n(923583),s=n(773047),l=n(594175),c=(0,o.Z)(function(e){var t=(0,l.Z)(e);return(0,s.Z)(t)&&(t=void 0),(0,a.Z)((0,r.Z)(e,1,s.Z,!0),(0,i.Z)(t,2))});t.Z=c},810197:function(e,t,n){"use strict";var r=n(923583);t.Z=function(e){return e&&e.length?(0,r.Z)(e):[]}},508830:function(e,t,n){"use strict";var r=n(796004),i=n(445863);t.Z=function(e){return null==e?[]:(0,r.Z)(e,(0,i.Z)(e))}},316649:function(e,t,n){"use strict";var r=n(524004),i=n(219291),o=n(773047),a=(0,i.Z)(function(e,t){return(0,o.Z)(e)?(0,r.Z)(e,t):[]});t.Z=a},107526:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r,i,o,a,s,l,c,u,d,f,p,h,v,m,g,_,y,S,b,E,w,C,T,x,k,O,I,Z=n(537065);class M extends Error{constructor(e){super(e),this.name="TimeoutError"}}class N extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}let A=e=>void 0===globalThis.DOMException?new N(e):new DOMException(e),L=e=>{let t=void 0===e.reason?A("This operation was aborted."):e.reason;return t instanceof Error?t:A(t)};var R=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class j{constructor(){r.set(this,[])}enqueue(e,t){let n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&R(this,r,"f")[this.size-1].priority>=t.priority){R(this,r,"f").push(n);return}let i=function(e,t,n){let r=0,i=e.length;for(;i>0;){let o=Math.trunc(i/2),a=r+o;0>=n(e[a],t)?(r=++a,i-=o+1):i=o}return r}(R(this,r,"f"),n,(e,t)=>t.priority-e.priority);R(this,r,"f").splice(i,0,n)}dequeue(){let e=R(this,r,"f").shift();return null==e?void 0:e.run}filter(e){return R(this,r,"f").filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return R(this,r,"f").length}}r=new WeakMap;var W=function(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},P=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class D extends Error{}class U extends Z.Z{constructor(e){var t,n,r,y;if(super(),i.add(this),o.set(this,void 0),a.set(this,void 0),s.set(this,0),l.set(this,void 0),c.set(this,void 0),u.set(this,0),d.set(this,void 0),f.set(this,void 0),p.set(this,void 0),h.set(this,void 0),v.set(this,0),m.set(this,void 0),g.set(this,void 0),_.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:j,...e}).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(y=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==y?y:""}\` (${typeof e.interval})`);W(this,o,e.carryoverConcurrencyCount,"f"),W(this,a,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),W(this,l,e.intervalCap,"f"),W(this,c,e.interval,"f"),W(this,p,new e.queueClass,"f"),W(this,h,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,W(this,_,!0===e.throwOnTimeout,"f"),W(this,g,!1===e.autoStart,"f")}get concurrency(){return P(this,m,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);W(this,m,e,"f"),P(this,i,"m",k).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:P(this,_,"f"),...t},new Promise((n,r)=>{P(this,p,"f").enqueue(async()=>{var o,a,l;W(this,v,(a=P(this,v,"f"),++a),"f"),W(this,s,(l=P(this,s,"f"),++l),"f");try{if(null===(o=t.signal)||void 0===o?void 0:o.aborted)throw new D("The task was aborted.");let r=e({signal:t.signal});t.timeout&&(r=function(e,t,n,r){let i;let o=new Promise((o,a)=>{if("number"!=typeof t||1!==Math.sign(t))throw TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t===Number.POSITIVE_INFINITY){o(e);return}if((r={customTimers:{setTimeout,clearTimeout},...r}).signal){let{signal:e}=r;e.aborted&&a(L(e)),e.addEventListener("abort",()=>{a(L(e))})}i=r.customTimers.setTimeout.call(void 0,()=>{let r=`Promise timed out after ${t} milliseconds`,i=n instanceof Error?n:new M(r);"function"==typeof e.cancel&&e.cancel(),a(i)},t),(async()=>{try{o(await e)}catch(e){a(e)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()});return o.clear=()=>{clearTimeout(i),i=void 0},o}(Promise.resolve(r),t.timeout)),t.signal&&(r=Promise.race([r,P(this,i,"m",O).call(this,t.signal)]));let a=await r;n(a),this.emit("completed",a)}catch(e){if(e instanceof M&&!t.throwOnTimeout){n();return}r(e),this.emit("error",e)}finally{P(this,i,"m",b).call(this)}},t),this.emit("add"),P(this,i,"m",C).call(this)})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return P(this,g,"f")&&(W(this,g,!1,"f"),P(this,i,"m",k).call(this)),this}pause(){W(this,g,!0,"f")}clear(){W(this,p,new(P(this,h,"f")),"f")}async onEmpty(){0!==P(this,p,"f").size&&await P(this,i,"m",I).call(this,"empty")}async onSizeLessThan(e){!(P(this,p,"f").size<e)&&await P(this,i,"m",I).call(this,"next",()=>P(this,p,"f").size<e)}async onIdle(){(0!==P(this,v,"f")||0!==P(this,p,"f").size)&&await P(this,i,"m",I).call(this,"idle")}get size(){return P(this,p,"f").size}sizeBy(e){return P(this,p,"f").filter(e).length}get pending(){return P(this,v,"f")}get isPaused(){return P(this,g,"f")}}o=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,v=new WeakMap,m=new WeakMap,g=new WeakMap,_=new WeakMap,i=new WeakSet,y=function(){return P(this,a,"f")||P(this,s,"f")<P(this,l,"f")},S=function(){return P(this,v,"f")<P(this,m,"f")},b=function(){var e;W(this,v,(e=P(this,v,"f"),--e),"f"),P(this,i,"m",C).call(this),this.emit("next")},E=function(){P(this,i,"m",x).call(this),P(this,i,"m",T).call(this),W(this,f,void 0,"f")},w=function(){let e=Date.now();if(void 0===P(this,d,"f")){let t=P(this,u,"f")-e;if(!(t<0))return void 0===P(this,f,"f")&&W(this,f,setTimeout(()=>{P(this,i,"m",E).call(this)},t),"f"),!0;W(this,s,P(this,o,"f")?P(this,v,"f"):0,"f")}return!1},C=function(){if(0===P(this,p,"f").size)return P(this,d,"f")&&clearInterval(P(this,d,"f")),W(this,d,void 0,"f"),this.emit("empty"),0===P(this,v,"f")&&this.emit("idle"),!1;if(!P(this,g,"f")){let e=!P(this,i,"a",w);if(P(this,i,"a",y)&&P(this,i,"a",S)){let t=P(this,p,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&P(this,i,"m",T).call(this),!0)}}return!1},T=function(){!P(this,a,"f")&&void 0===P(this,d,"f")&&(W(this,d,setInterval(()=>{P(this,i,"m",x).call(this)},P(this,c,"f")),"f"),W(this,u,Date.now()+P(this,c,"f"),"f"))},x=function(){0===P(this,s,"f")&&0===P(this,v,"f")&&P(this,d,"f")&&(clearInterval(P(this,d,"f")),W(this,d,void 0,"f")),W(this,s,P(this,o,"f")?P(this,v,"f"):0,"f"),P(this,i,"m",k).call(this)},k=function(){for(;P(this,i,"m",C).call(this););},O=async function(e){return new Promise((t,n)=>{e.addEventListener("abort",()=>{n(new D("The task was aborted."))},{once:!0})})},I=async function(e,t){return new Promise(n=>{let r=()=>{(!t||t())&&(this.off(e,r),n())};this.on(e,r)})}},743741:function(e,t,n){"use strict";let r;n.d(t,{YD:function(){return p},df:function(){return f}});var i=n(429996);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let a=new Map,s=new WeakMap,l=0;function c(e,t,n={},i=r){if(void 0===window.IntersectionObserver&&void 0!==i){let r=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}let{id:o,observer:u,elements:d}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var n;return`${t}_${"root"===t?(n=e.root)?(s.has(n)||(l+=1,s.set(n,l.toString())),s.get(n)):"0":e[t]}`}).toString(),n=a.get(t);if(!n){let r;let i=new Map,o=new IntersectionObserver(t=>{t.forEach(t=>{var n;let o=t.isIntersecting&&r.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach(e=>{e(o,t)})})},e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},a.set(t,n)}return n}(n),f=d.get(e)||[];return d.has(e)||d.set(e,f),f.push(t),u.observe(e),function(){f.splice(f.indexOf(t),1),0===f.length&&(d.delete(e),u.unobserve(e)),0===d.size&&(u.disconnect(),a.delete(o))}}let u=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function d(e){return"function"!=typeof e.children}class f extends i.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{!this.node||(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),d(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i,fallbackInView:o}=this.props;this._unobserveCb=c(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i},o)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!d(this.props)){let{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}let e=this.props,{children:t,as:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u);return i.createElement(n||"div",o({ref:this.handleNode},r),t)}}function p({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:a,skip:s,initialInView:l,fallbackInView:u,onChange:d}={}){var f;let[h,v]=i.useState(null),m=i.useRef(),[g,_]=i.useState({inView:!!l,entry:void 0});m.current=d,i.useEffect(()=>{let i;if(!s&&h)return i=c(h,(e,t)=>{_({inView:e,entry:t}),m.current&&m.current(e,t),t.isIntersecting&&a&&i&&(i(),i=void 0)},{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},u),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,h,o,r,a,s,n,u,t]);let y=null==(f=g.entry)?void 0:f.target,S=i.useRef();h||!y||a||s||S.current===y||(S.current=y,_({inView:!!l,entry:void 0}));let b=[v,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}}}]);
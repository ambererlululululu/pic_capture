(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["14815"],{257096:function(e,t,n){"use strict";n.d(t,{UX:function(){return i},j2:function(){return a}});var r=n(771982);let i={PREFIX:`${r.T}-button`},a={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"}},278182:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},731248:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))},"alert_circle");t.Z=i},462299:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))},"alert_triangle");t.Z=i},179086:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))},"close");t.Z=i},825710:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))},"info_circle");t.Z=i},915422:function(e,t,n){"use strict";var r=n(429996);let i=(0,n(382369).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))},"tick_circle");t.Z=i},472934:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(327386),i=n(429996),a=n(669160),s=n.n(a),o=n(295011),l=n.n(o),u=n(257096),c=n(278182),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let f=u.j2.sizes,{htmlTypes:h,btnTypes:p}=u.j2;class m extends i.PureComponent{render(){let e=this.props,{children:t,block:n,htmlType:a,loading:o,circle:l,className:u,style:c,disabled:f,size:h,theme:p,type:m,prefixCls:v,iconPosition:g}=e,y=d(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),x=Object.assign(Object.assign({disabled:f},(0,r.Z)(y,["x-semi-children-alias"])),{className:s()(v,{[`${v}-${m}`]:!f&&m,[`${v}-disabled`]:f,[`${v}-size-large`]:"large"===h,[`${v}-size-small`]:"small"===h,[`${v}-light`]:"light"===p,[`${v}-block`]:n,[`${v}-circle`]:l,[`${v}-borderless`]:"borderless"===p,[`${v}-${m}-disabled`]:f&&m},u),type:a,"aria-disabled":f}),b={};return u&&u.includes("-with-icon")||(b["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),i.createElement("button",Object.assign({},x,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:c}),i.createElement("span",Object.assign({className:`${v}-content`,onClick:e=>f&&e.stopPropagation()},b),t))}}m.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:c.Z,onClick:c.Z,onMouseEnter:c.Z,onMouseLeave:c.Z,prefixCls:u.UX.PREFIX},m.propTypes={children:l().node,disabled:l().bool,prefixCls:l().string,style:l().object,size:l().oneOf(f),type:l().oneOf(p),block:l().bool,onClick:l().func,onMouseDown:l().func,circle:l().bool,loading:l().bool,htmlType:l().oneOf(h),theme:l().oneOf(u.j2.themes),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func,"aria-label":l().string}},444997:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(814986),i=n(429996),a=n(669160),s=n.n(a),o=n(295011),l=n.n(o),u=n(257096);n(771982).T;var c=n(472934),d=n(279862),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class h extends i.PureComponent{render(){let e=this.props,{children:t,iconPosition:n,iconSize:r,iconStyle:a,style:o,icon:l,noHorizontalPadding:u,theme:h,className:p,prefixCls:m,loading:v}=e,g=f(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),y=Object.assign({},o);Array.isArray(u)?(u.includes("left")&&(y.paddingLeft=0),u.includes("right")&&(y.paddingRight=0)):!0===u?(y.paddingLeft=0,y.paddingRight=0):"string"==typeof u&&("left"===u&&(y.paddingLeft=0),"right"===u&&(y.paddingRight=0));let x=null,b=null;v&&!g.disabled?b=i.createElement(d.Z,null):i.isValidElement(l)&&(b=l);let w=s()({[`${m}-content-left`]:"right"===n,[`${m}-content-right`]:"left"===n}),_=this.props["x-semi-children-alias"]||"children",C=null!=t?i.createElement("span",{className:w,"x-semi-prop":_},t):null;x="left"===n?i.createElement(i.Fragment,null,b,C):i.createElement(i.Fragment,null,C,b);let S=s()(p,`${m}-with-icon`,{[`${m}-with-icon-only`]:null==C||""===C,[`${m}-loading`]:v});return i.createElement(c.Z,Object.assign({},g,{className:S,theme:h,style:y}),x)}}h.defaultProps={iconPosition:u.j2.DEFAULT_ICON_POSITION,prefixCls:u.UX.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:r.Z,onMouseLeave:r.Z},h.elementType="IconButton",h.propTypes={iconStyle:l().object,style:l().object,loading:l().bool,prefixCls:l().string,icon:l().oneOfType([l().object,l().string,l().node]),iconSize:l().oneOf(["extra-small","small","default","large","extra-large","custom"]),noHorizontalPadding:l().oneOfType([l().bool,l().string,l().array]),children:l().node,theme:l().string,iconPosition:l().oneOf(u.j2.iconPositions),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func};var p=h},279862:function(e,t,n){"use strict";var r=n(429996),i=n(112230),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let s=-1;t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t,className:n}=e,o=a(e,["id","className"]),l=t;(0,i.Z)(l)&&(l=++s);let u=`linearGradient-${l}`;return r.createElement("svg",Object.assign({},o,{className:n,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:u},r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),r.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),r.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),r.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${u})`,strokeWidth:"4",strokeLinecap:"round"})))}},775313:function(e,t,n){"use strict";n.d(t,{x:function(){return N},Z:function(){return P}});var r=n(429996),i=n(568120),a=n(295011),s=n.n(a),o=n(926778);class l extends o.Z{constructor(e){super(Object.assign(Object.assign({},l.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(e=>{let{id:t}=e;return t}).includes(e)}addToast(e){let t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let n=this._adapter.getState("list"),r=(n=n.map(n=>n.id===e?Object.assign(Object.assign({},n),t):n)).filter(t=>t.id===e);this._adapter.updateToast(n,[],r)}removeToast(e){let t=this._adapter.getState("list"),n=[];t=t.filter(t=>t.id!==e||(n.push(t),!1)),this._adapter.updateToast(t,n,[])}destroyAll(){let e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}var u=n(771982);let c=`${u.T}-toast`,d={PREFIX:c,WRAPPER:`${c}-wrapper`,LIST:`${c}-list`},f=["ltr","rtl"];var h=n(70059),p=n(814986),m=n(669160),v=n.n(m),g=n(925962),y=n(524518);class x extends o.Z{constructor(e){super(Object.assign(Object.assign({},x.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){let e=this._adapter.getProp("duration");e&&(0,y.Z)(e)&&(this._timer=setTimeout(()=>{this.close()},1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}var b=n(444997),w=n(462299),_=n(915422),C=n(825710),S=n(731248),M=n(179086),Z=n(156287);let T=d.PREFIX;class O extends h.Z{constructor(e){super(e),this.toastEle=r.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new x(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){let{type:e,icon:t}=this.props,n={warning:r.createElement(w.Z,null),success:r.createElement(_.Z,null),info:r.createElement(C.Z,null),error:r.createElement(S.Z,null)}[e],i="large",a=v()(`${T}-icon`,`${T}-icon-${e}`);return t?(0,Z.ID)(t)?r.cloneElement(t,{size:i,className:`${T}-icon`}):t:e&&n?r.cloneElement(n,{size:i,className:a}):null}render(){let{content:e,type:t,theme:n,showClose:i,textMaxWidth:a,className:s,style:o}=this.props,l=this.props.direction||this.context.direction,u=v()(T,s,{[`${T}-${t}`]:!0,[`${T}-${n}`]:"light"===n,[`${T}-rtl`]:"rtl"===l}),c={};c.maxWidth=a;let d=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,f=r.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${-10*d}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},r.createElement("div",{className:`${T}-content`},this.renderIcon(),r.createElement("span",{className:`${T}-content-text`,style:c,"x-semi-prop":"content"},e),i&&r.createElement("div",{className:`${T}-close-button`},r.createElement(b.Z,{onClick:e=>this.close(e),type:"tertiary",icon:r.createElement(M.Z,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(!this.props.stack)return f;{let e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return r.createElement("div",{className:`${T}-zero-height-wrapper`,style:{height:e}},f)}}}O.contextType=g.Z,O.propTypes={onClose:s().func,content:s().node,close:s().func,duration:s().number,theme:s().oneOf(["normal","light"]),type:s().oneOf(["warning","success","info","error","default"]),textMaxWidth:s().oneOfType([s().string,s().number]),style:s().object,className:s().string,showClose:s().bool,stack:s().bool,stackExpanded:s().bool,icon:s().node,direction:s().oneOf(f)},O.__SemiComponentName__="Toast",O.defaultProps=(0,Z.GW)(O.__SemiComponentName__,{onClose:p.Z,content:"",close:p.Z,duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var I=n(881719),j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},E=r.forwardRef((e,t)=>{var{afterClose:n}=e,i=j(e,["afterClose"]);let[a,s]=(0,r.useState)(!0);return r.useImperativeHandle(t,()=>({close:()=>{s(!1)}})),(0,r.useEffect)(()=>{a||n(i.id)},[a]),a?r.createElement(O,Object.assign({},i,{close:()=>{s(!1)}})):null});let L={motion:!0,zIndex:1010,duration:3};function $(){let[e,t]=function(){let[e,t]=r.useState([]);return[e,function(e,n){return t(t=>[{element:e,config:n},...t]),e=>{t(t=>t.filter(t=>{let{config:n}=t;return n.id!==e}))}}]}(),n=(0,r.useRef)(new Map),i=e=>{let i;let a=(0,I.ZP)("semi_toast_"),s=Object.assign(Object.assign({},e),{id:a});return i=t(r.createElement(E,Object.assign({},s,{key:a,afterClose:e=>i(e),ref:e=>{var t;n.current.set(a,{close:null!==(t=null==e?void 0:e.close)&&void 0!==t?t:p.Z})}})),Object.assign({},s)),a},a=e=>{var t;let{close:r}=null!==(t=n.current.get(e))&&void 0!==t?t:{};null==r||r()};return[{success:e=>i(Object.assign(Object.assign(Object.assign({},L),e),{type:"success"})),info:e=>i(Object.assign(Object.assign(Object.assign({},L),e),{type:"info"})),error:e=>i(Object.assign(Object.assign(Object.assign({},L),e),{type:"error"})),warning:e=>i(Object.assign(Object.assign(Object.assign({},L),e),{type:"warning"})),open:e=>i(Object.assign(Object.assign(Object.assign({},L),e),{type:"default"})),close:e=>a(e)},r.createElement(r.Fragment,null,Array.isArray(e)&&e.length?r.createElement(r.Fragment,null,e.map(e=>e.element)):null)]}var k=n(345185);let z=()=>{var e;return(e=class e extends h.Z{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=r.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var t;this.stack&&(null===(t=this.foundation.getInputWrapperRect())||void 0===t?void 0:t.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new l(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,n)=>{this.setState({list:e,removedItems:t,updatedItems:n})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(t){var n;let a=null!==(n=t.id)&&void 0!==n?n:(0,I.ZP)("toast");if(e.ref){let n=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(e=>{e in t&&(n.style[e]="number"==typeof t[e]?`${t[e]}px`:t[e])}),!!t.stack!==e.ref.stack&&(e.ref.stack=!!t.stack),e.ref.has(a)?e.ref.update(a,Object.assign(Object.assign({},t),{id:a})):e.ref.add(Object.assign(Object.assign({},t),{id:a}))}else{let n=document.createElement("div");this.wrapperId||(this.wrapperId=(0,I.ZP)("toast-wrapper").slice(0,26)),n.className=d.WRAPPER,n.id=this.wrapperId,n.style.zIndex=String("number"==typeof t.zIndex?t.zIndex:e.defaultOpts.zIndex),["top","left","bottom","right"].map(r=>{if(r in e.defaultOpts||r in t){let i=t[r]?t[r]:e.defaultOpts[r];n.style[r]="number"==typeof i?`${i}px`:i}}),e.defaultOpts.getPopupContainer?e.defaultOpts.getPopupContainer().appendChild(n):document.body.appendChild(n),i.render(r.createElement(e,{ref:t=>e.ref=t}),n,()=>{e.ref.add(Object.assign(Object.assign({},t),{id:a})),e.ref.stack=!!t.stack})}return a}static close(t){e.ref&&e.ref.remove(t)}static destroyAll(){if(e.ref){e.ref.destroyAll();let t=document.querySelector(`#${this.wrapperId}`);i.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),e.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"info"}))}static warning(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"warning"}))}static error(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"error"}))}static success(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(n=>{n in t&&(e.defaultOpts[n]=t[n])}),"number"==typeof t.zIndex&&(e.defaultOpts.zIndex=t.zIndex),"number"==typeof t.duration&&(e.defaultOpts.duration=t.duration),"function"==typeof t.getPopupContainer&&(e.defaultOpts.getPopupContainer=t.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state,{removedItems:t,updatedItems:n}=this.state;e=Array.from(new Set([...e,...t]));let i=n.map(e=>{let{id:t}=e;return t}),a=e=>{var t;(null===(t=null==e?void 0:e.foundation)||void 0===t?void 0:t._id)&&i.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return r.createElement(r.Fragment,null,r.createElement("div",{className:v()({[`${d.PREFIX}-innerWrapper`]:!0,[`${d.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map((n,i)=>{let s=void 0!==t.find(e=>e.id===n.id);return r.createElement(k.Z,{key:n.id,motion:n.motion,animationState:s?"leave":"enter",startClassName:s?`${d.PREFIX}-animation-hide`:`${d.PREFIX}-animation-show`},t=>{let{animationClassName:o,animationEventsNeedBind:l,isAnimating:u}=t;return s&&!u?null:r.createElement(O,Object.assign({},n,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:i},className:v()({[n.className]:!!n.className,[o]:!0})},l,{style:Object.assign({},n.style),close:e=>this.remove(e),ref:a}))})})))}}).defaultOpts={motion:!0,zIndex:1010,content:""},e.propTypes={content:s().node,duration:s().number,onClose:s().func,icon:s().node,direction:s().oneOf(f),stack:s().bool},e.defaultProps={},e};class N{static create(e){let t=z();return t.useToast=$,e&&t.config(e),t}}var P=N.create()},448263:function(e,t,n){"use strict";var r=n(429996),i=function(e,t){return!Object.is(e,t)};t.Z=function(e,t){void 0===t&&(t=i);var n=(0,r.useRef)(),a=(0,r.useRef)();return t(a.current,e)&&(n.current=a.current,a.current=e),n.current}},727499:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,i=n(429996),a=(r=i.useEffect,function(e,t){var n=(0,i.useRef)(!1);r(function(){return function(){n.current=!1}},[]),r(function(){if(n.current)return e();n.current=!0},t)})},985871:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="week",a="month",s="quarter",o="year",l="date",u="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},h="en",p={};p[h]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||"th")+"]"}};var m="$isDayjsObject",v=function(e){return e instanceof b||!(!e||!e[m])},g=function e(t,n,r){var i;if(!t)return h;if("string"==typeof t){var a=t.toLowerCase();p[a]&&(i=a),n&&(p[a]=n,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;p[o]=t,i=o}return!r&&i&&(h=i),i||!r&&h},y=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new b(n)},x={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,a),s=n-i<0,o=t.clone().add(r+(s?-1:1),a);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:a,y:o,w:i,d:"day",D:l,h:r,m:n,s:t,ms:e,Q:s})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};x.l=g,x.i=v,x.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var b=function(){function f(e){this.$L=g(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[m]=!0}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(c);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return x},h.isValid=function(){return this.$d.toString()!==u},h.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return y(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<y(e)},h.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var u=this,c=!!x.u(s)||s,d=x.p(e),f=function(e,t){var n=x.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return c?n:n.endOf("day")},h=function(e,t){return x.w(u.toDate()[e].apply(u.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},p=this.$W,m=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case o:return c?f(1,0):f(31,11);case a:return c?f(1,m):f(0,m+1);case i:var y=this.$locale().weekStart||0,b=(p<y?p+7:p)-y;return f(c?v-b:v+(6-b),m);case"day":case l:return h(g+"Hours",0);case r:return h(g+"Minutes",1);case n:return h(g+"Seconds",2);case t:return h(g+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var u,c=x.p(i),d="set"+(this.$u?"UTC":""),f=((u={}).day=d+"Date",u[l]=d+"Date",u[a]=d+"Month",u[o]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[t]=d+"Seconds",u[e]=d+"Milliseconds",u)[c],h="day"===c?this.$D+(s-this.$W):s;if(c===a||c===o){var p=this.clone().set(l,1);p.$d[f](h),p.init(),this.$d=p.set(l,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[x.p(e)]()},h.add=function(e,s){var l,u=this;e=Number(e);var c=x.p(s),d=function(t){var n=y(u);return x.w(n.date(n.date()+Math.round(t*e)),u)};if(c===a)return this.set(a,this.$M+e);if(c===o)return this.set(o,this.$y+e);if("day"===c)return d(1);if(c===i)return d(7);var f=((l={})[n]=6e4,l[r]=36e5,l[t]=1e3,l)[c]||1,h=this.$d.getTime()+e*f;return x.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,f=n.meridiem,h=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},p=function(e){return x.s(a%12||12,e,"0")},m=f||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return o+1;case"MM":return x.s(o+1,2,"0");case"MMM":return h(n.monthsShort,o,c,3);case"MMMM":return h(c,o);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return x.s(a,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return m(a,s,!0);case"A":return m(a,s,!1);case"m":return String(s);case"mm":return x.s(s,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,l,u){var c,d=this,f=x.p(l),h=y(e),p=(h.utcOffset()-this.utcOffset())*6e4,m=this-h,v=function(){return x.m(d,h)};switch(f){case o:c=v()/12;break;case a:c=v();break;case s:c=v()/3;break;case i:c=(m-p)/6048e5;break;case"day":c=(m-p)/864e5;break;case r:c=m/36e5;break;case n:c=m/6e4;break;case t:c=m/1e3;break;default:c=m}return u?c:x.a(c)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return p[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=g(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return x.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),w=b.prototype;return y.prototype=w,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W","day"],["$M",a],["$y",o],["$D",l]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,b,y),e.$i=!0),y},y.locale=g,y.isDayjs=v,y.unix=function(e){return y(1e3*e)},y.en=p[h],y.Ls=p,y.p={},y},e.exports=t()},223638:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(Error("Failed to load "+this.src),e)}}e.exports=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof n&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async=!("async"in n)||!!n.async,a.src=e,n.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,n.attrs),n.text&&(a.text=""+n.text),("onload"in a?t:function(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}})(a,r),a.onload||t(a,r),i.appendChild(a)}},577518:function(e,t,n){"use strict";let r,i;var a=n(814010),s=n(668609);let o=0,l=0;t.Z=function(e,t,n){let u=t&&n||0,c=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){let t=e.random||(e.rng||a.Z)();null==d&&(d=r=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=i=(t[6]<<8|t[7])&16383)}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1,m=h-o+(p-l)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>o)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,l=p,i=f;let v=((0xfffffff&(h+=122192928e5))*1e4+p)%0x100000000;c[u++]=v>>>24&255,c[u++]=v>>>16&255,c[u++]=v>>>8&255,c[u++]=255&v;let g=h/0x100000000*1e4&0xfffffff;c[u++]=g>>>8&255,c[u++]=255&g,c[u++]=g>>>24&15|16,c[u++]=g>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(let e=0;e<6;++e)c[u+e]=d[e];return t||(0,s.S)(c)}},126544:function(e,t,n){"use strict";let r,i;n.d(t,{KX:function(){return f},W7:function(){return c}});var a=n(185614),s=n.n(a);let o="undefined"!=typeof window,l=e=>{var t,n;return(null!=e?e:"string"==typeof(null===(t=globalThis.navigator)||void 0===t?void 0:t.userAgent))?null===(n=globalThis.navigator)||void 0===n?void 0:n.userAgent:""},u=e=>s().getParser(l(e)).getPlatformType(!0).includes("mobile"),c=e=>(void 0===i&&(i=u(e)),i),d=e=>{if(void 0===r){let t=l(e),n=/iPad|iPhone|iPod/.test(t),i=t.includes("Macintosh")&&o&&"ontouchstart"in document.documentElement;r=n||i}return r},f=e=>c(e)||d(e)},487149:function(e,t,n){"use strict";n.d(t,{$j:function(){return N},pR:function(){return O},s8:function(){return M},po:function(){return u},Jt:function(){return S},wG:function(){return d},WC:function(){return Z},Hi:function(){return f},Xv:function(){return _},$B:function(){return C},L9:function(){return A},im:function(){return P}});var r=n(429996),i=n(187370),a=n(627394);let s=r.createContext({open:!1,setOpen:()=>{},isHoveringMenuContentRef:r.createRef(),updateIsHoveringMenuContent:()=>{}}),o=()=>r.useContext(s);var l=n(126544);function u(e){let{...t}=e,n=(0,l.KX)(),{modal:o,...u}=t,{trigger:c="click"}=t;n&&(c="click");let[d,f]=r.useState(!1),h=r.useRef(!1),p=["contextMenu","hover"].includes(c),m=p?{onOpenChange:e=>{f(e)},open:d}:{},v="hover"!==c&&o;return r.useEffect(()=>{if(p){var e;null==t||null===(e=t.onOpenChange)||void 0===e||e.call(t,d)}},[d]),(0,a.jsx)(s.Provider,{value:{open:d,setOpen:f,isHoveringMenuContentRef:h,updateIsHoveringMenuContent:e=>{h.current=e},trigger:c},children:(0,a.jsx)(i.fC,{"data-slot":"dropdown-menu",modal:v,...u,...m})})}var c=n(966640);function d(e){let{className:t,...n}=e;return(0,a.jsx)(i.__,{"data-slot":"dropdown-menu-label",className:(0,c.cn)(`
          h-30 truncate px-10 pt-8 pb-4
          [font-size:12px]
          leading-18
          [font-weight:500]
          text-dbx-text-tertiary
        `,t),...n})}let f=r.forwardRef(function(e,t){let{className:n,...r}=e;return(0,a.jsx)(i.ck,{"data-slot":"dropdown-menu-item","data-selected":null==r?void 0:r.active,className:(0,c.cn)(`
          h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          leading-30
          [font-weight:400]
          text-dbx-text-primary
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          [&:not([data-disabled])]:hover:cursor-pointer
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,n),ref:t,...r})});var h=n(757658),p=n(461387);let m=(0,p.j)("flex",{variants:{direction:{horizontal:"",vertical:"h-auto py-8"}},defaultVariants:{direction:"horizontal"}}),v=(0,p.j)("mr-8 size-16 flex-shrink-0 text-dbx-text-primary",{variants:{direction:{horizontal:"",vertical:"mt-2 self-start"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),g=(0,p.j)("flex flex-1 truncate leading-22",{variants:{direction:{horizontal:"justify-between",vertical:"flex-col"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),y=(0,p.j)("truncate",{variants:{direction:{horizontal:"h-22 leading-22",vertical:"mb-2 h-20 leading-20"}},defaultVariants:{direction:"horizontal"}}),x=(0,p.j)(`
    truncate
    [font-weight:400]
  `,{variants:{direction:{horizontal:`
          ml-8 max-w-140 min-w-28 items-center text-right
          [font-size:14px]
          leading-22
        `,vertical:`
          flex flex-col
          [font-size:12px]
          leading-18 whitespace-normal
        `},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:"text-dbx-text-tertiary"}},defaultVariants:{direction:"horizontal",themeType:"default"}}),b=(0,p.j)("",{variants:{direction:{horizontal:"",vertical:"flex h-20 items-center self-start"}},defaultVariants:{direction:"horizontal"}}),w=(0,p.j)("",{variants:{direction:{horizontal:"size-14",vertical:"size-16"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),_=e=>{let{icon:t,className:n,children:i,showTick:s=!0,extraInfo:o,classNames:l,extraInfoDirection:u="horizontal",rightNode:d,themeType:p="default",..._}=e,{active:C,disabled:S}=e,M=p;S&&(M="disabled");let Z=(0,r.useMemo)(()=>d||s,[d,s]);return(0,a.jsxs)(f,{className:(0,c.cn)(m({direction:u}),n,null==l?void 0:l.wrapper),..._,children:[t?(0,a.jsx)("div",{className:(0,c.cn)(v({direction:u,themeType:M}),null==l?void 0:l.iconWrapper),children:r.isValidElement(t)?r.cloneElement(t,{width:16,height:16}):t}):null,(0,a.jsxs)("div",{className:(0,c.cn)(g({direction:u,themeType:M}),null==l?void 0:l.middleWrapper),children:[(0,a.jsx)("div",{className:(0,c.cn)(y({direction:u}),null==l?void 0:l.content),children:i}),o?(0,a.jsx)("div",{className:(0,c.cn)(x({direction:u,themeType:M}),null==l?void 0:l.extraInfo),children:o}):null]}),Z?(0,a.jsx)("div",{className:(0,c.cn)(b({direction:u}),o&&"vertical"!==u?"ml-4":"ml-8",null==l?void 0:l.rightNodeWrapper),children:d||(s&&C?(0,a.jsx)(h.s,{className:(0,c.cn)(w({direction:u,themeType:M}))}):null)}):null]})};function C(e){let{className:t,...n}=e;return(0,a.jsx)(i.Z0,{"data-slot":"dropdown-menu-separator",className:(0,c.cn)("mx-8 my-4 h-[0.5px] bg-dbx-line-10",t),...n})}let S=r.forwardRef(function(e,t){let{className:n,sideOffset:r=4,align:s="start",side:l="bottom",collisionPadding:u={top:20,bottom:20,left:20,right:20},onCloseAutoFocus:d=e=>{e.preventDefault()},...f}=e,{trigger:h,updateIsHoveringMenuContent:p,setOpen:m}=o(),v="hover"===h?{onMouseLeave:e=>{var t;null==f||null===(t=f.onMouseLeave)||void 0===t||t.call(f,e),p(!1),m(!1)},onMouseEnter:e=>{var t;null==f||null===(t=f.onMouseEnter)||void 0===t||t.call(f,e),p(!0)}}:{};return(0,a.jsx)(i.VY,{"data-slot":"dropdown-menu-content",onCloseAutoFocus:d,align:s,side:l,sideOffset:r,collisionPadding:u,className:(0,c.cn)(`
          [max-height:min(var(--radix-popper-available-height),480px)]
          max-w-420 min-w-140 overflow-x-hidden overflow-y-auto rounded-dbx-lg
          [border-width:0.5px]
          border-solid border-dbx-line-10 bg-dbx-bg-float p-[3.5px]
          shadow-[0px_2px_4px_0px_rgba(0,0,0,0.02),0px_4px_10px_0px_rgba(0,0,0,0.03),0px_4px_16px_0px_rgba(0,0,0,0.03)]
          data-[side=bottom]:slide-in-from-top-2
          data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2
          data-[side=top]:slide-in-from-bottom-2
          data-[state=closed]:animate-out data-[state=closed]:fade-out-0
          data-[state=closed]:zoom-out-95
          data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95
        `,"custom-scrollbar-style",n),ref:t,...f,...v})});function M(e){let{...t}=e;return(0,a.jsx)(i.Uv,{"data-slot":"dropdown-menu-portal",...t})}function Z(e){let{className:t,sideOffset:n=4,style:r,alignOffset:s=-4,collisionPadding:o={top:20,bottom:20,left:20,right:20},...l}=e;return(0,a.jsx)(i.tu,{collisionPadding:o,alignOffset:s,sideOffset:n,"data-slot":"dropdown-menu-sub-content",style:{...r,"--tw-animation-duration":"300ms"},className:(0,c.cn)(`
          [max-height:min(var(--radix-popper-available-height),480px)]
          max-w-420 min-w-140 overflow-x-hidden overflow-y-auto rounded-dbx-lg
          [border-width:0.5px]
          border-solid border-dbx-line-10 bg-dbx-bg-float p-[3.5px]
          shadow-[0px_2px_4px_0px_rgba(0,0,0,0.02),0px_4px_10px_0px_rgba(0,0,0,0.03),0px_4px_16px_0px_rgba(0,0,0,0.03)]
          data-[side=bottom]:slide-in-from-top-2
          data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2
          data-[side=top]:slide-in-from-bottom-2
          data-[state=closed]:animate-out data-[state=closed]:fade-out-0
          data-[state=closed]:zoom-out-95
          data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95
        `,"custom-scrollbar-style",t),...l})}let T=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M8.15146 4.84874C7.68283 4.38011 7.68283 3.6201 8.15146 3.15147C8.62009 2.68284 9.3801 2.68284 9.84872 3.15147L17.0001 10.3028C17.9373 11.2401 17.9374 12.7601 17.0001 13.6974L9.84873 20.8487L9.7579 20.9308C9.28657 21.3155 8.59091 21.2882 8.15146 20.8487C7.712 20.4093 7.68469 19.7136 8.06943 19.2423L8.15146 19.1515L15.3028 12.0001L8.15146 4.84874Z",fill:"currentColor"}));function O(e){let{className:t,children:n,...r}=e;return(0,a.jsxs)(i.fF,{"data-slot":"dropdown-menu-sub-trigger",className:(0,c.cn)(`
          flex h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          [font-weight:400]
          text-dbx-text-primary
          hover:cursor-pointer
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          data-[state=open]:bg-dbx-fill-trans-10-hover
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,t),...r,children:[n,(0,a.jsx)(T,{className:"ml-auto size-12 text-dbx-text-tertiary"})]})}let I=(0,p.j)("flex",{variants:{direction:{horizontal:"",vertical:"h-auto py-8"}},defaultVariants:{direction:"horizontal"}}),j=(0,p.j)("mr-8 size-16 flex-shrink-0 text-dbx-text-primary",{variants:{direction:{horizontal:"",vertical:"mt-2 self-start"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),E=(0,p.j)("flex flex-1 truncate leading-22",{variants:{direction:{horizontal:"justify-between",vertical:"flex-col"},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),L=(0,p.j)("truncate",{variants:{direction:{horizontal:"h-22 leading-22",vertical:"mb-2 h-20 leading-20"}},defaultVariants:{direction:"horizontal"}}),$=(0,p.j)(`
    truncate
    [font-weight:400]
  `,{variants:{direction:{horizontal:`
          ml-8 max-w-140 min-w-28 items-center text-right
          [font-size:14px]
          leading-22
        `,vertical:`
          flex flex-col
          [font-size:12px]
          leading-18 whitespace-normal
        `},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:"text-dbx-text-tertiary"}},defaultVariants:{direction:"horizontal",themeType:"default"}}),k=(0,p.j)("",{variants:{direction:{horizontal:"",vertical:"flex h-20 items-center self-start"}},defaultVariants:{direction:"horizontal"}}),z=(0,p.j)("size-12 text-dbx-text-tertiary",{variants:{direction:{horizontal:"",vertical:""},themeType:{danger:"text-dbx-function-danger-default",disabled:"text-dbx-text-disable",default:""}},defaultVariants:{direction:"horizontal",themeType:"default"}}),N=e=>{let{icon:t,className:n,children:s,extraInfo:o,classNames:l,extraInfoDirection:u="horizontal",themeType:d="default",...f}=e,{disabled:h}=e,p=d;return h&&(p="disabled"),(0,a.jsxs)(i.fF,{"data-slot":"dropdown-menu-sub-trigger",className:(0,c.cn)(`
          flex h-38 w-full items-center truncate rounded-dbx-sm px-10 py-4
          [font-size:14px]
          [font-weight:400]
          text-dbx-text-primary
          hover:cursor-pointer
          focus:bg-dbx-fill-trans-10-hover focus:outline-none
          data-[disabled]:cursor-not-allowed
          data-[state=open]:bg-dbx-fill-trans-10-hover
          [&:not([data-disabled])]:hover:bg-dbx-fill-trans-10-hover
        `,I({direction:u}),n,null==l?void 0:l.wrapper),...f,children:[t?(0,a.jsx)("div",{className:(0,c.cn)(j({direction:u,themeType:p}),null==l?void 0:l.iconWrapper),children:r.isValidElement(t)?r.cloneElement(t,{width:16,height:16}):t}):null,(0,a.jsxs)("div",{className:(0,c.cn)(E({direction:u,themeType:p}),null==l?void 0:l.middleWrapper),children:[(0,a.jsx)("div",{className:(0,c.cn)(L({direction:u}),null==l?void 0:l.content),children:s}),o?(0,a.jsx)("div",{className:(0,c.cn)($({direction:u,themeType:p}),null==l?void 0:l.extraInfo),children:o}):null]}),(0,a.jsx)("div",{className:(0,c.cn)(k({direction:u}),o&&"vertical"!==u?"ml-4":"ml-8",null==l?void 0:l.rightNodeWrapper),children:(0,a.jsx)(T,{className:(0,c.cn)(z({direction:u,themeType:p}))})})]})},P=r.forwardRef(function(e,t){let{setOpen:n,trigger:r,isHoveringMenuContentRef:s}=o(),l="hover"===r?{onMouseEnter:t=>{var r;null==e||null===(r=e.onMouseEnter)||void 0===r||r.call(e,t),n(!0)},onMouseLeave:t=>{var r;null==e||null===(r=e.onMouseLeave)||void 0===r||r.call(e,t),setTimeout(()=>{!s.current&&n(!1)},100)}}:"contextMenu"===r?{onContextMenu:e=>{e.preventDefault(),n(!0)}}:{};return(0,a.jsx)(i.xz,{"data-slot":"dropdown-menu-trigger",ref:t,...e,...l})});function A(e){let{...t}=e;return(0,a.jsx)(i.Tr,{"data-slot":"dropdown-menu-sub",...t})}i.Eh},214294:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M10.756 7.299a1.245 1.245 0 1 1 2.488 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 16.9a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},539043:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M12 6.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2m-1 9v-4a1 1 0 1 1 0-2h1.004c.55 0 .998.446.999.996q.001 1.503-.001 3.004l-.002 2h.5a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2z",clipRule:"evenodd"})}),{}))},881314:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M1 12c0 6.075 4.925 11 11 11s11-4.925 11-11S18.075 1 12 1 1 5.925 1 12m14.795-2.674a.994.994 0 0 1 1.404.01.994.994 0 0 1 .01 1.404q-2.833 2.827-5.66 5.659a1 1 0 0 1-1.418 0q-1.477-1.479-2.956-2.956a.993.993 0 0 1 .01-1.403.99.99 0 0 1 1.403-.012l2.252 2.252z"})}),{}))},376563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(429996);var r=n(339512),i=n(627394),a=(0,r.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m1.147 17.969 8.5-14.793c1.032-1.835 3.674-1.835 4.706 0l8.5 14.793c1.013 1.8-.288 4.023-2.353 4.023h-17c-2.065 0-3.366-2.223-2.353-4.023m9.61-9.178a1.245 1.245 0 1 1 2.487 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 18.392a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},551450:function(e,t,n){"use strict";n.d(t,{Gu:function(){return h},FN:function(){return f},pJ:function(){return f}}),n(429996);var r=n(669160),i=n.n(r),a=n(775313),s=n(539043),o=n(881314),l=n(376563),u=n(214294),c=n(627394);function d(e){return[{method:"info",icon:(0,c.jsx)(s.Z,{className:"text-18"})},{method:"success",icon:(0,c.jsx)(o.Z,{className:"text-18"})},{method:"warning",icon:(0,c.jsx)(l.Z,{className:"text-18"})},{method:"error",icon:(0,c.jsx)(u.Z,{className:"text-18"})}].forEach(t=>{let{method:n,icon:r}=t,a=e[n];e[n]=t=>{let n=t;return"string"==typeof t&&(n={content:t}),a.call(e,Object.assign({showClose:!1,icon:r},n,{className:i()("samantha-toast",n.className||"")},{theme:"light"}))}}),e}let f=d(a.x.create({zIndex:5e3})),h={create:e=>d(a.x.create(e))}},317774:function(e,t,n){"use strict";var r;n.d(t,{b:function(){return i}});let i=((r={})[r.Unknown=0]="Unknown",r[r.Stream=1]="Stream",r[r.Normal=2]="Normal",r)},775265:function(e,t,n){"use strict";n.d(t,{T5:function(){return l},rP:function(){return f},wG:function(){return d}});var r=n(669384),i=n(41359),a=n(455746),s=n(317774),o=n(972640);let l=e=>{var t,n;return(null==e?void 0:e.content_type)===r.zc.SamanthaAiPodcastOutput||(null==e?void 0:e.content_type)===a.ContentType.Widget&&(null===(t=e.content_obj)||void 0===t?void 0:t.applet_id)===i.K1.Podcast&&(null===(n=e.content_obj)||void 0===n?void 0:n.widget_id)===i.W7.AIPodcast},u=e=>{if(!l(e))return;let t=null==e?void 0:e.content_obj,n=o.Y.parse(null==t?void 0:t.widget_data);return o.Y.parse(null==n?void 0:n.data)},c=e=>{var t,n,r;let i=null==e?void 0:null===(n=e.episodeList)||void 0===n?void 0:null===(t=n.episodes)||void 0===t?void 0:t[0];return(null==i?void 0:null===(r=i.meta)||void 0===r?void 0:r.protocol)===s.b.Normal},d=e=>c(u(e)),f=e=>{let t=u(e);return c(t)?null==t?void 0:t.waiting_reply:void 0}},899149:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r={Share:"Share",Collection:"Collection"}},107599:function(e,t,n){"use strict";n.d(t,{Iy:function(){return p},U$:function(){return m},W2:function(){return g},dB:function(){return w},fT:function(){return y},jw:function(){return f},rD:function(){return b},sX:function(){return h},vf:function(){return x}});var r=n(429996),i=n(344482),a=n(474227),s=n(67864),o=n(468494),l=n(322639),u=n(234761),c=n(279349),d=n(976927);let f=(e,t)=>(0,o.useFeedStore)(n=>(0,l.Xo)((0,u.jo)(n,e),t)),h=e=>(0,o.useFeedStore)(t=>(0,u.jo)(t,e),i.X),p=()=>(0,o.useFeedStore)(u.kB,i.X),m=()=>(0,o.useFeedStore)(e=>e.samanthaBot),v=()=>(0,o.useFeedStore)(u.aG,i.X),g=()=>{let{conversationLinks:e,botConversationIndex:t,...n}=v();return{...n,threadLinks:(0,c.yx)({conversationLinks:e,botConversationIndex:t})}},y=()=>(0,o.useFeedStore)(u.N$,i.X),x=e=>(0,o.useFeedStore)(t=>(0,u.dg)(t,e),i.X),b=e=>{let{setActiveConversation:t}=o.useFeedStore.getState();(0,r.useEffect)(()=>{t(e)},[e])},w=(e,t)=>{let n=d.feedServiceContainer.get("chatBotService");return(0,o.useFeedStore)(r=>{var i;let{bot_id:a=""}=null!==(i=(0,u.jo)(r,e))&&void 0!==i?i:{};t===s.z.Bot&&(a=e);let{bot_conf:o}=(null==n?void 0:n.getBot(a))||{};return o},a.Z)}},561965:function(e,t,n){"use strict";n.d(t,{kD:function(){return M},tC:function(){return O},BR:function(){return E},UD:function(){return S},UQ:function(){return j},Sd:function(){return x},Yc:function(){return b},BF:function(){return _},rM:function(){return Z},rw:function(){return T},gr:function(){return I},aZ:function(){return w},pF:function(){return C}});var r=n(429996),i=n(344482),a=n(627426),s=n(474227),o=n(444614),l=n(148824),u=n(228535),c=n(468494),d=n(900789),f=n(640078),h=n(844108),p=n(530836);let m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.X,n=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(0,p.useMessageStore)(t=>e(t,...r),t)};return n.raw=e,n};var v=n(744947),g=n(63746),y=n(436462);let x=m(v.Hd);m(v.Sm);let b=m(v.C7),w=(e,t)=>{let{updateMessageFeedbackStore:n}=p.useMessageStore.getState(),{liked:i,disliked:l,detail:u,remoteFeedbackType:c,localFeedbackType:f}=(0,p.useMessageStore)(n=>{var r,i;let{feedback:s}=null!==(i=(0,v.K9)(n,e,{isLocalMessage:!1,messageId:t}))&&void 0!==i?i:{},o=null===(r=n.messageFeedbackMap[e])||void 0===r?void 0:r[t],l=(0,a.Z)({...o},{feedback_type:s});return{liked:l.feedback_type===d.nw.Like,disliked:l.feedback_type===d.nw.Unlike,detail:l,remoteFeedbackType:s,localFeedbackType:null==o?void 0:o.feedback_type}},s.Z);return(0,r.useEffect)(()=>{(0,o.Z)(c)||f===c||n({conversationId:e,messageId:t,detail:{feedback_type:c}})},[c]),{liked:i,disliked:l,detail:u}},_=m((e,t)=>e.messageMap[t]||{}),C=m((e,t)=>e.localMessageMap[t]||{}),S=m((e,t,n)=>{var r;if(n)return null===(r=(n.isLocalMessage?e.localMessageMap:e.messageMap)[t])||void 0===r?void 0:r[n.messageId]});m((e,t,n)=>{let r=(0,g.Wi)((0,g.xg)(e,t)),i=[];for(let e of n){let t=r(e);t&&i.push(t)}return i}),m((e,t,n)=>{var r;return n?null===(r=e.localMessageMap[t])||void 0===r?void 0:r[n]:void 0});let M=m((e,t)=>{var n,r;let i=t.conversation_id||"",{regenerateMessageMap:{[i]:a},messageLinkMap:{[i]:s},messageMap:{[i]:o}}=e,c=(()=>{if(!(null==t?void 0:t.reply_id)||!(0,l.bf)(t))return;let n=(0,g.Wi)({localMessageMap:e.localMessageMap[i],messageMap:e.messageMap[i]});return(0,u.qP0)(t)?(0,y.$n)({messageLinks:s,replyId:t.reply_id,getMessage:n}):null==s?void 0:s.filter(e=>{var r;return(null===(r=n(e))||void 0===r?void 0:r.reply_id)===t.reply_id})})(),d=null==t?void 0:t.reply_id,f=t.message_id||"";return{activeRegenerateMessage:(null==c?void 0:c.length)?null==a?void 0:null===(n=a.messageMap)||void 0===n?void 0:n[f]:void 0,regenerateActiveIndex:null==c?void 0:c.findIndex(e=>{let{messageId:n}=e;return n===t.message_id}),isRegenerateTail:(null==c?void 0:null===(r=c[c.length-1])||void 0===r?void 0:r.messageId)===t.message_id,regenerateMessageLinks:c,replyFromMessage:d&&(null==o?void 0:o[d])||void 0}}),Z=m((e,t,n)=>{let r=e.suggestMessageMap[t];return(null==r?void 0:r.replyId)===n?r:void 0}),T=()=>(0,c.useFeedStore)(e=>t=>{(0,h.D)(p.useMessageStore,t||""),e.clearContext(t)},i.X),O=m((e,t)=>e.lastMessageMap[t]),I=(e,t)=>{try{let n=e.messageLinkMap[t],r=n[n.length-1];if(!r)return!0;let i=e.messageMap[t][r.messageId];if(!i)return!0;return!(0,l.zu)(i)}catch(e){return!0}},j=m(I),E=(e,t)=>{let{hasPreprocessTask:n,isLoggedIn:i}=t,{loadMoreMessageList:a}=p.useMessageStore.getState(),s=(0,r.useCallback)(()=>{var t;(null===(t=p.useMessageStore.getState().messageListStatusMap[e])||void 0===t?void 0:t.hasMore)&&a(e,!i,n)},[e,n,i]),{run:o}=(0,f.Z)(s,{trailing:!1,leading:!0,wait:2e3});return{loadMore:o}}},475434:function(e,t,n){"use strict";n.d(t,{p:function(){return _}});var r=n(613993),i=n(231462),a=n(316649),s=n(810197),o=n(69345),l=n(87548),u=n(672697),c=n(669384),d=n(228535),f=n(775265),h=n(93708),p=n(729813),m=n(666396),v=n(455746),g=n(120012),y=n(644367),x=n(436462),b=n(744947);let w=[v.ContentType.Text,v.ContentType.Music,v.ContentType.Video,v.ContentType.Image,v.ContentType.File,v.ContentType.PluginSearchResult,v.ContentType.Composite,v.ContentType.Nested,v.ContentType.CopilotCard,v.ContentType.LyricsToSongMusic,v.ContentType.LyricsToSongLyric,v.ContentType.LyricsToSongsMusic,v.ContentType.PagesCard,v.ContentType.Outline,c.zc.SamanthaText,c.zc.SamanthaMusic,c.zc.SamanthaImageOutput,c.zc.SamanthaSearchCard,c.zc.SamanthaMusicGenOutput,c.zc.SamanthaSearchText,c.zc.SamanthaCodeAssistantInput,c.zc.SamanthaCodeAssistantOutput,c.zc.SamanthaVideoGenerationInput,c.zc.SamanthaVideoGenerationOutput,c.zc.SamanthaWriteArtifactOutput,c.zc.SamanthaWriteOutlineOutput,c.zc.SamanthaWritePagesCardOutput,c.zc.SamanthaBlockSuperTask,c.zc.SamanthaWritingGenerateInput],_=(0,i.Ue)()((0,r.XR)((e,t)=>({scene:void 0,isSelectMode:!1,messageIndexList:[],contentTypeWhiteListInitialized:!1,contentTypeWhiteList:w,preShareId:"",shareToken:"",preMessageIndexList:[],preShareType:g.yw.All,preShareVisibility:g.M7.Default,shareType:g.yw.All,shareActionPosition:"dropdown",shareTitle:"",extraInfo:{},setContentTypeWhiteList:t=>{e({contentTypeWhiteListInitialized:!0,contentTypeWhiteList:t})},enterSelectMode:async n=>{var r,i,a,s,o,l,u,c,d,f,m,v,y,x;let{scene:b,extraInfo:w={},data:_,justUpdateInfo:C}=n,{isSelectMode:S,scene:M}=t();if(S&&b===M&&!C)return;let Z=await (0,h.TB)("chatMessageBoxLayoutStore");Z.getState().updateSendMessageBoxConfig({containerDataAttr:"select-mode"}),Z.getState().updateReceiveMessageBoxConfig({containerDataAttr:"select-mode"}),null===(r=Z.getState().getLayoutSetter())||void 0===r||r.setLayoutAreaInVisible("bottom"),null===(i=Z.getState().getLayoutSetter())||void 0===i||i.setLayoutAreaInVisible("top"),null===(a=Z.getState().getLayoutSetter())||void 0===a||a.setLayoutAreaInVisible("right"),null===(s=Z.getState().getLayoutSetter())||void 0===s||s.setLayoutAreaVisible("left"),e({extraInfo:w,scene:b,isSelectMode:!0,preShareId:(null==_?void 0:_.pre_share_id)||(null==_?void 0:null===(o=_.share_info)||void 0===o?void 0:o.share_id)||"",shareToken:null!==(v=null==_?void 0:_.share_token)&&void 0!==v?v:"",preMessageIndexList:(null==_?void 0:null===(l=_.share_info)||void 0===l?void 0:l.share_status)===2&&null!==(y=null==_?void 0:null===(u=_.share_info)||void 0===u?void 0:u.message_index_list)&&void 0!==y?y:[],preShareType:(null==_?void 0:null===(c=_.share_info)||void 0===c?void 0:c.share_type)||g.yw.All,preShareVisibility:null!==(x=null==_?void 0:null===(d=_.share_info)||void 0===d?void 0:d.share_visibility)&&void 0!==x?x:g.M7.Default,shareType:(null==_?void 0:null===(f=_.share_info)||void 0===f?void 0:f.share_type)||g.yw.All,shareTitle:null==_?void 0:null===(m=_.share_info)||void 0===m?void 0:m.share_name}),p.v.emit("chat.share.select",{scene:b,isSelectMode:!0})},exitSelectMode:async()=>{var n,r,i,a;if(!t().isSelectMode)return;let s=await (0,h.TB)("chatMessageBoxLayoutStore");s.getState().updateSendMessageBoxConfig({containerDataAttr:""}),s.getState().updateReceiveMessageBoxConfig({containerDataAttr:""}),null===(n=s.getState().getLayoutSetter())||void 0===n||n.setLayoutAreaVisible("bottom"),null===(r=s.getState().getLayoutSetter())||void 0===r||r.setLayoutAreaVisible("top"),null===(i=s.getState().getLayoutSetter())||void 0===i||i.setLayoutAreaInVisible("right"),null===(a=s.getState().getLayoutSetter())||void 0===a||a.setLayoutAreaInVisible("left"),e({scene:void 0,isSelectMode:!1,messageIndexList:[],preShareId:"",shareToken:"",preMessageIndexList:[],extraInfo:{}}),p.v.emit("chat.share.select",{scene:void 0,isSelectMode:!1})},toggleMessage:n=>{var r;let{conversationId:i,messageIndex:o,state:l}=n,{messageIndexList:u,getIsCheckboxDisabled:c,findMessageByIndex:d}=t(),f=u.includes(o),h=d({conversationId:i,state:l,messageIndex:o}),p=(0,b.sf)(l,i,null!==(r=null==h?void 0:h.message_id)&&void 0!==r?r:""),[v,...g]=p,y=o===v;if(f)return!y&&g.filter(e=>u.includes(e)).length>1?e({messageIndexList:(0,a.Z)(u,o)}):e({messageIndexList:(0,a.Z)(u,...p)}),t().messageIndexList;if(c({conversationId:i,messageIndex:o,state:l}))return t().messageIndexList;let x=p.filter(e=>!c({conversationId:i,messageIndex:e,state:l}));return u.length+x.length>m.zE?e({messageIndexList:[...u,o].sort((e,t)=>e-t)}):e({messageIndexList:(0,s.Z)([...u,...x]).sort((e,t)=>e-t)}),t().messageIndexList},selectAll:n=>{let{_getSelectAllIndexList:r}=t();return e({messageIndexList:r(n)}),t().messageIndexList},deselectAll:()=>{e({messageIndexList:[]})},findMessageByIndex:e=>{var t,n;let{conversationId:r,state:i,messageIndex:a}=e,s=i.messageMap[r],o=i.messageLinkMap[r];if(!s||!o)return;let l=Number(null===(t=s[null===(n=o[0])||void 0===n?void 0:n.messageId])||void 0===t?void 0:t.index),u=o[a-l];if(u){let e=(0,b.K9)(i,r,u);if((null==e?void 0:e.index)===a)return e}let c=Object.keys(s).find(e=>{var t;return Number(null===(t=s[e])||void 0===t?void 0:t.index)===a});if(c)return s[c]},_getSelectAllIndexList:e=>{var n,r,i,a,s,c;let{conversationId:d,state:f,lastMessageIndex:h}=e,{getIsCheckboxDisabled:p}=t(),m=f.messageMap[d],v=f.messageLinkMap[d];if(!m||!v)return[];let g=Number(null===(n=m[null===(r=v[0])||void 0===r?void 0:r.messageId])||void 0===n?void 0:n.index),y=Number(null===(i=m[null===(a=v[v.length-1])||void 0===a?void 0:a.messageId])||void 0===i?void 0:i.index);return y<v.length&&(y=null!==(c=(0,o.Z)(null===(s=(0,x.MF)(d))||void 0===s?void 0:s.map(e=>Number(e.index))))&&void 0!==c?c:v.length),(0,l.Z)(1,h+1).filter(e=>!(0,u.Z)(e,g,y+1)||!p({conversationId:d,messageIndex:e,state:f}))},getIsSelectAllChecked:e=>{let{messageIndexList:n,_getSelectAllIndexList:r}=t(),i=r(e);return n.length>0&&n.length>=i.length},getIsCheckboxDisabled:e=>{let{conversationId:n,state:r,messageIndex:i}=e,{messageIndexList:a,findMessageByIndex:s,_isMessageDisableSelect:o,contentTypeWhiteList:l}=t();if(a.includes(i))return!1;let u=s({state:r,messageIndex:i,conversationId:n}),c=o(u);if(c){var d;y.k.persist.info({eventName:"thread_share_checkbox_disabled",meta:{messageIndex:null==u?void 0:u.index,messageId:null==u?void 0:u.message_id,messageStatus:null==u?void 0:u.status,messageContentType:null==u?void 0:u.content_type,contentTypeWhiteList:l,isOnboarding:null==u?void 0:null===(d=u.ext)||void 0===d?void 0:d.onboarding,listLength:a.length}})}return c},_isMessageDisableSelect:e=>{var n;let{messageIndexList:r,contentTypeWhiteList:i,contentTypeWhiteListInitialized:a}=t();return a||y.k.persist.info({eventName:"thread_share_checkbox_disabled",meta:{whiteListInit:"0"}}),!!(!e||(0,d.N0s)(e)||(0,d.IEy)(e))||e.status===v.PushMessageStatus.InVisible||(null===(n=e.ext)||void 0===n?void 0:n.onboarding)==="1"||r.length>=m.zE||((0,f.T5)(e)?!(0,f.wG)(e):!(e.content_type&&i.includes(e.content_type)))},updateMessageIndexList:n=>{let{messageIndexList:r,_isMessageDisableSelect:i}=t(),a=[];for(let e of Object.values(n))-1!==r.indexOf(Number(e.index))&&i(e)&&a.push(Number(e.index));e({messageIndexList:r.filter(e=>!a.includes(e))})},setShareType:t=>{e({shareType:t})}})))},592574:function(e,t,n){"use strict";n.d(t,{c:function(){return u},o:function(){return c}});var r=n(429996),i=n(162957),a=n(644367),s=n(231483),o=n(627394);let l=e=>(a.k.persist.error({error:e}),Promise.resolve({ThreadCollectionToolbar:()=>null})),u=(0,i.y)(r.lazy(async()=>{let{ThreadCollectionToolbar:e}=await Promise.all([n.e("34986"),n.e("42694"),n.e("33009"),n.e("86466"),n.e("44116")]).then(n.bind(n,769374)).catch(l);return{default:(0,s.p)(e)}}),()=>(0,o.jsx)(o.Fragment,{})),c=()=>Promise.all([n.e("34986"),n.e("42694"),n.e("33009"),n.e("86466"),n.e("44116")]).then(n.bind(n,769374)).catch(l)},128758:function(e,t,n){"use strict";n.d(t,{F:function(){return c},T:function(){return u}});var r=n(429996),i=n(162957),a=n(644367),s=n(231483);let o=()=>null,l=e=>(a.k.persist.error({error:e}),Promise.resolve({ThreadShareToolbar:o})),u=(0,i.y)(r.lazy(async()=>{let{ThreadShareToolbar:e}=await Promise.all([n.e("34986"),n.e("42694"),n.e("33009"),n.e("86466"),n.e("35722")]).then(n.bind(n,682052)).catch(l);return{default:(0,s.p)(e)}}),o),c=()=>Promise.all([n.e("34986"),n.e("42694"),n.e("33009"),n.e("86466"),n.e("35722")]).then(n.bind(n,682052)).catch(l)},231483:function(e,t,n){"use strict";n.d(t,{p:function(){return d}});var r=n(354187),i=n(474227),a=n(683653),s=n(475434),o=n(448263),l=n(727499),u=n(836031),c=n(627394);let d=e=>function(t){let n=(0,u.T)(),d=(0,o.Z)(n,(e,t)=>!e||!t||e.pathname!==t.pathname||!(0,i.Z)(e.state,t.state)),{exitSelectMode:f}=(0,s.p)(e=>({exitSelectMode:e.exitSelectMode}),r.X);return(0,l.Z)(()=>{var e;(0,a.Z)(["chat_item_menu_share","chat_item_menu_collection"],null===(e=n.state)||void 0===e?void 0:e.enter_from)||f()},[d]),(0,c.jsx)(e,{...t||{}})}},510564:function(e,t,n){"use strict";n.d(t,{DU:function(){return p},u7:function(){return h},w9:function(){return m}});var r=n(354187),i=n(342617),a=n(497199),s=n(988474),o=n(475434),l=n(530836),u=n(107599),c=n(886421),d=n(636674),f=n(120012);let h=e=>{var t;let n=(0,u.sX)(e),{extraInfo:i,messageIndexList:a,shareType:s}=(0,o.p)(e=>({extraInfo:e.extraInfo,messageIndexList:e.messageIndexList,shareType:e.shareType}),r.X);return{bot_id:null==n?void 0:n.bot_id,conversation_id:e,conversation_type:null==n?void 0:n.conversation_type,chat_type:(0,c.yT)("",null==n?void 0:n.conversation_id)||"other_default",content_type:"chat",entrance_type:null!==(t=null==i?void 0:i.entranceType)&&void 0!==t?t:"",share_thread_cnt:a.length,whether_allow_pdf:+(s===f.yw.All)}},p=e=>{var t;let n=(0,u.sX)(e),{extraInfo:h,messageIndexList:p,shareType:m,findMessageByIndex:v}=(0,o.p)(e=>({extraInfo:e.extraInfo,messageIndexList:e.messageIndexList,shareType:e.shareType,findMessageByIndex:e.findMessageByIndex}),r.X),g={bot_id:null==n?void 0:n.bot_id,conversation_id:e,conversation_type:null==n?void 0:n.conversation_type,chat_type:(0,c.yT)("",null==n?void 0:n.conversation_id)||"other_default",content_type:"chat",entrance_type:null!==(t=null==h?void 0:h.entranceType)&&void 0!==t?t:"",share_thread_cnt:p.length,whether_allow_pdf:+(m===f.yw.All)},y=(0,i.Z)(p,t=>v({conversationId:null!=e?e:"",state:l.useMessageStore.getState(),messageIndex:t})),x={message_id_list:[],super_task_id_list:[],super_task_mode_list:[]};(0,a.Z)(y,e=>{var t,n,r,i;let a=(null==e?void 0:null===(t=e.skill)||void 0===t?void 0:t.skill_type)===d.SkillType.DesExtSkillSuperTask;(null==e?void 0:e.message_id)&&x.message_id_list.push(e.message_id),a&&(null==e?void 0:null===(n=e.async_task)||void 0===n?void 0:n.id)&&x.super_task_id_list.push(e.async_task.id),a&&x.super_task_mode_list.push((null==e?void 0:null===(i=e.verbose)||void 0===i?void 0:null===(r=i.super_task)||void 0===r?void 0:r.supertask_task_type)==="0"?"search_task":"complex_task")});let b=e=>0===e.length?void 0:1===e.length?e[0]:e.join(","),w=b((0,s.Z)(x.message_id_list)),_=b((0,s.Z)(x.super_task_id_list)),C=b((0,s.Z)(x.super_task_mode_list));return{...g,...(()=>{let e={};return _&&(e.super_task_id=_),C&&(e.super_task_mode=C),w&&(e.message_id=w),e})()}},m=e=>{var t;let n=(0,u.sX)(e),{extraInfo:i,messageIndexList:a}=(0,o.p)(e=>({extraInfo:e.extraInfo,messageIndexList:e.messageIndexList}),r.X);return{bot_id:null==n?void 0:n.bot_id,conversation_id:e,conversation_type:null==n?void 0:n.conversation_type,chat_type:(0,c.yT)("",null==n?void 0:n.conversation_id)||"other_default",content_type:"chat",entrance_type:null!==(t=null==i?void 0:i.entranceType)&&void 0!==t?t:"",share_thread_cnt:a.length}}},690737:function(e,t,n){"use strict";n.d(t,{CP:function(){return m},IJ:function(){return g},bg:function(){return p}});var r=n(558882),i=n(67939),a=n(636674),s=n(398976),o=n(145874),l=n(51679),u=n(120012),c=n(551450),d=n(967037);class f extends Error{constructor(e){super(e),this.name="RequestParamError"}}let h=e=>/^w?\w+$/.test(e),p=e=>e?e.startsWith("w")?"web":e.startsWith("c")?"web_collection":e.startsWith("d")?"desktop":"mobile":void 0,m=async(e,t)=>{var n,l;let u=(0,d.zQ)({eventName:"get_thread_share_info"});if(!e)return c.FN.error({content:t("notification_system_error_toast"),showClose:!1,theme:"light"}),u.error({reason:"GetThreadShareInfo empty conversationId"}),{allowShare:!1};let f=(0,i.q)(e);try{let{code:i,data:s}=await (await (0,r.E)()).getThreadShareInfo(f?{thread_id:f,conversation_id:e}:{conversation_id:e});if((null==s?void 0:null===(n=s.share_info)||void 0===n?void 0:n.review_status)===a.ReviewStatus.Reject)return c.FN.error({content:t("share_compliance_failed"),showClose:!1,theme:"light"}),u.success({meta:{review_status:a.ReviewStatus.Reject}}),{allowShare:!1};return u.success({meta:{code:i}}),{data:s,allowShare:!0}}catch(e){if((0,s.k)(e)&&Number(null==e?void 0:null===(l=e.errorOption)||void 0===l?void 0:l.code)===o.S.CONVERSATION_MESSAGE_OVER_LIMIT)return c.FN.error({content:t("share_preview_error_exceedlimit"),showClose:!1,theme:"light"}),u.success({meta:{code:o.S.CONVERSATION_MESSAGE_OVER_LIMIT}}),{allowShare:!1};return c.FN.error({content:t("notification_system_error_toast"),showClose:!1,theme:"light"}),u.error({reason:"GetThreadShareInfo failed",error:e}),{allowShare:!1}}},v=e=>{let{shareId:t,isMobileShareId:n,isWebCollectionShareId:r,isDesktopShareId:i}=e;if(!h(t))throw new f(`[GetThreadShareSnapshot] shareId not valid ${t}`);return n?l.kz.GetMessageShareInfo({share_id:t},{overrideParams:{samantha_web:0}}):r?l.mH.GetThreadCollectionShareMessages({share_id:t,need_bot:!1}):i?l.mH.GetBookmarkConversationShareSnap({share_id:t,need_bot:!1}):l.mH.GetThreadShareSnapshot({share_id:t,need_bot:!1})},g=async e=>{var t,n;let{shareId:r}=e,i=p(r),a="mobile"===i,s="web_collection"===i,o="desktop"===i,{data:l}=await v({shareId:r,isMobileShareId:a,isWebCollectionShareId:s,isDesktopShareId:o});if(!l)throw Error("[GetThreadShareSnapshot] client empty data");let c=(null===(t=l.share_info)||void 0===t?void 0:t.share_status)===u._h.Succeed,d=c?l:{status:null===(n=l.share_info)||void 0===n?void 0:n.share_status,share_info:l.share_info};return{isMobileShareId:a,isWebCollectionShareId:s,isDesktopShareId:o,shareStatusSucceed:c,data:d}}},757658:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(429996);let i=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M21.0082 6.43261C21.3244 6.12129 21.8347 6.12303 22.1487 6.43652C22.4627 6.75002 22.4609 7.25605 22.1447 7.56738L11.3999 18.1475C10.8493 18.6896 9.96103 18.6896 9.41046 18.1475L2.85521 11.6924C2.53906 11.381 2.53731 10.875 2.85127 10.5615C3.1457 10.2675 3.6129 10.2475 3.93068 10.5029L3.99175 10.5576L10.4052 16.8721L21.0082 6.43261Z",fill:"currentColor"}))},731762:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(429996);let i=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M10.984 3.70018C11.2922 3.21147 11.8545 2.94335 12.4283 3.01072C12.8587 3.0615 13.3781 3.48147 14.4166 4.32029L20.8639 9.52733C21.7406 10.2355 22.1793 10.5901 22.3746 10.999C22.6348 11.544 22.6349 12.1776 22.3746 12.7226L22.2896 12.874C22.0628 13.2254 21.6311 13.5746 20.8639 14.1943L14.4166 19.4013L13.7281 19.9521C13.1237 20.4265 12.7511 20.6729 12.4283 20.7109L12.3209 20.7187C11.8209 20.7414 11.3412 20.5134 11.0445 20.1103L10.984 20.0215C10.8106 19.7466 10.7681 19.3013 10.7574 18.5322L10.7535 17.6494V15.8613C7.63112 16.1174 5.27672 17.2117 3.5787 19.4883L2.98105 20.2783C2.83553 20.4627 2.73788 20.5727 2.67148 20.6191L2.55917 20.6875C2.02573 20.9726 1.39093 20.7383 1.17148 20.1748L1.13144 20.0498C1.11116 19.9714 1.10615 19.859 1.11093 19.6943L1.14999 19.0234C1.54788 13.1935 4.9409 8.11556 10.7535 7.8701V6.06834C10.7535 4.73462 10.753 4.06686 10.984 3.70018ZM12.3531 9.4033L10.8209 9.46775C6.54598 9.64829 3.64178 13.0781 2.89804 17.792C4.87317 15.5746 7.48515 14.5239 10.6226 14.2666L12.3531 14.124V17.6494C12.3531 18.2672 12.3553 18.6744 12.3717 18.9717C12.6128 18.798 12.9306 18.544 13.4107 18.1562L19.858 12.9492C20.315 12.5801 20.5901 12.3564 20.7809 12.1777C20.8725 12.0918 20.9172 12.0416 20.9351 12.0195C20.9796 11.9175 20.9796 11.8029 20.9351 11.7012C20.9172 11.6791 20.8725 11.6289 20.7809 11.5429C20.5901 11.3643 20.315 11.1406 19.858 10.7715L13.4107 5.56443C12.9303 5.17639 12.6129 4.92174 12.3717 4.74803C12.3553 5.04458 12.3531 5.45148 12.3531 6.06834V9.4033Z",fill:"currentColor"}))},349504:function(e,t,n){"use strict";var r=n(633906);t.Z=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var s=e[i],o=t(s);if(null!=o&&(void 0===l?o==o&&!(0,r.Z)(o):n(o,l)))var l=o,u=s}return u}},89190:function(e,t,n){"use strict";var r=n(824915);t.Z=function(e,t){var n=[];return(0,r.Z)(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},210428:function(e,t){"use strict";t.Z=function(e,t){return e>t}},268059:function(e,t,n){"use strict";var r=n(824915),i=n(734420);t.Z=function(e,t){var n=-1,a=(0,i.Z)(e)?Array(e.length):[];return(0,r.Z)(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},234401:function(e,t){"use strict";t.Z=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},509087:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(921097),i=n(594175),a=n(510722),s=n(234401),o=n(603378),l=function(e,t){var n,l;return t=(0,r.Z)(t,e),n=e,null==(e=(l=t).length<2?n:(0,a.Z)(n,(0,s.Z)(l,0,-1)))||delete e[o.Z(i.Z(t))]}},796004:function(e,t,n){"use strict";var r=n(477404);t.Z=function(e,t){return(0,r.Z)(t,function(t){return e[t]})}},491383:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(r,s,n(s),e)}return r},i=n(824915),a=function(e,t,n,r){return(0,i.Z)(e,function(e,i,a){t(r,e,n(e),a)}),r},s=n(348344),o=n(511451),l=function(e,t){return function(n,i){var l=(0,o.Z)(n)?r:a,u=t?t():{};return l(n,e,(0,s.Z)(i,2),u)}}},282564:function(e,t,n){"use strict";var r=n(348344),i=n(734420),a=n(445863);t.Z=function(e){return function(t,n,s){var o=Object(t);if(!(0,i.Z)(t)){var l=(0,r.Z)(n,3);t=(0,a.Z)(t),n=function(e){return l(o[e],e,o)}}var u=e(t,n,s);return u>-1?o[l?t[u]:u]:void 0}}},164303:function(e,t,n){"use strict";var r=n(718609),i=n(268327),a=n(305144),s=n(734420),o=n(928448),l=n(445863),u=Object.prototype.hasOwnProperty,c=(0,a.Z)(function(e,t){if((0,o.Z)(t)||(0,s.Z)(t)){(0,i.Z)(t,(0,l.Z)(t),e);return}for(var n in t)u.call(t,n)&&(0,r.Z)(e,n,t[n])});t.Z=c},622551:function(e,t,n){"use strict";var r=n(268327),i=n(305144),a=n(445863),s=(0,i.Z)(function(e,t,n,i){(0,r.Z)(t,(0,a.Z)(t),e,i)});t.Z=s},721219:function(e,t,n){"use strict";var r=n(511451);t.Z=function(){if(!arguments.length)return[];var e=arguments[0];return(0,r.Z)(e)?e:[e]}},988474:function(e,t){"use strict";t.Z=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}},713273:function(e,t,n){"use strict";var r=n(740480),i=n(89190),a=n(348344),s=n(511451);t.Z=function(e,t){return((0,s.Z)(e)?r.Z:i.Z)(e,(0,a.Z)(t,3))}},871987:function(e,t,n){"use strict";var r=n(282564),i=n(746821),a=(0,r.Z)(i.Z);t.Z=a},746821:function(e,t,n){"use strict";var r=n(910198),i=n(348344),a=n(634145),s=Math.max;t.Z=function(e,t,n){var o=null==e?0:e.length;if(!o)return -1;var l=null==n?0:(0,a.Z)(n);return l<0&&(l=s(o+l,0)),(0,r.Z)(e,(0,i.Z)(t,3),l)}},260325:function(e,t,n){"use strict";var r=n(282564),i=n(563323),a=(0,r.Z)(i.Z);t.Z=a},563323:function(e,t,n){"use strict";var r=n(910198),i=n(348344),a=n(634145),s=Math.max,o=Math.min;t.Z=function(e,t,n){var l=null==e?0:e.length;if(!l)return -1;var u=l-1;return void 0!==n&&(u=(0,a.Z)(n),u=n<0?s(l+u,0):o(u,l-1)),(0,r.Z)(e,(0,i.Z)(t,3),u,!0)}},567336:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=Object.prototype.hasOwnProperty,i=function(e,t){return null!=e&&r.call(e,t)},a=n(891455),s=function(e,t){return null!=e&&(0,a.Z)(e,t,i)}},672697:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=Math.max,i=Math.min,a=n(101823),s=n(637825),o=function(e,t,n){var o,l,u;return t=(0,a.Z)(t),void 0===n?(n=t,t=0):n=(0,a.Z)(n),(o=e=(0,s.Z)(e))>=i(l=t,u=n)&&o<r(l,u)}},683653:function(e,t,n){"use strict";var r=n(173619),i=n(734420),a=n(477041),s=n(634145),o=n(508830),l=Math.max;t.Z=function(e,t,n,u){e=(0,i.Z)(e)?e:(0,o.Z)(e),n=n&&!u?(0,s.Z)(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),(0,a.Z)(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&(0,r.Z)(e,t,n)>-1}},828652:function(e,t,n){"use strict";var r=n(521167),i=n(770532);t.Z=function(e){return!0===e||!1===e||(0,i.Z)(e)&&"[object Boolean]"==(0,r.Z)(e)}},31497:function(e,t,n){"use strict";var r=n(408065),i=(0,n(491383).Z)(function(e,t,n){(0,r.Z)(e,n,t)});t.Z=i},342617:function(e,t,n){"use strict";var r=n(477404),i=n(348344),a=n(268059),s=n(511451);t.Z=function(e,t){return((0,s.Z)(e)?r.Z:a.Z)(e,(0,i.Z)(t,3))}},69345:function(e,t,n){"use strict";var r=n(349504),i=n(210428),a=n(129144);t.Z=function(e){return e&&e.length?(0,r.Z)(e,a.Z,i.Z):void 0}},963729:function(e,t,n){"use strict";var r=n(349504),i=n(210428),a=n(348344);t.Z=function(e,t){return e&&e.length?(0,r.Z)(e,(0,a.Z)(t,2),i.Z):void 0}},327386:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(477404),i=n(497182),a=n(509087),s=n(921097),o=n(268327),l=n(194711),u=function(e){return(0,l.Z)(e)?void 0:e},c=n(29787),d=n(71810),f=(0,c.Z)(function(e,t){var n={};if(null==e)return n;var l=!1;t=(0,r.Z)(t,function(t){return t=(0,s.Z)(t,e),l||(l=t.length>1),t}),(0,o.Z)(e,(0,d.Z)(e),n),l&&(n=(0,i.Z)(n,7,u));for(var c=t.length;c--;)(0,a.Z)(n,t[c]);return n})},87548:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=Math.ceil,i=Math.max,a=function(e,t,n,a){for(var s=-1,o=i(r((t-e)/(n||1)),0),l=Array(o);o--;)l[a?o:++s]=e,e+=n;return l},s=n(173581),o=n(101823),l=function(e,t,n){return n&&"number"!=typeof n&&(0,s.Z)(e,t,n)&&(t=n=void 0),e=(0,o.Z)(e),void 0===t?(t=e,e=0):t=(0,o.Z)(t),n=void 0===n?e<t?1:-1:(0,o.Z)(n),a(e,t,n,void 0)}},817835:function(e,t,n){"use strict";var r=n(845027);t.Z=function(e,t,n){return null==e?e:(0,r.Z)(e,t,n)}},156634:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(259389),i=n(348344),a=n(824915),s=function(e,t){var n;return(0,a.Z)(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},o=n(511451),l=n(173581),u=function(e,t,n){var a=(0,o.Z)(e)?r.Z:s;return n&&(0,l.Z)(e,t,n)&&(t=void 0),a(e,(0,i.Z)(t,3))}},211959:function(e,t,n){"use strict";var r=n(883566),i=n(348344),a=n(219291),s=n(923583),o=n(773047),l=n(594175),u=(0,a.Z)(function(e){var t=(0,l.Z)(e);return(0,o.Z)(t)&&(t=void 0),(0,s.Z)((0,r.Z)(e,1,o.Z,!0),(0,i.Z)(t,2))});t.Z=u},508830:function(e,t,n){"use strict";var r=n(796004),i=n(445863);t.Z=function(e){return null==e?[]:(0,r.Z)(e,(0,i.Z)(e))}},107526:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r,i,a,s,o,l,u,c,d,f,h,p,m,v,g,y,x,b,w,_,C,S,M,Z,T,O,I,j=n(537065);class E extends Error{constructor(e){super(e),this.name="TimeoutError"}}class L extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}let $=e=>void 0===globalThis.DOMException?new L(e):new DOMException(e),k=e=>{let t=void 0===e.reason?$("This operation was aborted."):e.reason;return t instanceof Error?t:$(t)};var z=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class N{constructor(){r.set(this,[])}enqueue(e,t){let n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&z(this,r,"f")[this.size-1].priority>=t.priority){z(this,r,"f").push(n);return}let i=function(e,t,n){let r=0,i=e.length;for(;i>0;){let a=Math.trunc(i/2),s=r+a;0>=n(e[s],t)?(r=++s,i-=a+1):i=a}return r}(z(this,r,"f"),n,(e,t)=>t.priority-e.priority);z(this,r,"f").splice(i,0,n)}dequeue(){let e=z(this,r,"f").shift();return null==e?void 0:e.run}filter(e){return z(this,r,"f").filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return z(this,r,"f").length}}r=new WeakMap;var P=function(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},A=function(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class D extends Error{}class R extends j.Z{constructor(e){var t,n,r,x;if(super(),i.add(this),a.set(this,void 0),s.set(this,void 0),o.set(this,0),l.set(this,void 0),u.set(this,void 0),c.set(this,0),d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,0),v.set(this,void 0),g.set(this,void 0),y.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:N,...e}).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(x=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==x?x:""}\` (${typeof e.interval})`);P(this,a,e.carryoverConcurrencyCount,"f"),P(this,s,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),P(this,l,e.intervalCap,"f"),P(this,u,e.interval,"f"),P(this,h,new e.queueClass,"f"),P(this,p,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,P(this,y,!0===e.throwOnTimeout,"f"),P(this,g,!1===e.autoStart,"f")}get concurrency(){return A(this,v,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);P(this,v,e,"f"),A(this,i,"m",T).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:A(this,y,"f"),...t},new Promise((n,r)=>{A(this,h,"f").enqueue(async()=>{var a,s,l;P(this,m,(s=A(this,m,"f"),++s),"f"),P(this,o,(l=A(this,o,"f"),++l),"f");try{if(null===(a=t.signal)||void 0===a?void 0:a.aborted)throw new D("The task was aborted.");let r=e({signal:t.signal});t.timeout&&(r=function(e,t,n,r){let i;let a=new Promise((a,s)=>{if("number"!=typeof t||1!==Math.sign(t))throw TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t===Number.POSITIVE_INFINITY){a(e);return}if((r={customTimers:{setTimeout,clearTimeout},...r}).signal){let{signal:e}=r;e.aborted&&s(k(e)),e.addEventListener("abort",()=>{s(k(e))})}i=r.customTimers.setTimeout.call(void 0,()=>{let r=`Promise timed out after ${t} milliseconds`,i=n instanceof Error?n:new E(r);"function"==typeof e.cancel&&e.cancel(),s(i)},t),(async()=>{try{a(await e)}catch(e){s(e)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()});return a.clear=()=>{clearTimeout(i),i=void 0},a}(Promise.resolve(r),t.timeout)),t.signal&&(r=Promise.race([r,A(this,i,"m",O).call(this,t.signal)]));let s=await r;n(s),this.emit("completed",s)}catch(e){if(e instanceof E&&!t.throwOnTimeout){n();return}r(e),this.emit("error",e)}finally{A(this,i,"m",w).call(this)}},t),this.emit("add"),A(this,i,"m",S).call(this)})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return A(this,g,"f")&&(P(this,g,!1,"f"),A(this,i,"m",T).call(this)),this}pause(){P(this,g,!0,"f")}clear(){P(this,h,new(A(this,p,"f")),"f")}async onEmpty(){0!==A(this,h,"f").size&&await A(this,i,"m",I).call(this,"empty")}async onSizeLessThan(e){!(A(this,h,"f").size<e)&&await A(this,i,"m",I).call(this,"next",()=>A(this,h,"f").size<e)}async onIdle(){(0!==A(this,m,"f")||0!==A(this,h,"f").size)&&await A(this,i,"m",I).call(this,"idle")}get size(){return A(this,h,"f").size}sizeBy(e){return A(this,h,"f").filter(e).length}get pending(){return A(this,m,"f")}get isPaused(){return A(this,g,"f")}}a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,v=new WeakMap,g=new WeakMap,y=new WeakMap,i=new WeakSet,x=function(){return A(this,s,"f")||A(this,o,"f")<A(this,l,"f")},b=function(){return A(this,m,"f")<A(this,v,"f")},w=function(){var e;P(this,m,(e=A(this,m,"f"),--e),"f"),A(this,i,"m",S).call(this),this.emit("next")},_=function(){A(this,i,"m",Z).call(this),A(this,i,"m",M).call(this),P(this,f,void 0,"f")},C=function(){let e=Date.now();if(void 0===A(this,d,"f")){let t=A(this,c,"f")-e;if(!(t<0))return void 0===A(this,f,"f")&&P(this,f,setTimeout(()=>{A(this,i,"m",_).call(this)},t),"f"),!0;P(this,o,A(this,a,"f")?A(this,m,"f"):0,"f")}return!1},S=function(){if(0===A(this,h,"f").size)return A(this,d,"f")&&clearInterval(A(this,d,"f")),P(this,d,void 0,"f"),this.emit("empty"),0===A(this,m,"f")&&this.emit("idle"),!1;if(!A(this,g,"f")){let e=!A(this,i,"a",C);if(A(this,i,"a",x)&&A(this,i,"a",b)){let t=A(this,h,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&A(this,i,"m",M).call(this),!0)}}return!1},M=function(){!A(this,s,"f")&&void 0===A(this,d,"f")&&(P(this,d,setInterval(()=>{A(this,i,"m",Z).call(this)},A(this,u,"f")),"f"),P(this,c,Date.now()+A(this,u,"f"),"f"))},Z=function(){0===A(this,o,"f")&&0===A(this,m,"f")&&A(this,d,"f")&&(clearInterval(A(this,d,"f")),P(this,d,void 0,"f")),P(this,o,A(this,a,"f")?A(this,m,"f"):0,"f"),A(this,i,"m",T).call(this)},T=function(){for(;A(this,i,"m",S).call(this););},O=async function(e){return new Promise((t,n)=>{e.addEventListener("abort",()=>{n(new D("The task was aborted."))},{once:!0})})},I=async function(e,t){return new Promise(n=>{let r=()=>{(!t||t())&&(this.off(e,r),n())};this.on(e,r)})}}}]);
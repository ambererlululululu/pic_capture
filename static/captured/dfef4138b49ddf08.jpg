"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["31462"],{689368:function(e,t,n){n.d(t,{getChatCanvasPlugin:function(){return z},getChatMessageLifeCyclePlugin:function(){return T},getChatProtocolPlugin:function(){return _},getChatProtocolTransformPlugin:function(){return x},getChatReceiveMessageContentBlockMergePlugin:function(){return Y},getChatReceiveMessageContentBlockResolvePlugin:function(){return $},getDeprecatedInputPlugin:function(){return R},getInputEventsPlugin:function(){return H},getLauncherDataLoaderPlugin:function(){return Z},getMessageCmdPluginList:function(){return U},getMessageErrorPluginList:function(){return J},getPluginIdetifierListByType:function(){return m},getSkillBarItemPlugin:function(){return A},useChatCanvasPlugin:function(){return Q},useChatFooterDisclaimerPlugin:function(){return D},useChatFooterPlugin:function(){return b},useChatHeaderPlugin:function(){return q},useChatHeaderToolButtonPlugin:function(){return ee},useChatMessageListBottomBtnPlugin:function(){return O},useChatReceiveMessageActionBottomPlugin:function(){return ep},useChatReceiveMessageActionButtonPlugin:function(){return eh},useChatReceiveMessageActionRightPlugin:function(){return eC},useChatReceiveMessageBoxBottomPlugin:function(){return es},useChatReceiveMessageBoxLeftPlugin:function(){return ea},useChatReceiveMessageBoxPlugin:function(){return k},useChatReceiveMessageBoxRightPlugin:function(){return eg},useChatReceiveMessageBoxTopPlugin:function(){return ec},useChatReceiveMessageContentBlockPlugin:function(){return X},useChatReceiveMessageGroupBottomPlugin:function(){return en},useChatReceiveMessageGroupPlugin:function(){return eu},useChatReceiveMessageSuggestPlugin:function(){return et},useChatSendMessageActionButtonPlugin:function(){return ev},useChatSendMessageBoxBottomPlugin:function(){return er},useChatSendMessageBoxLeftPlugin:function(){return ei},useChatSendMessageBoxPlugin:function(){return w},useChatSendMessageBoxRightPlugin:function(){return eo},useChatSendMessageBoxTopPlugin:function(){return el},useChatShareReceiveMessageBoxPlugin:function(){return eP},useChatShareReceiveMessageContentBlockPlugin:function(){return ed},useChatShareSendMessageBoxPlugin:function(){return ef},useDeprecatedInputPlugin:function(){return S},useFeedListItemMenuOptionPlugin:function(){return W},useFeedListItemToolButtonPlugin:function(){return V},useGuidanceCardPluginList:function(){return L},useGuidanceInputPlugin:function(){return E},useGuidancePlugin:function(){return y},useGuidanceSuggestionsPlugin:function(){return G},useInputToolButtonPlugin:function(){return j},useMessageListLifeCyclePluginList:function(){return N},useSidebarApplicationPluginList:function(){return K},useSkillBarItemPlugin:function(){return I},useSkillBarPlugin:function(){return F}});var u=n(713738),i=n(427184),r=n(942026),o=n(178230),l=n(251303),a=n(874143),s=n(436531);let g=e=>(t,n)=>{let{pluginContainerMap:u}=(0,s.getCurrentResourceController)();u[e]||(u[e]=new a.Container);let i=u[e],r="symbol"==typeof t?t:t.toString();!i.isBound(r)&&((0,l.isClassContructor)(n),i.bind(r,n))},c=e=>t=>{let{pluginContainerMap:n}=(0,s.getCurrentResourceController)(),u=n[e],i="symbol"==typeof t?t:t.toString();if(null==u?void 0:u.isBound(i))return u.get(i)},P=e=>t=>{if(!t)return;let{resourceStore:n}=(0,s.getCurrentResourceController)(),u=n.getState()[e];return null==u?void 0:u[t]},f=(e,t)=>{if(!t)return;let n=c(e)(t);if(n)return(0,l.isClassContructor)(n)?new n:n},d=e=>async t=>{if(!t)return;let n=f(e,t);if(n)return n;{let n=c(e),u=P(e)(t),i=await (null==u?void 0:u.load());if(!i)return;g(e)(t,i);let r=n(t);return(0,l.isClassContructor)(r)?new r:r}},h=(e,t)=>{let n=P(e)(t),u=null==n?void 0:n.load(),i=u&&!(u instanceof Promise);if(i&&t){g(e)(t,u);let n=c(e)(t);return{plugin:(0,l.isClassContructor)(n)?new n:n,isSyncPlugin:i}}return{plugin:void 0,isSyncPlugin:i}},v=e=>t=>{var n,r,l,a;let[s,g]=(0,u.useState)(()=>{let n={};if(!t)return n;let u=f(e,t);return n[t]={plugin:u,done:!!u,error:void 0},n}),{plugin:c,isSyncPlugin:P}=h(e,t);return((0,u.useEffect)(()=>{var n;let u=!1;if(t&&!P&&(null===(n=s[t])||void 0===n||!n.plugin))return(async()=>{try{let n=await d(e)(t);if(u){g(e=>({...e,[t]:{done:!0}}));return}g(e=>({...e,[t]:{plugin:n,done:!0}}))}catch(n){if(u){g(e=>({...e,[t]:{done:!0}}));return}(0,i.default)(n)&&"ChunkLoadError"===n.name&&o.logger.persist.error({message:"load plugin failed",error:Error("ioc_plugin_load_chunk_error"),eventName:"react_error_collection",meta:{reportJsError:!0,plugin_type:e,plugin_identifier:t,ori_error_msg:n.message}}),g(e=>({...e,[t]:{error:n,done:!0}}))}})(),()=>{u=!0}},[t]),c)?{plugin:c,loading:!1}:{plugin:null===(n=s[t])||void 0===n?void 0:n.plugin,loading:!(null!==(a=null===(r=s[t])||void 0===r?void 0:r.done)&&void 0!==a&&a),error:null===(l=s[t])||void 0===l?void 0:l.error}},p=(e,t)=>{if(!t.length)return[];let n=c(e),u=t.map(e=>n(e));return u.every(e=>void 0!==e)?u.map(e=>(0,l.isClassContructor)(e)?new e:e):[]},C=e=>async t=>{if(!t.length)return[];let n=p(e,t);if(n.length===t.length&&n.every(e=>void 0!==e))return n;{let n=c(e),u=t.map(t=>P(e)(t)),i=await Promise.all(u.map(e=>null==e?void 0:e.load()));for(let n=0;n<t.length;n++){let u=i[n],r=t[n];u&&g(e)(r,u)}return t.map(e=>{let t=n(e);return(0,l.isClassContructor)(t)?new t:t})}},B=(e,t)=>{let n=t.map(t=>P(e)(t)).map(e=>null==e?void 0:e.load()).map((n,u)=>{let i=t[u],r=n&&!(n instanceof Promise);r&&g(e)(t[u],n);let o=c(e)(i);return{plugin:(0,l.isClassContructor)(o)?new o:o,isSyncPlugin:r}});return n.every(e=>e.isSyncPlugin)?{pluginList:n.map(e=>e.plugin),isSyncPluginList:!0}:{pluginList:[],isSyncPluginList:!1}},M=e=>t=>{var n,l,a,s;let[g,c]=(0,u.useState)(()=>{let n=p(e,t),u=new Map;return(null==t?void 0:t.length)&&u.set(t,{done:n.every(e=>void 0!==e),error:void 0,pluginList:p(e,t)}),u}),P=[...g.keys()].find(e=>(0,r.default)(e,t,(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n])))||t,{pluginList:f,isSyncPluginList:d}=B(e,P);return((0,u.useEffect)(()=>{var t,n;let u=!1;if((null==P?void 0:P.length)&&!d&&(null===(n=g.get(P))||void 0===n||null===(t=n.pluginList)||void 0===t||!t.length))return(async()=>{try{let t=await C(e)(P);if(u){c(e=>{let t=new Map(e);return t.set(P,{done:!0}),t});return}c(e=>{let n=new Map(e);return n.set(P,{pluginList:t,done:!0}),n})}catch(t){if(u){c(e=>{let t=new Map(e);return t.set(P,{done:!0}),t});return}(0,i.default)(t)&&"ChunkLoadError"===t.name&&o.logger.persist.error({message:"load plugin failed",error:Error("ioc_plugin_load_chunk_error"),eventName:"react_error_collection",meta:{reportJsError:!0,plugin_type:e,plugin_identifier_list:P.map(e=>e.toString()),ori_error_msg:t.message}}),c(e=>{let n=new Map(e);return n.set(P,{error:t,done:!0}),n})}})(),()=>{u=!0}},[P]),null==f?void 0:f.length)?{pluginList:f,loading:!1}:{pluginList:(null===(n=g.get(P))||void 0===n?void 0:n.pluginList)||[],loading:!(null!==(s=null===(l=g.get(P))||void 0===l?void 0:l.done)&&void 0!==s&&s),error:null===(a=g.get(P))||void 0===a?void 0:a.error}},m=e=>{var t;let{resourceStore:n}=(0,s.getCurrentResourceController)();return Reflect.ownKeys(null!==(t=n.getState()[e])&&void 0!==t?t:{})},R=d("chatInputPlugin"),S=v("chatInputPlugin");d("inputPlugin"),v("inputPlugin"),d("chatGuidancePlugin");let y=v("chatGuidancePlugin");C("chatGuidanceCardPlugin");let L=M("chatGuidanceCardPlugin"),_=d("chatProtocolPlugin"),x=d("chatProtocolTransformPlugin");d("chatReceiveMessageBoxPlugin");let k=v("chatReceiveMessageBoxPlugin");d("chatSendMessageBoxPlugin");let w=v("chatSendMessageBoxPlugin"),A=d("skillBarItemPlugin"),I=v("skillBarItemPlugin");d("guidanceInputPlugin");let E=v("guidanceInputPlugin"),G=v("chatGuidanceSuggestionsPlugin");d("chatMessageListBottomBtnPlugin");let O=v("chatMessageListBottomBtnPlugin"),T=d("chatMessageLifeCyclePlugin");d("chatFooterPlugin");let b=v("chatFooterPlugin");d("chatFooterDisclaimerPlugin");let D=v("chatFooterDisclaimerPlugin");d("skillBarPlugin");let F=v("skillBarPlugin");d("inputToolButtonPlugin");let j=v("inputToolButtonPlugin"),H=d("inputEventsPlugin");v("inputEventsPlugin");let N=M("chatMessageListLifeCyclePlugin"),K=M("sidebarApplicationPlugin"),J=C("chatMessageErrorPlugin"),U=C("chatMessageCmdPlugin"),q=v("chatHeaderPlugin"),z=d("chatCanvasPlugin"),Q=v("chatCanvasPlugin"),V=v("feedListItemToolButtonPlugin"),W=v("feedListItemMenuOptionPlugin");d("chatReceiveMessageContentBlockPlugin");let X=v("chatReceiveMessageContentBlockPlugin"),Y=d("chatReceiveMessageContentBlockMergePlugin"),Z=d("launcherDataLoaderPlugin"),$=d("chatReceiveMessageContentBlockResolvePlugin"),ee=v("chatHeaderToolButtonPlugin"),et=v("chatReceiveMessageSuggestPlugin"),en=v("chatReceiveMessageGroupBottomPlugin"),eu=v("chatReceiveMessageGroupPlugin"),ei=v("chatSendMessageBoxLeftPlugin"),er=v("chatSendMessageBoxBottomPlugin"),eo=v("chatSendMessageBoxRightPlugin"),el=v("chatSendMessageBoxTopPlugin");v("chatReceiveMessageGroupStrategyMatcherPlugin");let ea=v("chatReceiveMessageBoxLeftPlugin"),es=v("chatReceiveMessageBoxBottomPlugin"),eg=v("chatReceiveMessageBoxRightPlugin"),ec=v("chatReceiveMessageBoxTopPlugin");d("chatShareReceiveMessageBoxPlugin");let eP=v("chatShareReceiveMessageBoxPlugin"),ef=v("chatShareSendMessageBoxPlugin");d("chatShareReceiveMessageContentBlockPlugin");let ed=v("chatShareReceiveMessageContentBlockPlugin"),eh=v("chatReceiveMessageActionButtonPlugin"),ev=v("chatSendMessageActionButtonPlugin"),ep=v("chatReceiveMessageActionBottomPlugin"),eC=v("chatReceiveMessageActionRightPlugin")},251303:function(e,t,n){n.d(t,{isClassContructor:function(){return i},mergePluginConfig:function(){return r}});var u=n(258191);function i(e){return"function"==typeof e&&(/^\s*class\s+/.test(e.toString())||e.prototype.constructor===e)}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,u.default)(e,...n,function e(t,n){if(t&&"init"in t&&"function"==typeof t.init&&"load"in t&&"function"==typeof t.load)return n;let u={};for(let e of[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)])u[e]=t[e];for(let i of[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]){let r=i in t?t[i]:void 0,o=n[i];null===r||null===o||"object"!=typeof r||"object"!=typeof o||Array.isArray(r)||Array.isArray(o)?u[i]=o:u[i]=e(r,o)}return u})}}}]);
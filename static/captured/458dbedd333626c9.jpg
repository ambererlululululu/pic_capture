"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["40007"],{897777:function(e,t,n){n.d(t,{default:function(){return i}}),n(713738);var a=n(430261),l=n(345660),i=(0,a.IconFactory)((0,l.jsx)(e=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M12.996 10.001v-7a1 1 0 1 1 2 0v6h6a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1M2.995 13a1 1 0 1 0 0 2h6.004v6A1 1 0 0 0 11 21v-7a1 1 0 0 0-1-1z"})}),{}))},877029:function(e,t,n){n.d(t,{default:function(){return i}}),n(713738);var a=n(430261),l=n(345660),i=(0,a.IconFactory)((0,l.jsx)(e=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11m0-20a9 9 0 1 1 0 18 9 9 0 0 1 0-18m-2 5.5A1.5 1.5 0 0 0 8.5 10v4a1.5 1.5 0 0 0 1.5 1.5h4a1.5 1.5 0 0 0 1.5-1.5v-4A1.5 1.5 0 0 0 14 8.5z",clipRule:"evenodd"})}),{}))},611921:function(e,t,n){n.d(t,{useClickOutside:function(){return l}});var a=n(713738);function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",l=arguments.length>3?arguments[3]:void 0,i=(0,a.useRef)(),s=(0,a.useCallback)(n=>{var a;let l=("function"==typeof e?e():e)||i.current;!(!l||l.contains(n.target)||(null===(a=n.composedPath)||void 0===a?void 0:a.call(n).includes(l)))&&t(n)},[i.current,t,e]);return(0,a.useEffect)(()=>(document.addEventListener(n,s,l),()=>{document.removeEventListener(n,s,l)}),[n,l,s]),i}},682830:function(e,t,n){n.d(t,{isCodeLink:function(){return u},isSSHLink:function(){return c},isValidGithubUrl:function(){return i}});let a=/^https?:\/\/(www\.)?github\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,l=/^git@github\.com:[a-zA-Z0-9_-]+\/[a-zA-Z0-9_.-]+\.git$/,i=e=>a.test(e)||l.test(e),s=/^https?:\/\/(www\.)?gitee\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,r=/^https?:\/\/(www\.)?gitcode\.net\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,o=/^https?:\/\/(www\.)?gitlink\.org\.cn\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,u=e=>s.test(e)||r.test(e)||o.test(e),d=/^git@[\w\.\-]+:[\w\-]+(\/[\w\-\.]+)?(\.git)?$/,c=e=>d.test(e)&&!l.test(e)},720350:function(e,t,n){n.d(t,{ExpandBtnStatus:function(){return d},ExpandButton:function(){return c}});var a,l=n(897777),i=n(55845),s=n(812650),r=n.n(s),o={"expand-btn-wrapper":"expand-btn-wrapper-ZOa7mD",expanded:"expanded-ftbqQM","expand-btn-svg":"expand-btn-svg-LLLaL3","collapse-btn-svg":"collapse-btn-svg-YpJP81",small:"small-tvOx0U"},u=n(345660);let d=((a={}).Collapse="collapse",a.Expand="Expand",a.Invisible="Invisible",a),c=e=>{let{className:t,status:n=d.Collapse,text:a,size:s="default",onClick:c}=e,p={[d.Expand]:(0,u.jsx)(l.default,{className:o["expand-btn-svg"]}),[d.Collapse]:(0,u.jsx)(i.default,{className:o["collapse-btn-svg"]}),[d.Invisible]:null};return[d.Expand,d.Collapse].includes(n)?(0,u.jsxs)("div",{"data-testid":"expand_btn_wrapper","data-expand":n===d.Expand,className:r()(o["expand-btn-wrapper"],t,{[o.small]:"small"===s,[o.expanded]:n===d.Expand}),onClick:e=>{e.stopPropagation(),null==c||c(n)},children:[p[n],(0,u.jsx)("span",{children:a})]}):null}},147923:function(e,t,n){n.d(t,{useGetCanvasTeaInfo:function(){return l}});var a=n(666196);let l=()=>{let{canvas_type:e,canvas_sub_type:t}=(0,a.useChatService)("chatViewService").getCanvasTeaParams();return e?{canvas_type:e,canvas_sub_type:t}:{}}},761835:function(e,t,n){n.d(t,{attachmentStatesSelector:function(){return m},getAttachmentStates:function(){return f},getAttachments:function(){return p},getPreGeneratedLocalMessageIdWithDefault:function(){return k},useAttachmentActions:function(){return _},useAttachmentKeys:function(){return S},useAttachmentStates:function(){return v},useAttachmentUploadConfig:function(){return g},useAttachments:function(){return h},usePreGeneratedLocalMessageId:function(){return x}});var a=n(453157),l=n(913821),i=n(144993),s=n(698392),r=n(922851),o=n(682830),u=n(249254),d=n(165876);let c=(e,t)=>{var n,a,l;let{chatId:i,skillType:s="default"}=t;return null!==(l=null===(a=e.attachmentsMap)||void 0===a?void 0:null===(n=a[i])||void 0===n?void 0:n[`_${s}`])&&void 0!==l?l:[]},p=e=>c((0,s.getChatSlice)("attachmentsStore"),e),h=e=>(0,s.useChatSlice)("attachmentsStore",t=>c(t,e)),m=(e,t)=>e.map(e=>{var n,a,l,s,r,c;let p=(0,d.isLink)(e)&&(0,o.isValidGithubUrl)(e.url)&&e.localKey;if((0,d.isLink)(e)&&!p)return{type:"link",fileName:e.url,fileKey:"",url:e.url,uploadPercent:100,status:i.AttachmentStatus.Normal};if((0,d.isRemote)(e))return{type:"remote",fileName:e.fileName,fileKey:e.key,size:e.size,uploadPercent:100,status:i.AttachmentStatus.Normal};let h=t.preprocessTaskMap[e.localKey]||t.preprocessDirTaskMap[e.localKey];if(!h)return{type:"file",fileName:(0,u.pickAsString)("name")(e.file),fileKey:"",uploadPercent:0,status:i.AttachmentStatus.Retry};let m=h.key||"",f=[{key:m,image_thumb:{url:null!==(r=null==h?void 0:h.blobUrl)&&void 0!==r?r:"",width:0,height:0,format:""},image_ori:{url:null!==(c=null==h?void 0:h.blobUrl)&&void 0!==c?c:"",width:0,height:0,format:""},feedback:"",request_id:"",description:""}],v=(null===(n=e.file)||void 0===n?void 0:n.size)||(null==e?void 0:e.size),{fileName:g}=e||{},{type:S}=e;return{type:S,fileName:"string"==typeof g?g:"directory"===S?e.dirName:p?(0,u.pickAsString)("name")(h.repoInfo||{}):(0,u.pickAsString)("name")(e.file),fileKey:m,isRepo:h.isRepo,repoInfo:h.repoInfo,size:v,imageList:f,uploadPercent:h.percent,status:h.failed?i.AttachmentStatus.Retry:h.loading?i.AttachmentStatus.Uploading:i.AttachmentStatus.Normal,parseState:h.parseState,parsePercent:h.parsePercent,reviewState:h.reviewState,uploadWay:null===(a=h.ctx)||void 0===a?void 0:a.uploadWay,localKey:h.localKey,md5:h.md5,imageWidth:null===(l=h.uploadResult)||void 0===l?void 0:l.ImageWidth,imageHeight:null===(s=h.uploadResult)||void 0===s?void 0:s.ImageHeight,parsedCharCount:h.parsedCharCount}}),f=e=>m(p(e),(0,s.getChatSlice)("attachmentUploadStore")),v=e=>{let t=h(e);return(0,s.useChatSlice)("attachmentUploadStore",e=>m(t,e),l.default)},g=()=>(0,s.useChatSlice)("attachmentUploadStore",e=>e.attachmentUploadConfig,a.shallow),S=e=>{let t=h(e);return(0,s.useChatSlice)("attachmentUploadStore",e=>t.map(t=>{if((0,d.isLink)(t))return;if((0,d.isRemote)(t))return t.key;let n=e.preprocessTaskMap[t.localKey];return(null==n?void 0:n.key)||void 0}),a.shallow)},x=e=>{let{chatId:t,skillType:n="default"}=e;return(0,s.useChatSlice)("attachmentUploadStore",e=>{var a;return null===(a=e.preGeneratedLocalMessageIdMap[t])||void 0===a?void 0:a[`_${n}`]},a.shallow)},b=e=>{var t;let{chatId:n,skillType:a="default"}=e;return null===(t=(0,s.getChatSlice)("attachmentUploadStore").preGeneratedLocalMessageIdMap[n])||void 0===t?void 0:t[`_${a}`]},k=async e=>{if(!b(e)){let t=await (0,r.getChatService)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)}return b(e)},_=e=>{let t=t=>async n=>{var a;let l=await (0,r.getChatService)("attachmentsStoreService");return null==l?void 0:null===(a=l[t])||void 0===a?void 0:a.call(l,{...e,...n})};return{clearAttachments:t("clearAttachments"),addAttachment:t("addAttachment"),addDirAttachment:t("addDirAttachment"),addLink:t("addLink"),addGitHubLink:t("addGitHubLink"),addRemoteAttachment:t("addRemoteAttachment"),clearAllAttachments:t("clearAllAttachments"),clearChatAttachments:t("clearChatAttachments"),deleteAttachment:t("deleteAttachment"),replaceLink:t("replaceLink"),reuploadAttachment:t("reuploadAttachment"),getPreGeneratedLocalMessageId:()=>k(e),updatePreGeneratedLocalMessageId:async()=>{let t=await (0,r.getChatService)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)},addAttachmentDirectly:t("addAttachmentDirectly")}}},196320:function(e,t,n){n.d(t,{LazyAttachmentArea:function(){return u},LazyAttachmentFileArea:function(){return r},LazyAttachmentImageArea:function(){return o}});var a=n(713738),l=n(643404),i=n(559891),s=n(345660);let r=(0,i.withSuspense)((0,a.lazy)(()=>(0,l.retryLoadWithFallBack)({fn:()=>Promise.all([n.e("12836"),n.e("93102"),n.e("5525"),n.e("58671"),n.e("8019"),n.e("7164"),n.e("60681")]).then(n.bind(n,184369)).then(e=>{let{AttachmentFileArea:t}=e;return{default:t}}),fallback:{default:()=>(0,s.jsx)("div",{})}})),()=>(0,s.jsx)("div",{})),o=(0,i.withSuspense)((0,a.lazy)(()=>(0,l.retryLoadWithFallBack)({fn:()=>Promise.all([n.e("12836"),n.e("93102"),n.e("9812"),n.e("86418"),n.e("27834"),n.e("60410")]).then(n.bind(n,85029)).then(e=>{let{AttachmentImageArea:t}=e;return{default:t}}),fallback:{default:()=>(0,s.jsx)("div",{})}})),()=>(0,s.jsx)("div",{})),u=(0,i.withSuspense)((0,a.lazy)(()=>(0,l.retryLoadWithFallBack)({fn:()=>n.e("17478").then(n.bind(n,297313)).then(e=>{let{AttachmentArea:t}=e;return{default:t}}),fallback:{default:()=>(0,s.jsx)("div",{})}})),()=>(0,s.jsx)("div",{}))},428202:function(e,t,n){n.d(t,{ToolButtonFoundation:function(){return m},ToolButtonOverflowListFoundation:function(){return h},ToolButtonBarFoundation:function(){return p}});var a=n(713738),l=n(218679),i=n(996406),s=n(812650),r=n.n(s),o=n(408047),u=n(689368),d={"tool-button":"tool-button-H7mj_a",small:"small-TgkvId"},c=n(345660);let p=e=>{let{className:t,list:n,...a}=e;return(0,c.jsx)("div",{className:r()("flex items-center",t),children:n.map(e=>(0,c.jsx)(m,{identifier:e,...a},e.toString()))})},h=e=>{let{list:t,toolButtonProps:n,...l}=e,i=(e,t,a)=>(0,c.jsx)(m,{identifier:e,...n,...a,isToolButtonSmall:a.small},t),s=(0,a.useMemo)(()=>t.map((e,t)=>n=>i(e,t,n)),[t,n]);return(0,c.jsx)(o.ToolButtonOverflowList,{...l,list:s})},m=e=>{let{identifier:t,onUpdateValue:n,type:a,className:s,...o}=e,{plugin:p,loading:h}=(0,u.useInputToolButtonPlugin)(t);return!p||h?null:(0,c.jsx)(p.Content,{...o,className:r()(s,d["tool-button"],o.isToolButtonSmall&&d.small),onUpdateValue:e=>{"textarea"===a&&(0,l.default)(e)?null==n||n(e):"editor"===a&&(0,i.default)(e)&&(null==n||n(e))}})}},367104:function(e,t,n){n.d(t,{asrBtnPluginIdentifier:function(){return a}});let a=Symbol("asr-tool-button")},495896:function(e,t,n){n.d(t,{useCheckLoadSuccess:function(){return i}});var a=n(713738),l=n(922851);let i=function(){let{onCheckLoadSuccess:e,loadSuccessReportParams:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{skillType:n}=null!=t?t:{};(0,a.useEffect)(()=>{(null==e?void 0:e())&&n&&(0,l.getChatService)("chatInputStoreService").then(e=>{var t;null==e||null===(t=e.getSkillReportEvent({skillType:n,eventName:"skill_bar_open_input"}))||void 0===t||t.success()})},[])}},403545:function(e,t,n){n.d(t,{useChatInputSendMessageStatus:function(){return s}});var a=n(695422),l=n(698392),i=n(269249);let s=()=>{let e=(0,i.useChatId)();return(0,l.useChatSlice)("chatInputStore",t=>e&&t.sendMessageStatusMap[e]||a.ChatInputSendMessageStatus.Default)}},665515:function(e,t,n){n.d(t,{useInputPopoverContainer:function(){return p}});var a=n(870539),l=n(713738),i=n(217957),s=n(812650),r=n.n(s),o=n(720350),u=n(611921),d={popover:"popover-dqWeKB","transition-entering":"transition-entering-iJK8AK",transitionEntering:"transition-entering-iJK8AK","transition-entered":"transition-entered-eNVqWF",transitionEntered:"transition-entered-eNVqWF","transition-exiting":"transition-exiting-fDtDSF",transitionExiting:"transition-exiting-fDtDSF","transition-exited":"transition-exited-xCTNYR",transitionExited:"transition-exited-xCTNYR"},c=n(345660);let p=e=>{let{popoverContent:t,popoverVisible:n,defaultOpenPopover:a,onPopoverVisibleChange:s,className:r,keepDOMWhenPopoverHide:d=!0}=e,[p,m]=(0,l.useState)(a?o.ExpandBtnStatus.Expand:o.ExpandBtnStatus.Collapse),f=(0,l.useRef)(a),v=e=>{f.current=e},g=(0,l.useRef)(null);(0,u.useClickOutside)(g.current,()=>{m(o.ExpandBtnStatus.Collapse)},"mousedown",!0);let S=(0,i.default)(n)?p===o.ExpandBtnStatus.Expand:n;return(0,l.useEffect)(()=>{null==s||s(S)},[S]),{containerRef:g,expandBtnStatus:p,showPopover:(e,t)=>{let{canExpandByFocus:n}=t||{};(0,i.default)(n)||v(n),(!e||f.current)&&m(o.ExpandBtnStatus.Expand)},hidePopover:e=>{let{canExpandByFocus:t}=e||{};(0,i.default)(t)||v(t),m(o.ExpandBtnStatus.Collapse)},onClickCollapseBtn:()=>{m(o.ExpandBtnStatus.Collapse),v(!1)},onClickExpandBtn:()=>{m(o.ExpandBtnStatus.Expand),v(!0)},onFocus:()=>{f.current&&m(o.ExpandBtnStatus.Expand)},element:(0,l.useMemo)(()=>(0,c.jsx)(h,{showPopover:S,keepDOMWhenPopoverHide:d,popoverContent:t,className:r}),[S,t,d])}},h=e=>{let{showPopover:t,keepDOMWhenPopoverHide:n,popoverContent:i,className:s}=e;return(0,c.jsx)(a.default,{in:t,timeout:250,appear:!0,mountOnEnter:!n,unmountOnExit:!n,children:e=>(0,c.jsx)("div",{className:r()(d.popover,s,{[d[`transition-${e}`]]:e}),children:(0,c.jsx)(l.Suspense,{fallback:(0,c.jsx)("div",{className:"h-10 w-10"}),children:i})})})}},37298:function(e,t,n){n.d(t,{SendAndBreakButton:function(){return k}}),n(713738);var a=n(695422),l=n(666196),i=n(637319),s=n(83990),r=n(680982),o=n(698392),u=n(922851),d=n(269249),c=n(212183),p=n(147923),h=n(334312),m=n(777422),f=n(915299),v=n(366119),g=n(178230),S=n(403545),x=n(459401),b=n(345660);function k(e){let{disableToSend:t,onClickSendButton:n,onClickDisabledSendButton:k,disableDebounce:_=!1,...w}=e,C=(0,f.useTranslateFn)(),y=(0,l.useChatService)("chatViewService"),A=(0,d.useChatId)(),B=(0,o.useChatSlice)("chatInputStore",e=>A?e.activeSkillTypeMap[A]:void 0),j=(0,S.useChatInputSendMessageStatus)(),L=j===a.ChatInputSendMessageStatus.Sending||j===a.ChatInputSendMessageStatus.Receiving,N=t||j===a.ChatInputSendMessageStatus.Sending||j===a.ChatInputSendMessageStatus.Receiving,I=(0,p.useGetCanvasTeaInfo)(),{run:M}=(0,v.default)(()=>{g.logger.persist.info({eventName:"send_button_click"}),null==n||n()},{wait:300*!_,leading:!0,trailing:!1}),{run:E}=(0,v.default)(()=>{g.logger.persist.warning({eventName:"send_button_disabled_click"}),null==k||k()},{wait:300*!_,leading:!0,trailing:!1}),{run:T}=(0,v.default)(async()=>{g.logger.persist.info({eventName:"local_break_button_click"});let e=await (0,u.getChatService)("chatInputService");if(await (null==e?void 0:e.emitBeforeBreakMessage())===!1){g.logger.persist.warning({eventName:"local_break_button_interrupt"});return}g.logger.persist.info({eventName:"local_break_button_break_message"});let t=(0,i.getLastStreamingMessageSelector)(s.useMessageStore.getState(),A||"");(0,m.trackEvent)("break_message",{...y.getCanvasTeaParams(),message_id:(null==t?void 0:t.message_id)||"",reply_id:(null==t?void 0:t.reply_id)||"",conversation_id:A||"",section_id:(null==t?void 0:t.section_id)||"",bot_id:(0,c.getBotIdByConversationId)(A),skill_id:(null==B?void 0:B.toString())||null,skill_name:(0,h.getSkillTeaNameByType)(B)||null,click_from:"click_break_message",scene:"chat_enter_bar",...I}),(0,r.handleLocalBreak)(s.useMessageStore,A||""),A&&(0,u.getChatService)("chatInputStoreService").then(e=>null==e?void 0:e.updateSendMessageStatus(A,a.ChatInputSendMessageStatus.Default))},{wait:300*!_,leading:!0,trailing:!1});return(0,b.jsx)(x.SendAndBreakButtonUI,{breakBtnVisible:L,disableToSend:N,onClickBreakButton:T,breakBtnHoverText:C("input_box_stop_generating_tooltip"),onClickDisabledSendButton:E,onClickSendButton:M,onWrapperClick:()=>{g.logger.persist.info({eventName:"send_and_break_button_click",meta:{break_btn_visible:L,send_message_status:j,disable_to_send:N,disable_to_send_from_props:t,hide_send_and_break_btn:w.hideSendAndBreakBtn,small:w.small,chat_id:A,skill_type:B||"generic"}})},...w})}},79954:function(e,t,n){n.d(t,{LocalBreakButton:function(){return u}});var a=n(877029),l=n(713738),i=n(812650),s=n.n(i),r=n(345660);let o=(0,l.lazy)(async()=>({default:await Promise.all([n.e("15390"),n.e("18748"),n.e("64404"),n.e("81070"),n.e("29114"),n.e("99898"),n.e("76778"),n.e("29843"),n.e("26112"),n.e("95630")]).then(n.bind(n,219170)).then(e=>e.SamanthaTooltip)}));function u(e){let{onClick:t,className:n,tooltipContent:i,enableTooltip:u=!0,...d}=e,c=(0,r.jsx)("div",{className:s()("container-B20gJW",n),onClick:t,...d,children:(0,r.jsx)(a.default,{className:"icon-JL6IvX"})});return u?(0,r.jsx)(l.Suspense,{fallback:c,children:(0,r.jsx)(o,{content:i,className:s()({"!hidden":!i},"text-11 leading-14"),children:c})}):c}},187648:function(e,t,n){n.d(t,{SendMessageButton:function(){return h}});var a=n(342857),l=n(713738),i=n(430261),s=n(345660),r=(0,i.IconFactory)((0,s.jsx)(e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,s.jsx)("path",{fill:"#F3F4F6",fillOpacity:.2,d:"M7.785 13.001a.9.9 0 0 0 .655-.248.87.87 0 0 0 .267-.655V7.614l-.089-1.995.853 1.092 1.051 1.101a.78.78 0 0 0 .615.268.85.85 0 0 0 .615-.228.78.78 0 0 0 .248-.586.89.89 0 0 0-.258-.635L8.529 3.357Q8.19 3 7.785 3q-.417 0-.754.357L3.818 6.631a.88.88 0 0 0-.248.635q0 .348.238.586.238.228.605.228.387 0 .625-.268l1.071-1.121.833-1.072-.1 1.995v4.484q0 .397.269.655a.95.95 0 0 0 .674.248"}),(0,s.jsx)("path",{fill:"#fff",d:"M7.785 13.001a.9.9 0 0 0 .655-.248.87.87 0 0 0 .267-.655V7.614l-.089-1.995.853 1.092 1.051 1.101a.78.78 0 0 0 .615.268.85.85 0 0 0 .615-.228.78.78 0 0 0 .248-.586.89.89 0 0 0-.258-.635L8.529 3.357Q8.19 3 7.785 3q-.417 0-.754.357L3.818 6.631a.88.88 0 0 0-.248.635q0 .348.238.586.238.228.605.228.387 0 .625-.268l1.071-1.121.833-1.072-.1 1.995v4.484q0 .397.269.655a.95.95 0 0 0 .674.248"})]}),{})),o=n(812650),u=n.n(o),d=n(424785),c={container:"container-LQV0KD","send-btn":"send-btn-gNkciw","send-btn-icon":"send-btn-icon-g2PbME","send-btn-with-text":"send-btn-with-text-i5bKVa"};let p=(0,l.lazy)(async()=>({default:await Promise.all([n.e("15390"),n.e("23426"),n.e("71331"),n.e("18748"),n.e("64404"),n.e("81070"),n.e("29114"),n.e("99898"),n.e("76778"),n.e("29843"),n.e("26112"),n.e("95630"),n.e("15317")]).then(n.bind(n,219170)).then(e=>e.SamanthaTooltip)})),h=e=>{let{"data-testid":t,disableToSend:n,sendMessageHoverText:i,buttonText:o,onClick:h,className:m,onDisabledClick:f,...v}=e,g=(0,l.useMemo)(()=>(0,s.jsx)(d.default,{id:"flow-end-msg-send",size:"default",icon:o?(0,s.jsx)(r,{}):(0,s.jsx)(a.default,{className:c["send-btn-icon"]}),className:u()(c["send-btn"],!!o&&c["send-btn-with-text"]),theme:"solid",disabled:n,"aria-disabled":n,"aria-label":"string"==typeof i?i:void 0,"data-testid":t,onClick:h,children:o||void 0}),[o,n,i,h,t]),S=(0,l.useMemo)(()=>i?(0,s.jsx)(l.Suspense,{fallback:g,children:(0,s.jsx)(p,{content:(0,s.jsx)("div",{className:"text-11 leading-14",children:i}),position:"top",clickToHide:!0,children:g})}):g,[i,g]);return(0,s.jsx)("div",{className:u()(c.container,"send-btn-wrapper",m),onClick:()=>{n&&(null==f||f())},...v,children:S})}},459401:function(e,t,n){n.d(t,{SendAndBreakButtonUI:function(){return u}}),n(713738);var a=n(812650),l=n.n(a),i=n(187648),s=n(79954),r={container:"container-T4Zbge","left-area":"left-area-H3i4EB","right-area":"right-area-zo66jb",splitLineWrapper:"splitLineWrapper-AjtWJo",small:"small-ErLq5N",splitLine:"splitLine-HjMFiZ","break-btn":"break-btn-Rv8NnA"},o=n(345660);function u(e){let{beforeNodes:t,customButton:n,hideSplitLine:a,hideSendAndBreakBtn:u,small:d,breakBtnVisible:c,sendMessageHoverText:p,breakBtnHoverText:h,sendMessageClassName:m,sendMessageButtonText:f,disableToSend:v,onClickSendButton:g,onClickDisabledSendButton:S,onClickBreakButton:x,enableLocalBeakButtonTooltip:b=!0,onWrapperClick:k}=e;return(0,o.jsxs)("div",{className:r.container,onClick:k,children:[(0,o.jsx)("div",{className:l()(r["left-area"]),children:t}),!a&&!!t&&!u&&(0,o.jsx)("div",{className:l()(r.splitLineWrapper,d&&r.small),children:(0,o.jsx)("div",{className:r.splitLine})}),u?null:(0,o.jsx)("div",{className:l()(r["right-area"]),children:n||(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.LocalBreakButton,{onClick:x,className:l()(r["break-btn"],{"!hidden":!c,[r.small]:d}),tooltipContent:h,enableTooltip:b,"data-testid":"chat_input_local_break_button"}),(0,o.jsx)(i.SendMessageButton,{"data-testid":"chat_input_send_button",disableToSend:v,sendMessageHoverText:p,buttonText:f,className:l()(m,{"!hidden":c,[r.small]:d}),onClick:g,onDisabledClick:S})]})})]})}},408047:function(e,t,n){n.d(t,{ToolButtonOverflowList:function(){return m}});var a=n(816651),l=n(713738),i=n(913821),s=n(812650),r=n.n(s),o=n(273637),u=n(580622),d=n(525029),c=n(559425),p=n(356064),h=n(345660);let m=(0,l.memo)(function(e){let{list:t,className:n,moreButtonPopoverProps:i,small:s,gap:m=8}=e,f=(0,o.default)((e,t,n)=>(0,h.jsx)(l.Fragment,{children:e({small:s,isOverflow:n})},t)),v=(0,l.useCallback)((e,t)=>f(e,t),[f]),g=(0,o.default)(e=>(0,h.jsx)(d.SamanthaPopover,{position:"bottomLeft",...i,content:()=>(0,h.jsx)("div",{className:"flex flex-col",children:e.map((e,t)=>f(e,t,!0))}),contentClassName:r()(null==i?void 0:i.contentClassName,"p-4"),className:r()(null==i?void 0:i.className,"more-button-popover-boUg6d"),children:(0,h.jsx)(c.SamanthaButton,{type:"tertiary",size:s?"small":"medium",className:"!bg-s-color-bg-float",icon:(0,h.jsx)(a.default,{className:s?"!text-14":"p-2 !text-16"})})})),S={"--chat-input-tool-button-overflow-list-gap":`${m}px`},x=(0,u.default)(t),b=(0,l.useMemo)(()=>Array.from({length:t.length}).map((e,t)=>e=>{var n,a;return null===(a=x.current)||void 0===a?void 0:null===(n=a[t])||void 0===n?void 0:n.call(a,e)}),[t.length]);return(0,h.jsx)(p.OverflowList,{className:r()("overflow-list-NyrGXN",n),style:S,items:b,overflowRenderer:g,visibleItemRenderer:v,collapseFrom:"end"})},i.default)},968086:function(e,t,n){n.d(t,{usePrefetchUserSetting:function(){return i}});var a=n(713738),l=n(698392);let i=()=>{let{settingData:e}=(0,l.useChatSlice)("launcherRawSettingStore"),[t,n]=(0,a.useState)(!e);return(0,a.useEffect)(()=>{n(!e)},[e]),{data:e,loading:t}}},345698:function(e,t,n){n.d(t,{useUploadImageFeature:function(){return l}});var a=n(968086);function l(){let{data:e}=(0,a.usePrefetchUserSetting)(),{disable_upload_image:t=!1}=e||{};return!t}}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["81724"],{917756:function(e,n,t){var i;t.r(n),t.d(n,{ArtifactResourceType:function(){return o}});let o=((i={})[i.WriteDoc=1]="WriteDoc",i[i.Pages=2]="Pages",i[i.CanvasPages=3]="CanvasPages",i[i.StepWritingPages=4]="StepWritingPages",i[i.Code=5]="Code",i[i.StepWritingOtterPage=6]="StepWritingOtterPage",i[i.CodeBlock=7]="CodeBlock",i[i.CodeDevelopMode=8]="CodeDevelopMode",i)},103826:function(e,n,t){var i;t.d(n,{Scene:function(){return o}});let o=((i={})[i.Unknown=0]="Unknown",i[i.PageTranslate=1]="PageTranslate",i[i.AIReader=2]="AIReader",i[i.ChooseWordsTranslate=3]="ChooseWordsTranslate",i[i.ScreenShotTranslate=4]="ScreenShotTranslate",i[i.ImageTextExtraction=5]="ImageTextExtraction",i[i.HoverTranslate=6]="HoverTranslate",i[i.InputFieldInstantTranslate=7]="InputFieldInstantTranslate",i[i.ToutiaoSearchCard=8]="ToutiaoSearchCard",i[i.SearchRecommendCard=9]="SearchRecommendCard",i[i.CommentReply=10]="CommentReply",i[i.WordsChatTranslate=11]="WordsChatTranslate",i[i.ChooseWordsPlantUML=12]="ChooseWordsPlantUML",i[i.ImageTranslate=13]="ImageTranslate",i[i.WeblinkPreview=14]="WeblinkPreview",i[i.AISummary=15]="AISummary",i[i.AskDoubao=16]="AskDoubao",i[i.WebSummary=17]="WebSummary",i[i.VideoSummary=18]="VideoSummary",i[i.PodcastSummary=19]="PodcastSummary",i[i.TextSelection=20]="TextSelection",i[i.Screenshot=21]="Screenshot",i[i.RightClickMenu=22]="RightClickMenu",i[i.Launcher=23]="Launcher",i[i.CollectionPostProcess=1001]="CollectionPostProcess",i[i.Crawler=1002]="Crawler",i)},322206:function(e,n,t){t.d(n,{LaunchStage:function(){return i},MessageFrom:function(){return o}});var i={Diff:0,Release:1},o={InputBox:0,GuidanceOrSuggestion:1,Guidance:2,Suggestion:3,DesktopPush:4,DesktopAskAssistant:5,DesktopLauncher:6,SharedApp:7,CanvasActionbar:8}},645298:function(e,n,t){t.d(n,{INIT_CHAT_CONVERSATION_COUNT:function(){return f},MAX_IMG_COUNT:function(){return T},REFRESH_CHAT_CONVERSATION_COUNT:function(){return A},assistantConvIdWithoutCache:function(){return y},chatConversationPageLoadCount:function(){return a},defaultCheckAvailableMessageSize:function(){return r},defaultFetchMessageSize:function(){return l},defaultReceiveMessageStartTimeout:function(){return k},defaultReceiveStreamPackageUpdateTimeout:function(){return h},defaultReceiveStreamPackageUpdateTimeoutForAsyncTask:function(){return m},defaultReceiveSuggestStartTimeout:function(){return C},defaultSendMessageStartTimeout:function(){return M},defaultShareThreadMaxMessageNumber:function(){return S},defaultUploadFileMaxSize:function(){return p},httpPullMessageInterval:function(){return v},httpPullMessageTimeout:function(){return c},maxSendMessageTextLength:function(){return d},mockReplyConstantMessageId:function(){return g},onBoardingConstantMessageId:function(){return u},onboardingWaitTimeout:function(){return o},sendImageMessagePreprocessTimeout:function(){return i},sendMessageWaitTimeout:function(){return s},thinkingConstantMessageId:function(){return _}});let i=15e3,o=6e4,l=50,r=20,a=10,u="ONBOARDING_MESSAGE_ID",s=5e3,d=19e3,c=2e3,v=1e4,p=0x1400000,_="THINKING_MESSAGE_ID",g="MOCK_REPLY_MESSAGE_ID",y="ASSISTANT_CONV_ID_WITHOUT_CACHE",f=20,S=500,T=1,C=1e4,h=6e4,m=6e5,k=3e5,M=6e4,A=10},216352:function(e,n,t){t.d(n,{isValidUrl:function(){return i}});let i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t;let i=new URL(e);return(!n.allowedProtocols||n.allowedProtocols.includes(i.protocol))&&(!n.allowedExtensions||n.allowedExtensions.map(e=>e.toLowerCase()).includes(null!==(t=i.pathname.split(".").pop())&&void 0!==t?t:""))&&(!n.allowedHosts||n.allowedHosts.includes(i.host))}catch(e){return!1}}},629006:function(e,n,t){t.d(n,{isBreakBlockMessage:function(){return tW},isLocalMessageHasBroken:function(){return nL},isMessageReceiving:function(){return B},isWiderTextMessage:function(){return Q},isWritingOutlineSearchLoading:function(){return nw},isAckMessage:function(){return ex},isCreationBlockMessageImagesAllSuccess:function(){return tP},isArtifactBlockMessage:function(){return tH},isCodeContainBlockArtifactMessage:function(){return eg},isMessageIllegalError:function(){return n2},isEduExerciseImageMessage:function(){return eB},isOnlyAladdinCardTextMessage:function(){return e1},isSearchLoadingNotSimpleSearchLoadingMessage:function(){return nU},isRecognitionWritingContentMessage:function(){return eP},isSuperTaskGuideMessage:function(){return tk},isOldWritingVariableSkillMessage:function(){return ti},isImageTextMessage:function(){return ec},isReferenceContentMessage:function(){return eo},isRemoteMessageStable:function(){return nE},isExtSamanthaSkillMessage:function(){return nf},isResearchBlockMessageProcessing:function(){return tG},isSimpleSearchImageWithTextMessage:function(){return tv},isAcademicSearchMessage:function(){return nQ},isExtTranslateTextMessage:function(){return er},isEduExerciseMessage:function(){return eD},isSamanthaAttachmentMessage:function(){return te},isSearchTextMessageNoDeepSearchAndAcademicSearch:function(){return eu},isVideoGenerationLoadingMessage:function(){return nd},isAliceImageMessage:function(){return eF},isAIPPTSendMessage:function(){return nv},isAsyncTaskFinished:function(){return t$},isCustomSkillMessageWithShowVariable:function(){return z},isFileMessage:function(){return ew},isHideMessageActionBar:function(){return G},isDeepResearchMessage:function(){return tN},isVideoGenerationErrorMessage:function(){return nc},isTemplateMessage:function(){return n0},isSimpleSearchOnlyVideoMessage:function(){return tc},isAIPPTCardMessage:function(){return np},isLocalMessageHasLogId:function(){return nW},isSuggestNewThread:function(){return n6},isWriteInputMessage:function(){return e9},isMessageVisible:function(){return nk},isTextSelectionSummaryMessage:function(){return tq},isMindMapMessage:function(){return ez},isWriteArtifactMessage:function(){return e7},isCompositeMessageWithFiles:function(){return tr},isCITextMessageWithReference:function(){return en},isDisplayContentMessage:function(){return t4},isCompositeMessageWithImages:function(){return tl},isMessageHasSuggest:function(){return nh},isCompositeMessageWithLinks:function(){return ta},isTextMessageWithDeepThiking:function(){return es},isVideoMessage:function(){return nT},isAcademicSearchLoading:function(){return nB},isCanvaInputMessage:function(){return tQ},isFreeChatMessageWithReference:function(){return e0},isAIPPTOutlineLoadingMessage:function(){return ny},isSamanthaMusicGenReceiveMessage:function(){return eM},isDisableActionViewMessage:function(){return to},isSamanthaExplainMessage:function(){return tZ},isPluginAuthMessage:function(){return n1},isImageMessageSafetyError:function(){return nJ},isWritingOutlineSearchMessage:function(){return nq},isCodeArtifactMessage:function(){return ep},isFileSafetyError:function(){return n3},isImageMessage:function(){return eW},isBrowserLinkMessage:function(){return tX},isLyricsToSongLyricMessage:function(){return eh},isMainBotConversation:function(){return eY},isCodeContainText2PrdMessage:function(){return ey},isMessageReady:function(){return nH},isProfessionalWritingOutlineMessage:function(){return e5},isProfessionalWritingOutlineSkeletonMessage:function(){return e6},isSearchMessage:function(){return eT},isSupportedReceiveMessage:function(){return nP},isMessageNotReadFinish:function(){return n9},isTextMessage:function(){return K},isWiderCodeMessage:function(){return ef},isWriteMessage:function(){return nl},isDeepResearchClarifyMessage:function(){return tw},isDeepResearchRestatementMessage:function(){return tU},isOnBoardingMessage:function(){return nC},isAliceSearchMessage:function(){return eG},isCreationBlockMessage:function(){return tx},isMessageActionInvisibleInMessage:function(){return nz},isMessageHitRisk:function(){return nV},isMediaMessage:function(){return tM},isSharedMessage:function(){return D},isVideoGenerationStatusSuccess:function(){return nu},isWriteArtifactBlockContent:function(){return tK},isMessageSendingRegenerate:function(){return w},isAppShareMessageWithReference:function(){return eQ},isDocXActionMessageWithReference:function(){return X},isMessageFailed:function(){return N},isBlockMessage:function(){return tE},isInSearchLoading:function(){return nD},isSearchTextMessageWithReference:function(){return eq},isSoftLinkMessageForTea:function(){return t_},isSimpleSearchVideoWithTextMessage:function(){return tp},isReadDocumentTextMessageWithReference:function(){return Z},isBatchMessage:function(){return tg},isAliceMusicGenReceiveMessage:function(){return ek},isUnselectedBatchMessage:function(){return tf},isSendMessage:function(){return nR},isUGCBotConversation:function(){return eX},isFinishAliceMessage:function(){return $},isAsyncTaskProcessing:function(){return tY},isVideoGenerationMessage:function(){return nr},isWriteArtifactBlockMessage:function(){return tJ},isDeepResearchHardMessage:function(){return tF},isMessagePreprocessing:function(){return nj},isMessageStable:function(){return nO},isShareAppCodeMessage:function(){return t2},isMessageEncrypted:function(){return n7},getCreationBlockMessageVideos:function(){return tO},isDeepResearchBlockMessage:function(){return tV},isProfessionalWritingDocCardMessage:function(){return nn},isSuperTaskMessage:function(){return tT},isVideoGenerationStatusLoading:function(){return na},isCardListMessage:function(){return nS},isSuperTaskCardPPTCheckOutlineMessage:function(){return tm},getCreationBlockMessageImages:function(){return tb},isWiderNestedMessage:function(){return j},isWriteMessageWithDeepThinking:function(){return ed},isAIPPTOutlineMessage:function(){return ng},isOnlyAladdinCardMessage:function(){return ni},isDeepSearchMessage:function(){return nY},isDocxActionSendMessage:function(){return Y},isMessageReceivingStream:function(){return F},isCardMessage:function(){return nI},isAliceCopilotSearchMessage:function(){return eV},isMediaTextMessageWithReference:function(){return tA},isBlockMessageWithCodeInContent:function(){return t7},isSummaryPageMessage:function(){return t0},isBlockMessageWithText:function(){return tL},isCompositeMessageWithWebsites:function(){return tu},isResearchWebPageBlockMessage:function(){return tz},isMusicMessage:function(){return eO},isSuperTaskMessageWithReference:function(){return eZ},isSupportRefContentMessage:function(){return ts},isCodeArtifactMessageWithMeta:function(){return e_},isTranslateTextMessage:function(){return el},isMindMapPushMessage:function(){return e2},isMockLocalReplyMessage:function(){return tD},isBotCardMessage:function(){return eE},isAliceCopilotSearchTextMessage:function(){return ej},isCodeTextMessage:function(){return ev},isCompositeMessage:function(){return eC},isDeepResearchTextMessage:function(){return tB},isImageTextLoadingMessage:function(){return eS},isAvailableBatchMessage:function(){return ty},isMobileRefSendMessage:function(){return t3},isProfessionalWritingDocXCardMessage:function(){return nt},isReadDocumentTextMessage:function(){return q},isFinishReplyLocalMessage:function(){return nK},isComplexSearchMessage:function(){return eK},isSimpleSearchMessage:function(){return eR},isSimpleSearchOnlyImageMessage:function(){return td},isSuggestMessage:function(){return W},isSimpleSearchTextMessage:function(){return n$},isUltraLongTextMessage:function(){return n5},isVideoGenerationSendMessage:function(){return no},isEmptyMessage:function(){return n8},isCreationBlockMessageImagesWithLoading:function(){return tI},isVideoGenerationStatusError:function(){return ns},isViewOnlyNestedMessage:function(){return H},isAskDoubaoSkill:function(){return t1},isAliceFileMessage:function(){return eU},isSuperTaskCardMessage:function(){return tC},isAIPPTMessage:function(){return n_},isCIReplyMessage:function(){return nX},isMessageNotCompliant:function(){return nG},isBrowsingMessage:function(){return ei},isAIPodcastTextMessage:function(){return ee},isWriteArtifactMessageWithMeta:function(){return e8},isResearchProcessBlockMessage:function(){return tj},isDeepSearchLoading:function(){return nN},isValidReadWebsiteLink:function(){return tn},isThinkingMessageBlock:function(){return eb},isWriteDeepThinkingMessage:function(){return U},isSendMusicCreationMessage:function(){return nx},isImageSkillMessage:function(){return tt},isMessageCached:function(){return nM},isMusicGenReceiveMessage:function(){return eA},isMessageHasCustomRefShowVariable:function(){return nA},isSearchTextMessage:function(){return ea},isSuperTaskCardClarifyMessage:function(){return th},isDeepThinkingBlockMessage:function(){return eI},isImageSafetyError:function(){return n4},isNestedMessage:function(){return V},isSearchErrorMessage:function(){return nZ},isBrokenMessage:function(){return L}});var i=t(229079),o=t(159738),l=t(293556),r=t(4137),a=t(218679),u=t(214071),s=t(226982),d=t(728369),c=t(101874),v=t(82760),p=t(68989),_={VideoStatusSuccess:4},g={VideoStatusSucceed:3},y=t(778816),f={DeepResearchStageClarification:1,DeepResearchStageRestatement:2},S={SupertaskStageClarification:1,SupertaskStagePPTOutlineAck:3},T=t(224283),C=t(628862),h=t(216352),m=t(645298),k=t(458524),M=t(524129),A=t(322206),R=t(917756),x=t(177048),b=t(103826),I=t(165482),P=t(840738),O=t(674157),E=t(725705);let W=e=>(null==e?void 0:e.content_type)===k.ContentType.Suggest||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSuggest,L=e=>{var n;return(null==e?void 0:e.status)===k.PushMessageStatus.Broken||(null==e?void 0:null===(n=e.async_task)||void 0===n?void 0:n.status)===d.AsyncTaskStatus.AsyncTaskStatusCanceled},D=e=>{var n;return!!(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.source_share)},N=e=>{var n,t;return(0,E.isLocalMessage)(e)?e.local.failed||!!(null===(n=e.error_details)||void 0===n?void 0:n.has_error):!!(null==e?void 0:null===(t=e.error_details)||void 0===t?void 0:t.has_error)},B=e=>{let{status:n}=e.local;return n===c.LocalMessageStatus.ReceivingFirstPackage||n===c.LocalMessageStatus.ReceivingStream},w=e=>{let{status:n}=e.local;return n===c.LocalMessageStatus.SendingRegenerate},F=e=>{let{status:n}=e.local;return n===c.LocalMessageStatus.ReceivingStream},U=e=>{if(!nl(e)&&!eR(e))return!1;let n=(0,i.default)(e,"content_obj.tags",[]),t=(0,o.default)(n,c.SearchMessageContentTags.ThinkReasonR1),r=(0,l.default)(e.meta_infos,e=>e.type===k.MetaType.Think);return t||r},G=e=>{var n;return["rich_media_only_video","rich_media_only_image"].includes((null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.rich_media_type_samantha_web)||"")};function V(e){return(null==e?void 0:e.content_type)===k.ContentType.Nested}function j(e){var n;return!!(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.entities)}function H(e){var n,t,i;return!!(e&&K(e)&&(null===(i=e.ext)||void 0===i?void 0:null===(t=i.source_file)||void 0===t?void 0:null===(n=t.includes)||void 0===n?void 0:n.call(t,"file_name")))}let K=e=>(null==e?void 0:e.content_type)===k.ContentType.Text||(null==e?void 0:e.content_type)===s.ContentType.SamanthaText,J=e=>{var n;return(null==e?void 0:e.content_type)===s.ContentType.SamanthaCustomSkill||(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_content_type)===s.ContentType.SamanthaCustomSkill.toString()},z=e=>J(e)&&nA(e),$=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.is_finish)==="1"},Y=e=>{var n,t;return(null==e?void 0:e.content_type)===s.ContentType.SamanthaWritingGenerateInput||(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_content_type)===s.ContentType.SamanthaWritingGenerateInput.toString()||!(null==e?void 0:e.reply_id)&&!!(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.doc_action)},X=e=>{var n;return Y(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},Q=e=>K(e)||e9(e)||el(e)||ec(e)||ea(e)||q(e)||et(e)||ee(e)||(0,O.isThinkingMessage)(e)||e7(e)||ep(e)||em(e)||eN(e)||J(e)||tS(e)||tT(e)||eQ(e)||tR(e)||tL(e)||tB(e)||tq(e)||tZ(e)||eo(e)||ez(e)||e$(e)||Y(e),q=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillRead||(null==e?void 0:e.content_type)===s.ContentType.SamanthaReadInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaReadOutput},Z=e=>{var n;return q(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},ee=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillAiPodcast||(null==e?void 0:e.content_type)===s.ContentType.SamanthaAiPodcastInput},en=e=>{var n;return tS(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},et=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillWebpage||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWebpageInput},ei=e=>{var n,t;return(null==e?void 0:null===(t=e.verbose)||void 0===t?void 0:null===(n=t.seed_intention)||void 0===n?void 0:n.intention)==="browsing"},eo=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.ReferenceAsk||(null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtReferenceAsk},el=e=>{var n,t;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillTranslate||(null==e?void 0:e.content_type)===s.ContentType.SamanthaTranslate||(null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtTranslate||(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.input_content_type)===s.ContentType.SamanthaDesExtTranslate.toString()},er=e=>{var n;return(null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtTranslate||(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_content_type)===s.ContentType.SamanthaDesExtTranslate.toString()},ea=e=>{var n,t,i;return(null==e?void 0:e.content_type)===k.ContentType.Text&&((null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillSearch||(null===(t=e.skill)||void 0===t?void 0:t.skill_type)===s.SkillType.SkillDeepSearch||(null===(i=e.skill)||void 0===i?void 0:i.skill_type)===M.SkillType.AcademicSearch||ej(e)||eH(e)||eJ(e)||e1(e))||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaDeepSearchInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchText||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchEngineInput},eu=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&((null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillSearch||ej(e)||eH(e)||eJ(e))||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchText},es=e=>(eR(e)||K(e)||ep(e)||q(e))&&e.has_think_reason,ed=e=>(nl(e)||eR(e))&&e.has_think_reason,ec=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillImageGen||(null==e?void 0:e.content_type)===s.ContentType.SamanthaImageInput},ev=e=>{var n,t,i;return((null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillCodeAssistant||(null==e?void 0:null===(i=e.verbose)||void 0===i?void 0:null===(t=i.seed_intention)||void 0===t?void 0:t.detail)==="Agent-Code"||(null==e?void 0:e.content_type)===s.ContentType.SamanthaCodeAssistantInput)&&!e7(e)},ep=e=>(null==e?void 0:e.content_type)===k.ContentType.CodeArtifact||(null==e?void 0:e.content_type)===s.ContentType.SamanthaCodeAssistantOutput,e_=e=>{var n,t;return ep(e)&&(!!(null===(n=e.content_obj)||void 0===n?void 0:n.artifact_meta)||!!(null===(t=e.ext)||void 0===t?void 0:t.samantha_artifact_meta_list))},eg=e=>{var n,t,i;let o=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.findIndex(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_ARTIFACT);if(void 0===o||!(o>=0))return!1;{let n=null==e?void 0:null===(i=e.content_blocks)||void 0===i?void 0:null===(t=i[o].content_obj)||void 0===t?void 0:t.resource_type;return void 0!==n&&[p.ArtifactResourceType.ArtifactResourceType_Code,p.ArtifactResourceType.ArtifactResourceType_CodeDevelopMode].includes(n)}},ey=e=>{var n;let t=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.findIndex(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_REQUIREMENT_CLARIFY);return void 0!==t&&t>=0},ef=e=>{var n,t,i,o,l,r,a;return(!(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)||(null==e?void 0:null===(t=e.skill)||void 0===t?void 0:t.skill_type)===s.SkillType.SkillCodeAssistant)&&(!(null==e?void 0:null===(i=e.verbose)||void 0===i?void 0:i.seed_intention)||(null==e?void 0:null===(l=e.verbose)||void 0===l?void 0:null===(o=l.seed_intention)||void 0===o?void 0:o.detail)==="Agent-Code"||(null==e?void 0:null===(a=e.verbose)||void 0===a?void 0:null===(r=a.seed_intention)||void 0===r?void 0:r.detail)==="default")||ep(e)||eg(e)||ey(e)},eS=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.loading_style)==="loading_generate_image"},eT=e=>(null==e?void 0:e.content_type)===k.ContentType.PluginSearchResult||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchCard;function eC(e){return(null==e?void 0:e.content_type)===k.ContentType.Composite||(null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtMultiWebsites}let eh=e=>(null==e?void 0:e.content_type)===k.ContentType.LyricsToSongLyric,em=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillMusicGen||(null==e?void 0:e.content_type)===s.ContentType.SamanthaMusicGenInput},ek=e=>(null==e?void 0:e.content_type)===k.ContentType.LyricsToSongsMusic||(null==e?void 0:e.content_type)===k.ContentType.LyricsToSongMusic,eM=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaMusicGenOutput,eA=e=>eM(e)||ek(e),eR=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchText,ex=e=>(null==e?void 0:e.message_type)===k.MessageType.Ack||(null==e?void 0:e.message_type)===d.EventType.ACK,eb=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaLoading,eI=e=>(null==e?void 0:e.content_type)===v.ContentType.BLOCK_THINKING,eP=e=>(null==e?void 0:e.content_type)===k.ContentType.PagesIntentionCard||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWriteIntentionCardOutput,eO=e=>(null==e?void 0:e.content_type)===k.ContentType.Music||(null==e?void 0:e.content_type)===s.ContentType.SamanthaMusic,eE=e=>(null==e?void 0:e.content_type)===k.ContentType.BotCard,eW=e=>(null==e?void 0:e.content_type)===k.ContentType.Image||(null==e?void 0:e.content_type)===s.ContentType.SamanthaImageOutput,eL=e=>{var n,t,i;return((null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillImageGen||(null==e?void 0:e.content_type)===s.ContentType.SamanthaImageInput)&&(null!==(i=null==e?void 0:null===(t=e.attachments)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0},eD=e=>{var n;return(null==e?void 0:e.content_type)===s.ContentType.SamanthaEduInput||(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillEdu},eN=e=>{var n;return null!=e&&null!==(n=e.content_obj)&&void 0!==n&&!!n.text&&eD(e)},eB=e=>{let n=null==e?void 0:e.attachments;return null!=n&&!!n.length&&eD(e)},ew=e=>(null==e?void 0:e.content_type)===k.ContentType.File,eF=e=>(null==e?void 0:e.content_type)===k.ContentType.Image,eU=e=>(null==e?void 0:e.content_type)===k.ContentType.File,eG=e=>(null==e?void 0:e.content_type)===k.ContentType.PluginSearchResult,eV=e=>(null==e?void 0:e.content_type)===k.ContentType.CopilotCard,ej=e=>{var n;return"1"===((null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.complex_search)||"")},eH=e=>{var n;let t=(0,i.default)(e,["message_action_bar"]),o=(0,i.default)(e,["ext","search_action_bar_config"]),l=(0,I.parseJSON)(o,{});return!(null==t?void 0:t.invisible)&&!!(null==t?void 0:null===(n=t.config)||void 0===n?void 0:n.deep_search)||!!(null==l?void 0:l.deep_search)},eK=e=>(null==e?void 0:e.content_type)===k.ContentType.CopilotCard,eJ=e=>{var n;return!!(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.search_references)},ez=e=>{var n;return!!(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.generate_mind_map)},e$=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtMindMapGenerate,eY=e=>(null==e?void 0:e.conversation_type)===c.PcchatExprConversationType.Coco||(null==e?void 0:e.conversation_type)===c.PcchatExprConversationType.CocoSub||(null==e?void 0:e.conversation_type)===c.PcchatExprConversationType.CocoWeb||(null==e?void 0:e.conversation_type)===c.PcchatExprConversationType.CocoWebSub,eX=e=>(null==e?void 0:e.conversation_type)===c.PcchatExprConversationType.Bot,eQ=e=>{var n,t,i,o,l;return null!=e&&null!==(n=e.ext)&&void 0!==n&&!!n.input_content_type&&([String(s.ContentType.SamanthaSharedAppAssistant),String(s.ContentType.SamanthaCodeInterpreterInput)].includes(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.input_content_type)||(null==e?void 0:null===(i=e.ext)||void 0===i?void 0:i.message_from)===String(A.MessageFrom.SharedApp))&&(!!(null==e?void 0:null===(o=e.references)||void 0===o?void 0:o.length)||!!(null==e?void 0:null===(l=e.ext)||void 0===l?void 0:l.reference_content))},eq=e=>{var n;let t=!!((null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.hover_position)||(0,i.default)(e,["ext","pdf_hover_position"]));return ea(e)&&t},eZ=e=>{var n;return tT(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},e0=e=>{var n;return K(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},e1=e=>{let n=(0,i.default)(e,["ext","only_alt_card"]),t=(0,I.parseJSON)((0,i.default)(e,["ext","ruyi_card_type"]),[]);return!!n||t.length>0},e2=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.generate_mind_map)==="1"},e3=e=>{var n,t;return null==e?void 0:null===(t=e.content_blocks)||void 0===t?void 0:null===(n=t.find(e=>e.block_type===v.ContentType.BLOCK_ARTIFACT))||void 0===n?void 0:n.content_obj},e4=[p.ArtifactResourceType.ArtifactResourceType_WriteDoc,p.ArtifactResourceType.ArtifactResourceType_Pages,p.ArtifactResourceType.ArtifactResourceType_StepWritingPage,p.ArtifactResourceType.ArtifactResourceType_CanvasPage,p.ArtifactResourceType.ArtifactResourceType_StepWritingOtterPage],e7=e=>{var n,t,i;return(null==e?void 0:e.content_type)!==s.ContentType.SamanthaCodeAssistantOutput&&(!!(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.samantha_artifact)||!!(null==e?void 0:null===(t=e.content_obj)||void 0===t?void 0:t.artifact_meta)||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWriteArtifactOutput||tH(e)&&(0,o.default)(e4,null===(i=e3(e))||void 0===i?void 0:i.resource_type))},e8=e=>{var n;return e7(e)&&!!(null===(n=e.content_obj)||void 0===n?void 0:n.artifact_meta)},e5=e=>{var n,t,o,l;let r=null!==(l=null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.genre)&&void 0!==l?l:(0,i.default)((0,I.parseJSON)(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.input_skill,{}),"variables.genre");return((null==e?void 0:null===(o=e.ext)||void 0===o?void 0:o.samantha_item_type)==="pages_outline"||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWriteOutlineOutput)&&"ai_ppt"!==r},e6=e=>{var n,t;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.loading_style)==="loading_outline"||(null==e?void 0:null===(t=e.content_obj)||void 0===t?void 0:t.loading_style)==="loading_outline"},e9=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaWriteInput,ne=[p.ArtifactResourceType.ArtifactResourceType_StepWritingOtterPage],nn=e=>{var n;return!!(tH(e)&&(0,o.default)(ne,null===(n=e3(e))||void 0===n?void 0:n.resource_type))||((null==e?void 0:e.content_type)===k.ContentType.PagesCard||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWritePagesCardOutput)&&!nt(e)},nt=e=>{var n,t;return!!(tH(e)&&(0,o.default)(ne,null===(n=e3(e))||void 0===n?void 0:n.resource_type))||((null==e?void 0:e.content_type)===k.ContentType.PagesCard||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWritePagesCardOutput)&&(null==e?void 0:null===(t=e.content_obj)||void 0===t?void 0:t.resource_type)===R.ArtifactResourceType.StepWritingOtterPage},ni=e=>{var n;return((null==e?void 0:e.content_type)===k.ContentType.Text||(null==e?void 0:e.content_type)===s.ContentType.SamanthaSearchText)&&(null===(n=e.content_obj)||void 0===n?void 0:n.only_alt_card)==="1"},no=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillVideoGeneration||(null==e?void 0:e.content_type)===s.ContentType.SamanthaVideoGenerationInput},nl=e=>{var n,t;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillWrite||e7(e)||!!(null==e?void 0:null===(t=e.content_obj)||void 0===t?void 0:t.artifact_meta)&&(null==e?void 0:e.content_type)!==s.ContentType.SamanthaCodeAssistantOutput&&(null==e?void 0:e.content_type)!==s.ContentType.SamanthaCodeInterpreterOutput},nr=e=>{var n;return((null==e?void 0:e.user_type)===k.UserType.Human&&(null==e?void 0:e.content_type))===k.ContentType.Text&&(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillVideoGeneration||(null==e?void 0:e.content_type)===s.ContentType.SamanthaVideoGenerationOutput||(null==e?void 0:e.content_type)===5},na=e=>{let[n,t]=[null==e?void 0:e.video_status,null==e?void 0:e.status].map(e=>"string"==typeof e&&e.length?Number(e):e);return"number"==typeof n?n<_.VideoStatusSuccess:"number"==typeof t&&t<g.VideoStatusSucceed},nu=e=>{if(!(null==e?void 0:e.vid))return!1;let[n,t]=[null==e?void 0:e.video_status,null==e?void 0:e.status].map(e=>"string"==typeof e&&e.length?Number(e):e);return"number"==typeof n?n===_.VideoStatusSuccess:"number"==typeof t&&t===g.VideoStatusSucceed},ns=e=>!na(e)&&!nu(e),nd=e=>nr(e)&&na((null==e?void 0:e.content_obj)||{}),nc=e=>nr(e)&&ns((null==e?void 0:e.content_obj)||{}),nv=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillType_AiPPT||(null==e?void 0:e.content_type)===s.ContentType.SamanthaAiPPTInput},np=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaAiPPTOutput||(null==e?void 0:e.content_type)===k.ContentType.AiPPT,n_=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillType_AiPPT},ng=e=>{var n,t,o,l;let r=null!==(l=null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.genre)&&void 0!==l?l:(0,i.default)((0,I.parseJSON)(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.input_skill,{}),"variables.genre");return((null==e?void 0:null===(o=e.ext)||void 0===o?void 0:o.samantha_item_type)==="pages_outline"||(null==e?void 0:e.content_type)===s.ContentType.SamanthaWriteOutlineOutput)&&"ai_ppt"===r},ny=e=>{var n;return((null==e?void 0:e.content_type)===s.ContentType.SamanthaAiPPTOutput||(null==e?void 0:e.content_type)===k.ContentType.AiPPT)&&!(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.status)},nf=e=>{var n;let t=Number(null==e?void 0:e.content_type),i=Number(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_content_type),o=K(e)?i:t;return o>2500&&o<3e3},nS=e=>!!eT(e),nT=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Video&&Array.isArray(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.video_list)},nC=e=>{var n,t;return!!(null==e?void 0:e.ext)&&!!(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.onboarding)&&(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.onboarding)!=="0"},nh=e=>{var n,t,i;return(null==e?void 0:e.has_suggest)?!!(null==e?void 0:e.has_suggest):(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.sp)?!!(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.sp):"content_blocks"in e&&!!(null==e?void 0:null===(i=e.content_blocks)||void 0===i?void 0:i.find(e=>e.block_type===v.ContentType.SAMANTHA_SUGGEST))},nm=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.evaluate_interference)==="1"},nk=(e,n,t)=>!(!e||!(0,r.default)(e.index)&&Number(e.index)<(n||0)||nC(e)&&t||nm(e))&&(0,O.isMessageAvailable)(e),nM=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.guidance_use_cache_answer)==="1"},nA=e=>{var n;let t=null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.browser_plugin_info;return!!t&&!!(0,I.parseJSON)(t,{}).custom_ref_show_variable},nR=e=>(null==e?void 0:e.user_type)===k.UserType.Human,nx=e=>{var n,t;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.MusicAssistant&&!!(null===(t=e.content_obj)||void 0===t?void 0:t.text)&&(0,a.default)(e.content_obj.text)},nb=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Q,eW,nx,ew,eC,V,e9,no];return e?n.reduce((n,t)=>n||t(e),!1):!!e},nI=e=>{var n;return(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.card_type)===y.CardType.CARD_BUILDER&&(null==e?void 0:e.content_type)===k.ContentType.Card},nP=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Q,eW,tx,nT,eO,nI,ew,nS,eE,eC,eh,eA,eK,nn,eR,nr,nd,tL,tV];return e?n.reduce((n,t)=>n||t(e),!1):!!e},nO=e=>{let n=nR(e),t=n?nb(e):nP(e),i=n&&eW(e);return!N(e)&&!(0,O.isMessageLoading)(e)&&(0,O.isMessageFinished)(e)&&t&&!i},nE=e=>nO(e)&&!nR(e)&&!(0,E.isLocalMessage)(e),nW=e=>{var n,t;let i=!!((null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.inner_log_id)||(null==e?void 0:null===(t=e.local_info)||void 0===t?void 0:t.log_id));return N(e)&&!nR(e)&&(0,E.isLocalMessage)(e)&&i},nL=e=>{var n;return!!(0,E.isLocalMessage)(e)&&!!(null==e?void 0:null===(n=e.local)||void 0===n?void 0:n.hasBroken)},nD=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.coco_web_new_search_result_style)==="1"},nN=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.coco_web_new_search_result_style)==="2"},nB=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.coco_web_new_search_result_style)==="3"},nw=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.coco_web_new_search_result_style)==="4"},nF=e=>{var n;return(0,O.isThinkingMessage)(e)&&(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.search_references)},nU=e=>(nD(e)||nN(e)||nB(e)||nw(e))&&!nF(e),nG=e=>(null==e?void 0:e.status)===k.PushMessageStatus.NotCompliant,nV=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.hit_risk)==="1"},nj=e=>{let{status:n}=e.local;return n===c.LocalMessageStatus.Preprocessing},nH=e=>(0,O.isMessageFinished)(e)&&!L(e)&&!N(e),nK=e=>{var n,t;return(0,O.isAsyncTaskMessage)(e)?!!(null==e?void 0:null===(t=e.local_info)||void 0===t?void 0:t.finish_async_reply):!!(null==e?void 0:null===(n=e.local_info)||void 0===n?void 0:n.finish_reply)&&!(0,O.isStreamAsyncMessage)(e)},nJ=e=>{var n,t;return null!=e&&null!==(n=e.ext)&&void 0!==n&&!!n.samantha_skill_biz_err_code&&(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.samantha_skill_biz_err_code)!==""},nz=e=>{var n;return null==e?void 0:null===(n=e.message_action_bar)||void 0===n?void 0:n.invisible},n$=e=>{var n,t;let i=(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.rich_media_type_samantha_web)||"",o=null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.disable_action_view;return Q(e)&&(["rich_media_only_video","rich_media_only_image"].includes(i)||o)},nY=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.DeepSearch},nX=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.CodeInterpreter||(null==e?void 0:e.content_type)===s.ContentType.SamanthaCodeInterpreterOutput},nQ=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.AcademicSearch},nq=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.WriteAssistant},nZ=e=>!!(0,i.default)(e,["ext","deep_search_error"]),n0=e=>{var n;return!!(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.msg_template_id)},n1=e=>{var n;return!!Number(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.need_plugin_auth)};function n2(e){var n;return(null==e?void 0:null===(n=e.error_details)||void 0===n?void 0:n.error_code)===x.ErrorCodes.CLEAR_LAST_PROMPT}let n3=e=>{var n;return(null==e?void 0:null===(n=e.error_details)||void 0===n?void 0:n.error_code)===x.ErrorCodes.FILE_SAFETY_ERROR||(null==e?void 0:e.status)===k.PushMessageStatus.NotCompliant},n4=e=>{var n;return(null==e?void 0:null===(n=e.error_details)||void 0===n?void 0:n.error_code)===x.ErrorCodes.IMAGE_SAFETY_ERROR||(null==e?void 0:e.status)===k.PushMessageStatus.NotCompliant},n7=e=>(null==e?void 0:e.security_archive_state)==="shadow_mailbox",n8=e=>(0,u.default)(e)||(0,u.default)(null==e?void 0:e.content_obj);function n5(e){var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.is_ultra_long_text)==="1"}function n6(e){try{var n,t,i;let o=JSON.parse(null!==(t=null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.read_status)&&void 0!==t?t:"");return null!==(i=o.suggest_new_thread)&&void 0!==i&&i}catch(e){return!1}}function n9(e){try{var n,t,i;let o=(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.read_status)||JSON.parse(null!==(i=null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.read_status)&&void 0!==i?i:"");if(o.read_ratio>0&&o.read_ratio<100)return!0;return!1}catch(e){return!1}}function te(e){var n,t;return!!e&&Q(e)&&Number(null===(t=e.attachments)||void 0===t?void 0:null===(n=t.filter(e=>e.type!==c.AttachmentEnum.ResourceContent))||void 0===n?void 0:n.length)>0}function tn(e){return(0,h.isValidUrl)(e,{allowedProtocols:["https:"]})}function tt(e){var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.ImageGeneration}function ti(e){var n;let t=(0,I.parseJSON)((0,i.default)(e,["ext","input_skill"]),{});return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.WriteAssistant&&!!t.show_variables}function to(e){var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.disable_action_view)==="true"}function tl(e){return eC(e)&&Array.isArray((0,i.default)(e,["content_obj","image_model","image_list"]))}function tr(e){return eC(e)&&Array.isArray((0,i.default)(e,["content_obj","file_model","file_list"]))}function ta(e){var n;return!ev(e)&&eC(e)&&(0,a.default)((0,i.default)(e,["content_obj","link_model","url"]))||((null==e?void 0:e.content_type)===s.ContentType.SamanthaReadInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaAiPodcastInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaText)&&!!(null==e?void 0:null===(n=e.attachments)||void 0===n?void 0:n.find(e=>"link"===e.type))}function tu(e){return eC(e)&&Array.isArray((0,i.default)(e,["content_obj","website_model","pages"]))}let ts=e=>{var n;return!!e&&(eW(e)||ew(e)||eC(e)||V(e)||te(e))&&(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)!==M.SkillType.ExerciseAssistant&&!no(e)&&!eL(e)},td=e=>!!eT(e)&&(0,i.default)(e,"content_obj.search_result.card_params.rich_media.card_type")===c.RichMediaCardType.OnlyImage,tc=e=>!!eT(e)&&(0,i.default)(e,"content_obj.search_result.card_params.rich_media.card_type")===c.RichMediaCardType.OnlyVideo,tv=e=>{if(!Q(e))return!1;let n=e.meta_infos;return!!(null==n?void 0:n.some(e=>{if(!e.info)return!1;try{var n;let t=null===(n=(0,I.parseJSON)(e.info,{}))||void 0===n?void 0:n.insert_text;if(!t)return!1;let i=decodeURIComponent(t);return i.includes('<data-block type="image-group"')||i.includes('<data-inline type="image-group"')}catch(e){return!1}}))},tp=e=>{if(!Q(e))return!1;let n=e.meta_infos;return!!(null==n?void 0:n.some(e=>{if(!e.info)return!1;try{var n;let t=null===(n=(0,I.parseJSON)(e.info,{}))||void 0===n?void 0:n.insert_text;if(!t)return!1;let i=decodeURIComponent(t);return i.includes('<data-block type="video-group"')||i.includes('<data-inline type="video-group"')}catch(e){return!1}}))},t_=e=>{if(e&&Q(e)){let{text:n}=e.content_obj||{};return(0,a.default)(n)&&n.includes("coco://sendMessage")}return!1},tg=e=>!!(null==e?void 0:e.stream_id),ty=e=>tg(e)&&(0,O.isMessageAvailable)(e),tf=e=>tg(e)&&(null==e?void 0:e.status)!==k.PushMessageStatus.Available&&(null==e?void 0:e.status)!==k.PushMessageStatus.Broken,tS=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillCodeInterpreter||(null==e?void 0:e.content_type)===s.ContentType.SamanthaCodeInterpreterInput||(null==e?void 0:e.content_type)===s.ContentType.SamanthaCodeInterpreterOutput},tT=e=>{var n,t;if(!(null==e?void 0:e.content_type))return!1;let i=e.content_type;return s.ContentType.SamanthaDesExtSupertask===i||(null===(n=e.ext)||void 0===n?void 0:n.input_content_type)===`${s.ContentType.SamanthaDesExtSupertask}`||(null===(t=e.skill)||void 0===t?void 0:t.skill_id)===`${s.SkillType.DesExtSkillSuperTask}`},tC=e=>{var n;return tT(e)&&(null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>e.block_type===v.ContentType.BLOCK_SUPERTASK))},th=e=>{var n,t;return tT(e)&&Number(null==e?void 0:null===(t=e.verbose)||void 0===t?void 0:null===(n=t.super_task)||void 0===n?void 0:n.supertask_stage)===S.SupertaskStageClarification},tm=e=>{var n,t;return tT(e)&&Number(null==e?void 0:null===(t=e.verbose)||void 0===t?void 0:null===(n=t.super_task)||void 0===n?void 0:n.supertask_stage)===S.SupertaskStagePPTOutlineAck},tk=e=>{var n,t,i;if((null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.suggest_skill)==="1")return!0;let o=null==e?void 0:null===(t=e.content_blocks)||void 0===t?void 0:t.find(e=>e.block_type===s.ContentType.SamanthaSuggest);return(null==o?void 0:null===(i=o.content_obj)||void 0===i?void 0:i.suggest_skill)===1},tM=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillTypeMediaUnderstandingByAsr||(null==e?void 0:e.content_type)===s.ContentType.SamanthaMediaUnderstandingByAsrInput},tA=e=>{var n;return tM(e)&&!!(null==e?void 0:null===(n=e.references)||void 0===n?void 0:n.length)},tR=e=>{var n;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===s.SkillType.SkillTypeMediaUnderstandingByAsr||(null==e?void 0:e.content_type)===s.ContentType.SamanthaMediaUnderstandingByAsrInput},tx=e=>{var n;return!!(tE(e)&&(null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===s.ContentType.SamanthaCreationOutput)))},tb=e=>{var n;let t=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.filter(e=>(null==e?void 0:e.block_type)===s.ContentType.SamanthaCreationOutput);if((null==t?void 0:t.length)!==0){let e=null==t?void 0:t.map(e=>{var n;return(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.creations)||[]}).flat(),n=null==e?void 0:e.filter(e=>(null==e?void 0:e.type)===T.CreationType.CreationTypeImage);if((null==n?void 0:n.length)!==0&&n)return null==n?void 0:n.map(e=>null==e?void 0:e.image)}return[]},tI=e=>{let n=tb(e);return null==n?void 0:n.some(e=>(null==e?void 0:e.status)===C.ImageStatus.ImageStatusGenerating)},tP=e=>{let n=tb(e);return null==n?void 0:n.every(e=>(null==e?void 0:e.status)!==C.ImageStatus.ImageStatusGenerating)},tO=e=>{var n;let t=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.filter(e=>(null==e?void 0:e.block_type)===s.ContentType.SamanthaCreationOutput);return(null==t?void 0:t.length)?t.map(e=>{var n;return(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.creations)||[]}).flat().filter(e=>(null==e?void 0:e.type)===T.CreationType.CreationTypeVideo&&e.video).map(e=>e.video):[]},tE=e=>{var n;return!!((null==e?void 0:e.content_blocks)&&(null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.length)!==0)},tW=e=>tE(e)&&L(e),tL=e=>{var n;return!!(tE(e)&&(null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===s.ContentType.SamanthaBlockText)))},tD=e=>(null==e?void 0:e.local_message_id)===m.mockReplyConstantMessageId||(null==e?void 0:e.local_message_id)===(0,P.getTemporaryReplyMessageId)((null==e?void 0:e.reply_id)||""),tN=e=>{var n,t,i;return(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.SkillDeepResearch||!!(null==e?void 0:null===(i=e.verbose)||void 0===i?void 0:null===(t=i.deep_research)||void 0===t?void 0:t.deep_research_id)},tB=e=>{var n;return(null==e?void 0:e.content_type)===k.ContentType.Text&&(null==e?void 0:null===(n=e.skill)||void 0===n?void 0:n.skill_type)===M.SkillType.SkillDeepResearch||(null==e?void 0:e.content_type)===s.ContentType.SamanthaDeepResearchInput},tw=e=>{var n,t;return tN(e)&&Number(null==e?void 0:null===(t=e.verbose)||void 0===t?void 0:null===(n=t.deep_research)||void 0===n?void 0:n.deep_research_stage)===f.DeepResearchStageClarification},tF=e=>{var n,t,i,o,l,r;let a=(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.research_suggest)==="true"||((null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.suggest_skill)?(null==e?void 0:null===(i=e.ext)||void 0===i?void 0:i.suggest_skill)==="0":(null==e?void 0:null===(o=e.ext)||void 0===o?void 0:o.deep_research_suggest)==="1"),u=null==e?void 0:null===(l=e.content_blocks)||void 0===l?void 0:l.find(e=>e.block_type===s.ContentType.SamanthaSuggest),{suggest_skill:d,deep_research_suggest:c}=null!==(r=null==u?void 0:u.content_obj)&&void 0!==r?r:{};return a||(d?0===d:!!c)},tU=e=>{var n,t;return tN(e)&&Number(null==e?void 0:null===(t=e.verbose)||void 0===t?void 0:null===(n=t.deep_research)||void 0===n?void 0:n.deep_research_stage)===f.DeepResearchStageRestatement},tG=e=>{var n,t;let i=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.find(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_RESEARCH),o=(null==i?void 0:null===(t=i.content_obj)||void 0===t?void 0:t.status)===p.Status.PROCESSING;return tV(e)&&o},tV=e=>{var n;return!!(null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_RESEARCH))},tj=e=>{var n;return null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_RESEARCH_PROCESS_CARD||(null==e?void 0:e.block_type)===v.ContentType.BLOCK_CODE_ASSIST_PROCESS_BLOCK)},tH=e=>{var n,t;return null!==(t=null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_ARTIFACT))&&void 0!==t&&t},tK=e=>{var n;return(null==e?void 0:e.block_type)===v.ContentType.BLOCK_ARTIFACT&&[p.ArtifactResourceType.ArtifactResourceType_CanvasPage,p.ArtifactResourceType.ArtifactResourceType_StepWritingOtterPage,p.ArtifactResourceType.ArtifactResourceType_Pages,p.ArtifactResourceType.ArtifactResourceType_StepWritingPage].includes(null==e?void 0:null===(n=e.content_obj)||void 0===n?void 0:n.resource_type)},tJ=e=>{var n;return null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(tK)},tz=e=>{var n;return null==e?void 0:null===(n=e.content_blocks)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_RESEARCH_WEBPAGE)},t$=e=>{var n;return!(0,O.isAsyncTaskMessage)(e)||(null==e?void 0:null===(n=e.async_task)||void 0===n?void 0:n.status)!==d.AsyncTaskStatus.AsyncTaskStatusProcessing},tY=e=>{var n;return!(0,O.isAsyncTaskMessage)(e)||(null==e?void 0:null===(n=e.async_task)||void 0===n?void 0:n.status)===d.AsyncTaskStatus.AsyncTaskStatusProcessing},tX=e=>{var n,t,i;let o=(0,I.parseJSON)(null===(n=e.ext)||void 0===n?void 0:n.reference_content,[]),l=(Array.isArray(o)&&!(0,u.default)(o)?o:[]).find(e=>{var n;return null==e?void 0:null===(n=e.option)||void 0===n?void 0:n.local_path});return(null===(t=(0,I.parseJSON)(null==l?void 0:null===(i=l.option)||void 0===i?void 0:i.local_path,""))||void 0===t?void 0:t.type)==="browser_link"},tQ=e=>(null==e?void 0:e.content_type)===s.ContentType.SamanthaCanvasInput,tq=e=>{var n,t;let o=(0,I.parseJSON)(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.browser_plugin_info,{}),l=(0,I.parseJSON)(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.browser_explain,{});return"reference_text_summary"===(0,I.parseJSON)((0,i.default)(e,["ext","input_skill"]),{}).template_key||o.scene_id===b.Scene.TextSelection&&((null==e?void 0:e.content_type)===s.ContentType.SamanthaDesExtAIToolSummary||!!(null==l?void 0:l.content))},tZ=e=>{var n;return(null==e?void 0:e.content_type)===s.ContentType.SamanthaExplain||(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.explain)==="1"},t0=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.browser_explain)&&(Q(e)||e.content_type===s.ContentType.SamanthaDesExtAIToolSummary||e.content_type===s.ContentType.SamanthaSummaryHighlight)},t1=e=>{var n;let t=(0,I.parseJSON)(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_skill,{});return(null==t?void 0:t.skill_type)===14},t2=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.input_content_type)===String(s.ContentType.SamanthaCodeAssistantInput)},t3=e=>e.content_type===k.ContentType.Text&&!!(0,i.default)(e,"reference_info.display_content"),t4=e=>{var n;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.use_display_ctn)==="1"},t7=e=>{var n,t;return!!(tE(e)&&(null==e?void 0:null===(t=e.content_blocks_tree)||void 0===t?void 0:null===(n=t.children)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.block_type)===v.ContentType.BLOCK_CODE)))}},725705:function(e,n,t){t.d(n,{isInPreProcessLocalMessage:function(){return l},isLocalMessage:function(){return o}});var i=t(101874);let o=e=>!!(e&&"local"in e),l=e=>o(e)&&[i.LocalMessageStatus.PreprocessFailed,i.LocalMessageStatus.Preprocessing].includes(e.local.status)},674157:function(e,n,t){t.d(n,{isAsyncTaskMessage:function(){return p},isMessageAvailable:function(){return g},isMessageFinished:function(){return _},isMessageLoading:function(){return s},isMessageReceivingFirstPackage:function(){return u},isMessageSending:function(){return v},isMessageWaitingAck:function(){return a},isRegenerateMessage:function(){return y},isStreamAsyncMessage:function(){return c},isThinkingMessage:function(){return d}});var i=t(4137),o=t(101874),l=t(458524),r=t(725705);let a=e=>{let{status:n}=e.local;return n===o.LocalMessageStatus.WaitingAck},u=e=>{let{status:n}=e.local;return n===o.LocalMessageStatus.ReceivingFirstPackage},s=e=>!!((0,r.isLocalMessage)(e)&&(u(e)||a(e))),d=e=>(null==e?void 0:e.message_type)===l.MessageType.Loading||(null==e?void 0:e.content_type)===2003,c=e=>{var n,t;return(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.stream_async)==="1"||!!(null==e?void 0:null===(t=e.content_obj)||void 0===t?void 0:t.stream_async)},v=e=>{let{status:n}=e.local;return n===o.LocalMessageStatus.Sending},p=e=>!!(null==e?void 0:e.async_task),_=e=>{var n;return!(s(e)||d(e)||(0,r.isLocalMessage)(e)&&v(e)||!(null==e?void 0:e.is_finish)||e.status===l.PushMessageStatus.Streaming||c(e)||p(e)&&(null===(n=e.async_task)||void 0===n?void 0:n.status)===1)},g=e=>!(0,i.default)(null==e?void 0:e.status)&&(null==e?void 0:e.status)!==l.PushMessageStatus.InVisible,y=e=>(0,r.isLocalMessage)(e)?!!e.local.isRegenerate:!!(null==e?void 0:e.is_regen)},840738:function(e,n,t){t.d(n,{getTemporaryReplyMessageId:function(){return i}});let i=(e,n)=>`replyTo${e}${void 0!==n?`#${n}`:""}`},778816:function(e,n,t){t.d(n,{CardType:function(){return l},FPAPodcastWidgetId:function(){return d},FpaBizAppletId:function(){return s},NestedMessageEntityType:function(){return a},NestedMessageFileType:function(){return u},PageIntentionCardStatus:function(){return r}});var i,o,l={CARD_BUILDER:3},r={Default:"0",ChoiceDirect:"1",ChoiceGenOutline:"2"},a={Unknown:0,File:1,Image:2,Directory:3},u={Unknown:0,File:1,OCRImage:2,Audio:3,Video:4};let s=((i={}).Unknown="unknown",i.Music="com.flow.music.auth",i.Podcast="com.flow.podcast",i.Locallife="com.flow.locallife",i.News="com.flow.news",i),d=((o={}).AIPodcast="widget__ai_episode",o)},68989:function(e,n,t){t.d(n,{ArtifactAction:function(){return v},ArtifactResourceType:function(){return o},ArtifactStatus:function(){return i},CodeStdOutType:function(){return u},FileOperationType:function(){return s},SearchQueryResultScene:function(){return d},SearchType:function(){return c},Source:function(){return r},Status:function(){return l},Style:function(){return a}});var i={ArtifactStatus_Undefined:0,ArtifactStatus_Generating:1,ArtifactStatus_Generated:2,ArtifactStatus_Deleted:3,ArtifactStatus_OutDated:4},o={ArtifactResourceType_Undefined:0,ArtifactResourceType_WriteDoc:1,ArtifactResourceType_Pages:2,ArtifactResourceType_CanvasPage:3,ArtifactResourceType_StepWritingPage:4,ArtifactResourceType_Code:5,ArtifactResourceType_StepWritingOtterPage:6,ArtifactResourceType_CodeBlock:7,ArtifactResourceType_CodeDevelopMode:8},l={UNKNOWN:0,CANCEL:1,FINISH:2,FAIL:3,PROCESSING:4,PAUSE:5},r={UNKNOWN:0,APP:1,WEB:2},a={DEFAULT:0,TITLE:1,HIDDEN:2,STEP:3},u={CodeStdOutType_Unknown:0,CodeStdOutType_Text:1,CodeStdOutType_Image:2},s={FileOperationType_Unknown:0,FileOperationType_View:1,FileOperationType_Create:2,FileOperationType_Edit:3,FileOperationType_List:4,FileOperationType_Replace:5},d={Unknown:0,Thinking:1,Answer:2},c={Default:0,WebSearch:1,TextSearchImage:2,ImageSearchImage:3,ScholarSearch:4},v={ArtifactAction_Undefined:0,ArtifactAction_Create:1,ArtifactAction_StrReplace:2}},728369:function(e,n,t){t.d(n,{AsyncTaskStatus:function(){return l},EventType:function(){return i},FinReasonEnum:function(){return o}});var i={Unknown:0,HEARTBEAT:1,CMPL:2001,ACK:2002,FIN:2003,CMD:2004,ERR:2005,VUI_CMPL:2006,OAPI_CMPL:2007,VERBOSE:2010,VERSION:2011,BLOCKLIST:2022},o={FinReasonDefault:0,FinReasonAsyncTask:1},l={AsyncTaskStatusUnknown:0,AsyncTaskStatusProcessing:1,AsyncTaskStatusSucceed:2,AsyncTaskStatusFailed:3,AsyncTaskStatusCanceled:4}},224283:function(e,n,t){t.d(n,{CreationType:function(){return i}});var i={CreationTypeUnknown:0,CreationTypeImage:1,CreationTypeVideo:2}},628862:function(e,n,t){t.d(n,{ImageGenScene:function(){return o},ImageStatus:function(){return i}});var i={ImageStatusUnknown:0,ImageStatusGenerating:1,ImageStatusSucceed:2,ImageStatusBanned:3,ImageStatusFailed:4},o={ImageDefault:0,WriteT2i:1,ImgRegen:2,OtterPageT2i:3}}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["71862"],{833268:function(e,t,i){i.d(t,{default:function(){return B}});var s=i(713738),o=i(386827),n=i(812650),r=i.n(n),a=i(362269),l=i.n(a),c=i(71484),d=i(135410);class p extends d.default{addNotice(e){let t=this._adapter.getNotices();this._adapter.updateNotices([e,...t])}has(e){return this._adapter.getNotices().some(t=>t.id===e)}update(e,t){let i=this._adapter.getNotices(),s=(i=i.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i)).filter(t=>t.id===e);this._adapter.updateNotices(i,[],s)}removeNotice(e){let t=this._adapter.getNotices(),i=[];t=t.filter(t=>t.id!==e||(i.push(t),!1)),this._adapter.updateNotices(t,i)}destroyAll(){let e=this._adapter.getNotices();e.length>0&&this._adapter.updateNotices([],e)}}var u=i(35834);let m={WRAPPER:`${u.BASE_CLASS_PREFIX}-notification-wrapper`,LIST:`${u.BASE_CLASS_PREFIX}-notification-list`,NOTICE:`${u.BASE_CLASS_PREFIX}-notification-notice`},h={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]};var f=i(436114),g=i(344417);class b extends d.default{constructor(e){super(Object.assign(Object.assign({},b.defaultAdapter),e)),this._timer=null,this._id=null}init(){this._startCloseTimer(),this._id=this.getProp("id")}destroy(){this._clearCloseTimer()}_startCloseTimer(){let e=this.getProp("duration");e&&(0,g.default)(e)&&(this._timer=setTimeout(()=>{this.close()},1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}_clearCloseTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this._clearCloseTimer(),this._startCloseTimer()}}var O=i(287419),y=i(526675),C=i(544740),j=i(398087),_=i(798141),N=i(119779),v=i(470556),E=i(398807),S=i(497309),I=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)0>t.indexOf(s[o])&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]]);return i};let w=m.NOTICE,{duration:T}={duration:3},{types:A,themes:x,directions:$}=h;class P extends y.default{get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose(),this.props.onHookClose&&this.props.onHookClose()}})}constructor(e){super(e),this.clearCloseTimer=()=>{this.foundation._clearCloseTimer()},this.startCloseTimer=()=>{this.foundation._startCloseTimer()},this.close=e=>{this.props.onCloseClick(this.props.id),this.foundation.close(e)},this.notifyClick=e=>{this.props.onClick(e)},this.state={visible:!0},this.foundation=new b(this.adapter)}componentWillUnmount(){this.foundation.destroy()}renderTypeIcon(){let{type:e,icon:t}=this.props,i={warning:s.createElement(j.default,{size:"large"}),success:s.createElement(_.default,{size:"large"}),info:s.createElement(N.default,{size:"large"}),error:s.createElement(v.default,{size:"large"})}[e],o=r()({[`${w}-icon`]:!0,[`${w}-${e}`]:!0});return(t&&(i=t),i)?s.createElement("div",{className:o,"x-semi-prop":"icon"},(0,C.isSemiIcon)(i)?s.cloneElement(i,{size:i.props.size||"large"}):i):null}render(){let e=this.props.direction||this.context.direction,t=this.props,{content:i,title:o,theme:n,position:a="rtl"===e?"topLeft":"topRight",type:l,id:c,onCloseClick:d,className:p,showClose:u,style:m}=t;I(t,["content","title","theme","position","type","id","onCloseClick","className","showClose","style"]);let{visible:h}=this.state,f=r()(w,p,{[`${w}-close`]:!h,[`${w}-icon-show`]:A.includes(l),[`${w}-${l}`]:!0,[`${w}-${n}`]:"light"===n,[`${w}-rtl`]:"rtl"===e}),g=(0,S.getUuidShort)({});return s.createElement("div",{className:f,style:m,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:this.notifyClick,"aria-labelledby":g,role:"alert",onAnimationEnd:this.props.onAnimationEnd,onAnimationStart:this.props.onAnimationStart},s.createElement("div",null,this.renderTypeIcon()),s.createElement("div",{className:`${w}-inner`},s.createElement("div",{className:`${w}-content-wrapper`},o?s.createElement("div",{id:g,className:`${w}-title`,"x-semi-prop":"title"},o):"",i?s.createElement("div",{className:`${w}-content`,"x-semi-prop":"content"},i):""),u&&s.createElement(O.default,{className:`${w}-icon-close`,type:"tertiary",icon:s.createElement(E.default,null),theme:"borderless",size:"small",onClick:this.close})))}}P.contextType=c.default,P.propTypes={duration:l().number,id:l().string,title:l().node,content:l().node,type:l().oneOf(A),theme:l().oneOf(x),icon:l().node,onClick:l().func,onClose:l().func,onCloseClick:l().func,showClose:l().bool,close:l().func,direction:l().oneOf($)},P.__SemiComponentName__="Notification",P.defaultProps=(0,C.getDefaultPropsFromGlobalConfig)(P.__SemiComponentName__,{duration:T,id:"",close:f.default,onClose:f.default,onClick:f.default,onCloseClick:f.default,content:"",title:"",showClose:!0,theme:"normal"});var L=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)0>t.indexOf(s[o])&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]]);return i},k=s.forwardRef((e,t)=>{var{afterClose:i}=e,o=L(e,["afterClose"]);let[n,r]=(0,s.useState)(!0);return s.useImperativeHandle(t,()=>({close:()=>{r(!1)}})),(0,s.useEffect)(()=>{n||i(String(o.id))},[n]),n?s.createElement(P,Object.assign({},o,{onHookClose:()=>{r(!1)}})):null});let R={duration:3,position:"topRight",motion:!0,content:"",title:"",zIndex:1010};var z=i(168123);let D=null,F={duration:3,position:"topRight",motion:!0,content:"",title:"",zIndex:1010};class H extends y.default{constructor(e){var t;super(e),t=this,this.add=e=>this.foundation.addNotice(e),this.has=e=>this.foundation.has(e),this.remove=e=>{this.foundation.removeNotice(String(e))},this.update=(e,t)=>this.foundation.update(e,t),this.destroyAll=()=>this.foundation.destroyAll(),this.renderNoticeInPosition=function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=r()(m.LIST);if(e.length){let l=t.setPosInStyle(e[0]);return s.createElement("div",{placement:i,key:i,className:a,style:l},e.map((e,a)=>{let l=void 0!==o.find(t=>t.id===e.id);return s.createElement(z.default,{key:e.id,animationState:l?"leave":"enter",startClassName:`${m.NOTICE}-animation-${l?"hide":"show"}_${i}`},i=>{let{animationClassName:o,animationEventsNeedBind:a,isAnimating:c}=i;return l&&!c?null:s.createElement(P,Object.assign({},e,{ref:e=>{e&&n.some(t=>t.id===e.props.id)&&e.foundation.restartCloseTimer()},className:r()({[e.className]:!!e.className,[o]:!0})},a,{style:Object.assign({},e.style),close:t.remove}))})}))}return null},this.state={notices:[],removedItems:[],updatedItems:[]},this.noticeStorage=[],this.removeItemStorage=[],this.foundation=new p(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateNotices:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.noticeStorage=[...t],e.removeItemStorage=[...i],e.setState({notices:t,removedItems:i,updatedItems:s})},getNotices:()=>this.noticeStorage})}static addNotice(e){var t;let i=null!==(t=(e=Object.assign(Object.assign({},F),e)).id)&&void 0!==t?t:(0,S.default)("notification");if(D)D.has(`${i}`)?D.update(i,e):D.add(Object.assign(Object.assign({},e),{id:i}));else{let{getPopupContainer:t}=e,n=document.createElement("div");this.wrapperId||(this.wrapperId=(0,S.default)("notification-wrapper").slice(0,32)),n.className=m.WRAPPER,n.id=this.wrapperId,n.style.zIndex=String("number"==typeof e.zIndex?e.zIndex:F.zIndex),t?t().appendChild(n):document.body.appendChild(n),o.render(s.createElement(H,{ref:e=>D=e}),n,()=>{D.add(Object.assign(Object.assign({},e),{id:i}))})}return i}static removeNotice(e){return D&&D.remove(e),e}static info(e){return this.addNotice(Object.assign(Object.assign({},e),{type:"info"}))}static success(e){return this.addNotice(Object.assign(Object.assign({},e),{type:"success"}))}static error(e){return this.addNotice(Object.assign(Object.assign({},e),{type:"error"}))}static warning(e){return this.addNotice(Object.assign(Object.assign({},e),{type:"warning"}))}static open(e){return this.addNotice(Object.assign(Object.assign({},e),{type:"default"}))}static close(e){return this.removeNotice(e)}static destroyAll(){if(D){D.destroyAll();let e=document.querySelector(`#${this.wrapperId}`);o.unmountComponentAtNode(e),e&&e.parentNode.removeChild(e),D=null,this.wrapperId=null}}static config(e){["top","left","bottom","right"].map(t=>{t in e&&(F[t]=e[t])}),"number"==typeof e.zIndex&&(F.zIndex=e.zIndex),"number"==typeof e.duration&&(F.duration=e.duration),"string"==typeof e.position&&(F.position=e.position)}setPosInStyle(e){let t={};return["top","left","bottom","right"].forEach(i=>{if(i in e){let s=e[i];t[i]="number"==typeof s?`${s}px`:s}}),t}render(){let{notices:e}=this.state,{removedItems:t,updatedItems:i}=this.state;e=Array.from(new Set([...e,...t]));let o={top:[],topLeft:[],topRight:[],bottom:[],bottomLeft:[],bottomRight:[]};e.forEach(e=>{let t=e.direction||this.context.direction;o[e.position||("rtl"===t?"topLeft":"topRight")].push(e)});let n=Object.entries(o).map(e=>{let s=e[0],o=e[1];return this.renderNoticeInPosition(o,s,t,i)});return s.createElement(s.Fragment,null,n)}}H.contextType=c.default,H.propTypes={style:l().object,className:l().string,direction:l().oneOf(h.directions)},H.defaultProps={},H.useNotification=function(){let[e,t]=function(){let[e,t]=(0,s.useState)([]);return[function(){let t={top:[],topLeft:[],topRight:[],bottom:[],bottomLeft:[],bottomRight:[]};return e.forEach(e=>{let{element:i,config:s}=e,{position:o}=s;t[o].push(i)}),Object.entries(t).map(e=>{let t=e[0],i=e[1];return Array.isArray(i)&&i.length?s.createElement("div",{key:t,className:r()(m.LIST),placement:t},i):null})}(),function(e,i){return t(t=>[{element:e,config:i},...t]),e=>{t(t=>t.filter(t=>{let{config:i}=t;return i.id!==e}))}}]}(),i=new Map,o=e=>{let o;let n=(0,S.default)("semi_notice_"),r=Object.assign(Object.assign({},e),{id:n});return o=t(s.createElement(k,Object.assign({key:n},r,{afterClose:e=>o(e),ref:e=>{i.set(n,e)}})),Object.assign({},r)),n};return[{success:e=>o(Object.assign(Object.assign(Object.assign({},R),e),{type:"success"})),info:e=>o(Object.assign(Object.assign(Object.assign({},R),e),{type:"info"})),error:e=>o(Object.assign(Object.assign(Object.assign({},R),e),{type:"error"})),warning:e=>o(Object.assign(Object.assign(Object.assign({},R),e),{type:"warning"})),open:e=>o(Object.assign(Object.assign(Object.assign({},R),e),{type:"default"})),close:e=>{let t=i.get(e);t&&t.close()}},s.createElement(s.Fragment,null,e)]};var B=H}}]);
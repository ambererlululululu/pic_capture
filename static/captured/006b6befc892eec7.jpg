"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["13909"],{677062:function(e,t){t.default={font:"font-ajGTND",spin:"spin-G3C7_o",container:"container-mlbwQf","container-hoverable":"container-hoverable-rDv1iD",containerHoverable:"container-hoverable-rDv1iD",title:"title-hOfnUq",desc:"desc-AC9fGV",icon:"icon-GKwIwZ","default-thinking":"default-thinking-MZTrEG",defaultThinking:"default-thinking-MZTrEG","default-thinking-text":"default-thinking-text-nbAeay",defaultThinkingText:"default-thinking-text-nbAeay"}},609493:function(e,t){t.default={"entry-btn":"entry-btn-quuvpZ",entryBtn:"entry-btn-quuvpZ","entry-btn-title":"entry-btn-title-zJKcuk",entryBtnTitle:"entry-btn-title-zJKcuk",shortcuts:"shortcuts-YnLprP","shortcuts-icon":"shortcuts-icon-omm99E",shortcutsIcon:"shortcuts-icon-omm99E",arrow:"arrow-BU74KV","link-default":"link-default-krw5ZY",linkDefault:"link-default-krw5ZY","think-reference":"think-reference-EobIde",thinkReference:"think-reference-EobIde",chevron:"chevron-LuvId3","chevron-right":"chevron-right-yMpuY3",chevronRight:"chevron-right-yMpuY3","collapse-header":"collapse-header-HlozpE",collapseHeader:"collapse-header-HlozpE","search-reference-container":"search-reference-container-zAjEoN",searchReferenceContainer:"search-reference-container-zAjEoN","search-item-title":"search-item-title-tzREWo",searchItemTitle:"search-item-title-tzREWo","search-item-footer":"search-item-footer-osocpX",searchItemFooter:"search-item-footer-osocpX","search-item-summary":"search-item-summary-lCgo4j",searchItemSummary:"search-item-summary-lCgo4j","footer-title":"footer-title-HohciN",footerTitle:"footer-title-HohciN",popover:"popover-hgD92d"}},526025:function(e,t,l){l.d(t,{DOUYIN_VIDEO_SITE:function(){return i}});let i="https://www.douyin.com/video/"},493135:function(e,t,l){l.d(t,{DeepThinkingToolsCallUI:function(){return m}});var i=l(766908),n=l(713738),r=l(719719),a=l(866213),o=l(812650),s=l.n(o),c=l(48766),u=l(677062),d=l(345660);let m=e=>{let{title:t,desc:l,loading:o,classname:m,prefixIcon:h,hoverable:p=!0,overrideDesc:_,showSuffixIcon:f,query:v=[],onClick:$}=e,[g,k]=(0,n.useState)(0),[y,b]=(0,n.useState)(!0),S=0===v.length,x=_||l;return(0,n.useEffect)(()=>{if(!y||S)return;let e=setInterval(()=>{g<v.length-1?k(e=>e+1):(clearInterval(e),b(!1))},600);return()=>clearInterval(e)},[g,y]),(0,d.jsxs)("div",{className:s()(u.default.container,m,{[u.default["container-hoverable"]]:p}),onClick:$,children:[o?(0,d.jsx)(c.default,{wrapperClassName:u.default.spin,size:"small"}):h,t&&(0,d.jsx)("div",{className:s()(u.default.title,{"font-normal!":!1}),children:t}),x&&(0,d.jsx)("div",{className:u.default.desc,children:_||`"${l}"`}),!S&&o&&(0,d.jsx)(r.AnimatePresence,{mode:"wait",children:(0,d.jsxs)(a.motion.div,{layoutId:"query-text",initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.1},className:s()(u.default.title,"inline-block whitespace-nowrap truncate"),children:["\u201C",v[g],"\u201D"]},g)}),f&&!o&&(0,d.jsx)(i.default,{className:s()(u.default.icon,"text-12 -ml-4")})]})}},485704:function(e,t,l){l.d(t,{SearchReferenceUI:function(){return g}});var i,n=l(766908),r=l(713738),a=l(812650),o=l.n(a),s=l(915299),c=l(254228),u=l(557298),d=l(283448),m=l(436041),h=l(207047),p=l(609493),_=l(345660),f=((i=f||{}).Loading="loading",i.Success="success",i.Failure="failure",i);let v=e=>{let{key:t,classname:l,src:i}=e,[n,a]=(0,r.useState)(f.Loading),s=n===f.Success;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("img",{className:o()(l,s&&"shortcut-icon",!s&&"hidden"),src:(0,u.filterUrlModule)(i,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkbHBI$m14alF6RXdZ$WRzZFdFeWJI$mFl$*w2WTIxTmRsa3lPWFJq%npsM$ds-zFNRXd6$*14WldFcHFZ$%14ZW1*WF$te*ph$EZzWW01%2$X$lRN$2xr%npSMll6Sm9kb%51$$hSWk0xWXd%Rz$TZW1WSFJub*FNM$o2"}),onLoad:()=>{a(f.Success)},onError:()=>{a(f.Failure)}},t),n===f.Loading&&(0,_.jsx)(c.default,{className:o()(p.default["link-default"]," text-gray-500","shortcut-icon")})]})},$=e=>{let{sources:t,maxCount:l=5,className:i}=e,n=(0,d.default)((0,m.default)((0,h.default)(t).filter(e=>{let{logo_url:t}=e;return!!t}).map(e=>{let{site_name:t}=e;return t}))),r={};return t.map(e=>{e.logo_url&&e.site_name&&(r[`${e.site_name}`]=e.logo_url)}),(0,_.jsx)("span",{className:o()(p.default.shortcuts,i),children:n.reverse().slice(0,l).map((e,t)=>(0,_.jsx)(v,{classname:o()(p.default["shortcuts-icon"],"shortcuts-icon"),src:(0,u.filterUrlModule)(r[e],null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkbHBI$m14alF6RXdZ$WRzZFdFeWJI$mFl$*w2WTIxTmRsa3lPWFJq%npsM$ds-zFNRXd6$*14WldFcHFZ$%14ZW1*WF$te*ph$EZzWW01%2$X$lRN$2xr%npSMll6Sm9kb%51$$hSWk0xWXd%Rz$TZW1WSFJub*FNM$o2"})},t+1))})},g=(0,r.forwardRef)(function(e,t){let{sources:l,classname:i,style:r,title:a,onClick:c,...u}=e,d=(0,s.useTranslateFn)();return l&&0!==l.length?(0,_.jsxs)("div",{"data-testid":"search-reference-ui",ref:t,...u,style:r,className:o()(p.default["entry-btn"],i),onClick:e=>{e.stopPropagation(),null==c||c()},children:[(0,_.jsxs)("div",{className:"flex items-center justify-center gap-8",children:[(0,_.jsx)($,{sources:l}),(0,_.jsx)("span",{className:o()(p.default["entry-btn-title"],"entry-btn-title"),children:a||d("web_search_deep_think_searchResult_count_label_temp",{postProcess:"sprintf",sprintf:[l.length]})})]}),(0,_.jsx)(n.default,{className:o()(p.default.arrow,"arrow")})]}):null})},435136:function(e,t,l){var i;l.d(t,{CopilotStepType:function(){return n}});let n=((i={})[i.StepTypeUnderstandingQuestion=1]="StepTypeUnderstandingQuestion",i[i.StepTypeSearchingWeb=2]="StepTypeSearchingWeb",i[i.StepTypeConsideringSource=3]="StepTypeConsideringSource",i[i.StepTypeResearchedAndSummarized=4]="StepTypeResearchedAndSummarized",i[i.StepTypeModelCalculating=5]="StepTypeModelCalculating",i)},750874:function(e,t,l){l.d(t,{checkDeepThinkingShowError:function(){return f},getDeepThinkingContent:function(){return _},getDeepThinkingTitle:function(){return p},getReferenceSources:function(){return h},isDeepThinkingMetaInfo:function(){return m}});var i=l(217957),n=l(996406),r=l(302958),a=l(486677),o=l(241107),s=l(526025),c=l(458524),u=l(435136);let d=e=>e.type===c.MetaType.WebDocReference,m=e=>e.type===c.MetaType.Think,h=(e,t)=>{var l,c,m,h,p,_;let{text_card:f,video_card:v}=null!=e?e:{},{copilot:$}=e||{};if((0,i.default)(e)||!t)return{sources:[],referenceInUsed:[]};let g=(null==$?void 0:$.filter(e=>e.step_type===u.CopilotStepType.StepTypeConsideringSource))||[],k=[];g.map(e=>{k.push(...(null==e?void 0:e.step_contents)||[])});let y=[...(null==k?void 0:null===(l=k.map(e=>null==e?void 0:e.text_card))||void 0===l?void 0:l.filter(n.default))||[]],b=[...(null==k?void 0:null===(c=k.map(e=>null==e?void 0:e.video_card))||void 0===c?void 0:c.filter(n.default))||[]],S=[...(null==f?void 0:null===(m=f.card_list)||void 0===m?void 0:m.map(e=>({title:e.title||"",site_name:e.sitename||"",logo_url:e.logo_url||"",url:e.url||"",card_type:"text",search_id:"",image_url:e.image_url||"",summary:e.summary||"",index:e.index||"",doc_id:e.doc_id||""})).filter(n.default))||[],...(null==v?void 0:null===(h=v.card_list)||void 0===h?void 0:h.map(e=>({title:e.video_captions||"",site_name:e.source_app_name||"",logo_url:e.source_app_icon||"",url:`${s.DOUYIN_VIDEO_SITE}${e.item_id}`||"",card_type:"video",search_id:"",image_url:(null==e?void 0:e.album_image)||"",summary:"",index:e.index||"",doc_id:e.item_id||""})).filter(n.default))||[],...(null==y?void 0:y.map(e=>({title:(null==e?void 0:e.title)||"",site_name:(null==e?void 0:e.sitename)||"",logo_url:(null==e?void 0:e.logo_url)||"",url:(null==e?void 0:e.url)||"",card_type:"text",search_id:"",image_url:(null==e?void 0:e.image_url)||"",summary:e.summary||"",index:e.index||"",doc_id:e.doc_id||""})).filter(n.default))||[],...(null==b?void 0:b.map(e=>({title:e.video_captions||"",site_name:e.source_app_name||"",logo_url:e.source_app_icon||"",url:`${s.DOUYIN_VIDEO_SITE}${e.item_id}`||"",card_type:"video",search_id:"",image_url:(null==e?void 0:e.album_image)||"",summary:"",index:e.index||"",doc_id:e.item_id||""})).filter(n.default))||[]],x=[...(null==f?void 0:null===(p=f.card_list)||void 0===p?void 0:p.map(e=>({text_card:{url:e.url||"",title:e.title||""}})).filter(n.default))||[],...(null==v?void 0:null===(_=v.card_list)||void 0===_?void 0:_.map(e=>({video_card:{video_captions:e.video_captions||"",main_site_url:`${s.DOUYIN_VIDEO_SITE}${e.item_id}`||""}})).filter(n.default))||[]],T=t?(0,o.batchConvertMetaInfoToUnionMetaInfo)(t):[],R=[];if(T.length>0){let e=T.filter(d),t=(0,r.default)(e,e=>{var t,l;return null===(l=e.data)||void 0===l?void 0:null===(t=l.pos)||void 0===t?void 0:t[0]});for(let[,e]of(0,a.default)(t))e.sort((e,t)=>{var l,i;return Number(null===(l=e.data)||void 0===l?void 0:l.insert_text)-Number(null===(i=t.data)||void 0===i?void 0:i.insert_text)}),null==e||e.map(e=>{let{data:t}=e,l={title:(null==t?void 0:t.title)||"",url:(null==t?void 0:t.url)||"",logo_url:(null==t?void 0:t.icon)||"",site_name:(null==t?void 0:t.website_name)||"",card_type:"text",search_id:"",image_url:"",summary:(null==t?void 0:t.summary)||""};R.push(l)})}return{sources:S,deepThinkingReference:x,referenceInUsed:R}},p=(e,t,l)=>e.length>0&&!t?l("web_search_deep_think_thinking_with_search_label_temp",{postProcess:"sprintf",sprintf:[e.length]}):0!==e.length||t?t?l("web_search_deep_think_thinking_done_label"):l("web_search_deep_think_thinking_done_label"):l("web_search_deep_think_thinking_label"),_=e=>{var t,l;if(!e||0===e.length)return{text:"",position:0,is_finish:!0,is_hide:!1,title:""};let i=(e?(0,o.batchConvertMetaInfoToUnionMetaInfo)(e):[]).filter(m);return{...null!==(l=null==i?void 0:null===(t=i[0])||void 0===t?void 0:t.data)&&void 0!==l?l:{}}},f=e=>{let{element:t,onError:l}=e;if(!t.querySelector("[data-testid=think_collapse_button]")){null==l||l({reason:"think_collapse_button_error"});return}let i=t.querySelector("[data-testid=think_quota_block]");if(!i){null==l||l({reason:"think_quota_block_error"});return}if(!i.textContent){null==l||l({reason:"think_quota_block_text_content_null"});return}}}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["61957"],{657539:function(e,t){t.default={"left-side-width":"left-side-width-AfVGh0",leftSideWidth:"left-side-width-AfVGh0","left-side-width--variable":"left-side-width--variable-d7Z6GU",leftSideWidthVariable:"left-side-width--variable-d7Z6GU","right-side-width":"right-side-width-trpnpP",rightSideWidth:"right-side-width-trpnpP","right-side-width--compact":"right-side-width--compact-MkDLSw",rightSideWidthCompact:"right-side-width--compact-MkDLSw","right-side-width--narrow":"right-side-width--narrow-ydoPs7",rightSideWidthNarrow:"right-side-width--narrow-ydoPs7"}},600662:function(e,t,a){a.d(t,{Outlet:function(){return l}});var n=a(915317),i=a(532430),r=a(345660);let l=e=>{let t=(0,i.getFromInstance)("Outlet",n.Outlet);return(0,r.jsx)(t,{...e})}},64206:function(e,t,a){a.d(t,{useSearchParams:function(){return r}});var n=a(281155),i=a(532430);let r=()=>(0,i.getFromInstance)("useSearchParams",n.useSearchParams)()},356621:function(e,t,a){a.d(t,{MaxWidthLayoutProvider:function(){return r},useMaxWidthLayoutContext:function(){return l}});var n=a(713738);let i=(0,n.createContext)({leftVisible:!1,rightVisible:!1,contentVisible:!1,rightWidth:0,leftWidth:0,transition:!1,deprecatedMaxWidthLayoutStyle:!1}),r=i.Provider,l=()=>(0,n.useContext)(i)},620411:function(e,t,a){a.d(t,{CENTER_CONTENT_MAX_WIDTH:function(){return n}});let n=848},337524:function(e,t,a){a.d(t,{CENTER_CONTENT_MAX_WIDTH:function(){return d.CENTER_CONTENT_MAX_WIDTH},SamanthaLayoutStyles:function(){return c.default},SamanthaLayout:function(){return h}});var n=a(713738),i=a(344417),r=a(812650),l=a.n(r),s=a(356621),d=a(620411),o=a(345660);let u=(0,n.forwardRef)(function(e,t){let{children:a,paddingWrapperClassName:n,containerClassName:r,className:u,centerContentMaxWidthDelta:c=0,customStyle:h,...f}=e,{className:m,leftVisible:x,rightVisible:w,rightWidth:p,leftWidth:v,transition:N,deprecatedMaxWidthLayoutStyle:g=!1}=(0,s.useMaxWidthLayoutContext)();return(0,o.jsx)("div",{className:l()(r,"container-arOxqB","chrome70-container",n,m,{"transition-e0IYaD":N},{"deprecated-RMtz1c":g}),style:{...w&&""===p?{}:{"--right-side-width":w?(0,i.default)(p)?`${p}px`:p:"0px"},...x&&""===v?{}:{"--left-side-width":x?(0,i.default)(v)?`${v}px`:v:"0px"},"--center-content-max-width":`${d.CENTER_CONTENT_MAX_WIDTH+c}px`,...h},children:(0,o.jsx)("div",{ref:t,className:l()("inner-FyM8gE",u),...f,children:a})})});u.MaxWidthLayoutProvider=s.MaxWidthLayoutProvider;var c=a(657539);let h={MaxWidthLayout:u}},460821:function(e,t,a){a.d(t,{useCompareMemo:function(){return i}});var n=a(713738);let i=(e,t)=>{let a=(0,n.useRef)(e);return t(e,a.current)||(a.current=e),a.current}},214492:function(e,t,a){a.d(t,{BREAK_POINT_ALL:function(){return o},BREAK_POINT_MIN_LEFT:function(){return c},BREAK_POINT_NO_LEFT:function(){return u},CENTER_DEFAULT_PCT:function(){return s},CENTER_MIN_WIDTH:function(){return r},LEFT_SIDE_MIN_WIDTH:function(){return n},LEFT_SIDE_WIDTH:function(){return i},RIGHT_NARROW_MODE_WIDTH:function(){return l},TRANSITION_DURATION:function(){return d}});let n=0,i=280,r=400,l=400,s=35,d=500,o=1080,u=800,c=680},876853:function(e,t,a){a.d(t,{ChatCanvasSkeleton:function(){return s}}),a(713738);var n=a(812650),i=a.n(n),r=a(345660);let l=e=>{let{style:t}=e;return(0,r.jsxs)("div",{className:"mt-36",style:t,children:[(0,r.jsx)("div",{className:"w-[28%] h-60 rounded-s-radius-s bg-[rgba(0,0,0,0.03)]"}),(0,r.jsx)("div",{className:"mt-24 h-40 rounded-s-radius-s bg-[rgba(0,0,0,0.03)]"}),(0,r.jsx)("div",{className:"mt-24 w-[84%] h-40 rounded-s-radius-s bg-[rgba(0,0,0,0.03)]"})]})},s=()=>(0,r.jsxs)("div",{className:i()("w-full h-full bg-s-color-bg-primary pt-56 px-56 pb-28 overflow-hidden","container-uyCLLy"),children:[(0,r.jsx)("div",{className:"w-[57%] h-80 rounded-s-radius-s bg-[rgba(0,0,0,0.03)]"}),(0,r.jsx)(l,{style:{opacity:"0.8"}}),(0,r.jsx)(l,{style:{opacity:"0.5"}}),(0,r.jsx)(l,{style:{opacity:"0.3"}})]})},206805:function(e,t,a){a.d(t,{ChatSkeleton:function(){return S},ChatSkeletonFull:function(){return y}});var n=a(713738),i=a(500978),r=a(870823),l=a(242167),s=a(650215),d=a(722925),o=a(876853),u=a(93178),c=a(915299),h=a(426156),f=a(369682),m=a(643404),x=a(559891),w=a(41650),p=a(777765),v=a(257369),N=a(345660);let g=()=>(0,f.isStorageLogined)()?(0,N.jsx)(s.GuidanceChatViewSkeleton,{}):(0,N.jsx)(u.ChatContentSkeletonUI,{}),_=(0,h.withErrorBoundary)((0,x.withSuspense)((0,n.lazy)(()=>(0,m.retryLoadWithFallBack)({fn:v.preloadGuidancePanelSkeletonChunks,fallback:{default:g}})),g),{FallbackComponent:g,errorBoundaryName:"guidance_panel_skeleton"}),y=e=>{let{skeletonType:t,sashPct:a}=(0,w.useSkeletonTypeAndSashPct)(),n=(0,r.useSidebarFromCookie)(),i=t%2==1,s={"--max-width-layout-container-width":"100vw","--max-width-layout-large-padding":"24px","--max-width-layout-small-padding":"16px",...i?{"--chat-bg-color":"var(--s-color-bg-content-base, #f9fafb)"}:{}};return(0,N.jsx)(l.ChatRouteLayoutUI,{className:"fixed inset-0",style:s,leftSideNode:!e.hideSidebar&&(0,N.jsx)(p.SidebarSkeleton,{className:i?p.shrinkByRightClassName:void 0}),leftSideProps:{expand:t?t>3:n},centerNode:(0,N.jsx)(S,{...e}),rightSideNode:(0,N.jsx)(o.ChatCanvasSkeleton,{}),rightSideProps:{expand:i},centerSashPct:a})},S=e=>{let t=(0,c.useTranslateFn)(),{skeletonType:a}=(0,w.useSkeletonTypeAndSashPct)(),n=(0,i.useIsChatLandingPage)();return(0,N.jsx)(d.ChatSkeleton,{placeholder:e.placeholder||t("default_input_placeholder"),content:n?(0,N.jsx)(_,{}):void 0,...e,showInput:a%2==1||!n&&e.showInput})}},257369:function(e,t,a){a.d(t,{preloadGuidancePanelSkeletonChunks:function(){return n}});let n=()=>Promise.all([a.e("85781"),a.e("39079"),a.e("26774"),a.e("65432"),a.e("65777"),a.e("31462"),a.e("94988"),a.e("95390"),a.e("85317"),a.e("18530"),a.e("41313"),a.e("48792")]).then(a.bind(a,233384)).then(e=>{let{UnionGuidancePanelSkeleton:t}=e;return{default:t}})},777765:function(e,t,a){a.d(t,{SidebarSkeleton:function(){return d},shrinkByRightClassName:function(){return s}});var n=a(812650),i=a.n(n),r={skeleton:"skeleton-xk9Feu",sidebar:"sidebar-e9lmui","sidebar-shrink-by-right":"sidebar-shrink-by-right-CPOnFH"},l=a(345660);let s=r["sidebar-shrink-by-right"],d=e=>{let{style:t,headerBtn:a=!0,className:n}=e;return(0,l.jsxs)("aside",{className:i()(r.sidebar,n,""),style:t,children:[a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"h-36 flex relative items-center overflow-visible px-4 opacity-[0.1]",children:[(0,l.jsx)("div",{className:i()("h-36 w-36 rounded-full flex-shrink-0 mr-8",r.skeleton)}),(0,l.jsx)("div",{className:"grow overflow-hidden",children:(0,l.jsx)("div",{className:i()("h-24 rounded-8 w-40",r.skeleton)})})]}),(0,l.jsx)("div",{className:i()("h-40 rounded-12 mt-16 mb-6",r.skeleton),style:{opacity:.1}})]}),[,,,,,].fill(0).map((e,t)=>(0,l.jsx)("div",{className:"h-32 flex relative rounded-10 items-center overflow-visible pl-27",style:{opacity:.09-t/100},children:(0,l.jsx)("div",{className:"grow overflow-hidden",children:(0,l.jsx)("div",{className:i()("h-20 rounded-8",r.skeleton)})})},t))]})}},900398:function(e,t,a){var n=a(722925),i=a(41650),r=a(345660);t.default=()=>{let e=(0,i.useIsChatPage)(),t=(0,i.useIsShareOrChatNewPage)();return e||t?(0,r.jsx)(n.ChatSkeleton,{}):null}},890397:function(e,t,a){a.d(t,{chatPageDataLoader:function(){return n}});let n=void 0},41650:function(e,t,a){a.d(t,{useIsChatPage:function(){return s},useIsChatPageOther:function(){return h},useIsCollectionPage:function(){return u},useIsShareOrChatNewPage:function(){return o},useIsUrlActionPage:function(){return d},useSkeletonTypeAndSashPct:function(){return c}});var n=a(500978),i=a(227587),r=a(64206);let l=e=>/\/chat(\/(local_|main)?\d*)?(\?.*)?$/.test(e),s=()=>l((0,i.useLocation)().pathname),d=()=>{var e;return null===(e=(0,i.useLocation)().pathname)||void 0===e?void 0:e.endsWith("url-action")},o=()=>{let e=(0,i.useLocation)();return/\/share(\/\d*)?$/.test(e.pathname)||/\/chat\/new(\/\d*)?$/.test(e.pathname)||/\/chat\/new-thread\/create-by-share\/?$/.test(e.pathname)||/\/chat\/new-doc\/?$/.test(e.pathname)},u=()=>{let e=(0,i.useLocation)();return/^\/chat\/collection(\/\d*)?$/.test(e.pathname)},c=()=>{let[e]=(0,r.useSearchParams)(),t=Number(e.get("skeleton_type")),a=e.get("sash_pct");return{skeletonType:t,sashPct:a?Number(a):void 0}},h=()=>{let e=(0,i.useLocation)(),t=s(),a=(0,n.useIsSkillGuidancePage)();return!t&&!a&&/\/chat\/.*$/.test(e.pathname)}},650215:function(e,t,a){a.d(t,{GuidanceChatViewSkeleton:function(){return p}});var n=a(713738),i=a(812650),r=a.n(i),l=a(83019),s=a(996080),d=a(771106),o=a(915299),u=a(672978),c="skill-bar-IaBTuV",h="skill-item-GmxO7T",f=a(345660);let m=(0,l.getWindowInjectPromiseByName)(s.PromiseName.SkillList),x=m?(0,u.wrapPrefetchGetter)(m):void 0,w=e=>{let{t}=e;return(0,f.jsx)("p",{className:"greeting-qHNRA_",children:t("newChat_greeting_title_doubao")})},p=()=>{var e,t,a,i;let l=(0,o.useTranslateFn)(),{syncValue:s,promise:u}=null!==(a=null==x?void 0:x())&&void 0!==a?a:{},[m,p]=(0,n.useState)(null!==(i=null==s?void 0:null===(t=s.data)||void 0===t?void 0:null===(e=t.input_skill)||void 0===e?void 0:e.length)&&void 0!==i?i:14),v=m+1;return(0,n.useEffect)(()=>{null==u||u.then(e=>{var t,a,n;p(null!==(n=null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(t=a.input_skill)||void 0===t?void 0:t.length)&&void 0!==n?n:15)})},[]),(0,f.jsxs)("div",{className:"fallback-S3ndqB",children:[(0,f.jsx)(w,{t:l}),(0,f.jsx)(d.ChatInputSkeletonUI,{boxShadow:!1,singleLine:!1}),(0,f.jsxs)("div",{className:"skill-bar-wrapper-abF7dX",children:[(0,f.jsx)("div",{className:r()(c,"skill-bar-skeleton-XZc2JP"),children:Array.from({length:v}).map((e,t)=>(0,f.jsx)("div",{className:h},`guidance-skeleton-skill-bar-wrapper-item-${t}`))}),(0,f.jsx)("div",{className:c,children:Array.from({length:v}).map((e,t)=>(0,f.jsx)("div",{className:h},`guidance-skeleton-skill-item-${t}`))})]})]})}},242167:function(e,t,a){a.d(t,{ChatRouteLayoutUI:function(){return w}});var n=a(713738),i=a(913821),r=a(812650),l=a.n(r),s=a(214492),d=a(604889),o=a(794267),u=a(792642),c=a(460821),h=a(337524),f=a(345660);let m=e=>{let{children:t,sashPct:a,expand:i,leftExpand:r,noTransition:d,mode:u}=e,c=(0,o.default)(u,{wait:s.TRANSITION_DURATION}),h=(0,o.default)(a,{wait:s.TRANSITION_DURATION}),m=(0,o.default)(i,{wait:s.TRANSITION_DURATION}),[x,w]=(0,n.useState)(i);return(0,n.useEffect)(()=>w(i),[i]),(0,f.jsx)("aside",{"data-testid":"samantha_layout_right_side",className:l()("relative h-full",i?l()("min-w-400",{"[@media(min-width:800px)]:w-(--width) max-w-[calc(100vw-400px-var(--left-side-width,0px))]":"full"!==u,"!fixed bottom-0 right-0 z-40 w-screen !max-w-[unset] !min-w-[unset]":"full"===u},"[@media(max-width:799px)]:!fixed [@media(max-width:799px)]:bottom-0 [@media(max-width:799px)]:right-0 [@media(max-width:799px)]:z-40"):"w-0"),style:{"--left-side-width":r?`${s.LEFT_SIDE_WIDTH}px`:`${s.LEFT_SIDE_MIN_WIDTH}px`,"--sash-pct":(i?a:h)===void 0?`calc(${s.CENTER_DEFAULT_PCT}vw + var(--left-side-width))`:`${i?a:h}vw`,...(i?u:c)==="narrow"?{"--width":`${s.RIGHT_NARROW_MODE_WIDTH}px`}:{"--width":"calc(100vw - var(--sash-pct))"}},children:(0,f.jsx)("div",{className:l()("absolute right-0 bottom-0 h-full",i&&x?"translate-[0%]":l()("[@media(max-width:799px)]:translate-x-[0%] [@media(max-width:799px)]:translate-y-full","[@media(min-width:800px)]:translate-x-full [@media(min-width:800px)]:translate-y-[0%]"),{"transition-transform duration-500 ease-[cubic-bezier(0.4,0,0.1,1)]":!d},{hidden:!m&&!i&&!x},l()({"z-40":m&&!i},"min-w-400 max-w-[calc(100vw-400px-var(--left-side-width,0px))] [@media(max-width:799px)]:w-screen",(i?u:c)==="full"?"w-screen !max-w-[unset] !min-w-[unset]":"w-(--width)","[@media(max-width:799px)]:w-screen [@media(max-width:799px)]:max-w-[unset] [@media(max-width:799px)]:min-w-[unset]")),children:t})})},x=e=>{let{expand:t=!0,transition:a=!1,openTemporarily:n=!1,rightExpand:i,children:r}=e;return r?(0,f.jsx)("nav",{"data-testid":"chat_route_layout_leftside_nav",className:l()("left-side-FUs9jX",{"transition-transform duration-500":a},{"left-side__expand-CDvDNF":t},"left-side-sm-fixed-msV8km",{"left-side-shrink-tAHvad":i}),style:t?{}:{transform:n?"translateX(0)":"translateX(var(--translate-direction, -100%))"},children:r}):null},w=e=>{var t,a;let{className:n,style:r,leftSideNode:w,leftSideProps:p,centerNode:v,centerSashPct:N,rightSideNode:g,rightSideProps:_,maxWidthLayoutTransition:y}=e,{chatPageTargetRef:S}=(0,d.useChatRef)(),b=!!(null===(t=null==p?void 0:p.expand)||void 0===t||t),T=!!(null!==(a=null==_?void 0:_.expand)&&void 0!==a&&a),I=(null==_?void 0:_.mode)==="full",k=(null==_?void 0:_.mode)==="narrow",C=(0,o.default)(T,{wait:s.TRANSITION_DURATION})!==T,j=T&&!!g,P=(0,u.useIsMediumScreen)()||T&&I,L=C&&!P&&!k,E=(0,c.useCompareMemo)({leftVisible:b&&!!w,rightVisible:j,contentVisible:!!v,leftWidth:w?"":0,rightWidth:g&&T&&!P?"":0,transition:y},i.default);return(0,f.jsx)(h.SamanthaLayout.MaxWidthLayout.MaxWidthLayoutProvider,{value:E,children:(0,f.jsxs)("div",{id:"chat-route-layout","data-testid":"chat-route-layout",className:l()("w-full h-full flex overflow-hidden bg-s-color-bg-body",n),style:r,ref:S,children:[(0,f.jsxs)("div",{className:l()("flex-1 flex relative","main-with-nav-qlflaM"),children:[(0,f.jsx)(x,{transition:null==p?void 0:p.transition,openTemporarily:null==p?void 0:p.openTemporarily,expand:b,rightExpand:T,children:w}),(0,f.jsx)("main",{"data-container-name":"main",className:l()("flex-1 min-w-0 flex items-stretch relative","main-container-XWG2HU",{"center-bg-PFaXD4":!0,"center--shift-left-off-kiUfKQ":L&&!T,"center--shift-left-VQRrhS":L&&T}),children:v})]}),(0,f.jsx)(m,{..._,sashPct:N,leftExpand:b,children:g})]})})}},500978:function(e,t,a){a.d(t,{useIsChatLandingPage:function(){return s},useIsSkillGuidancePage:function(){return r}});var n=a(227587),i=a(500825);let r=()=>{let e=(0,n.useLocation)(),t=Object.values(i.SkillGuidancePageRoute);return e.pathname.startsWith("/chat/")?t.includes(e.pathname):t.map(e=>e.replace("/chat/","/")).includes(e.pathname)},l=e=>e.endsWith("/chat/")||"undefined"!=typeof window&&window.location.pathname.endsWith("/chat/"),s=()=>l((0,n.useLocation)().pathname)},83019:function(e,t,a){a.d(t,{getWindowInjectPromiseByName:function(){return n}});let n=e=>{if("undefined"!=typeof window){let t=window;if(t[e])return t[e]}return Promise.resolve(null)}}}]);
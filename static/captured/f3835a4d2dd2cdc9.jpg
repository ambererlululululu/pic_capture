"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["79948"],{273637:function(e,l,t){var i=t(713738);l.default=function(e){let l=(0,i.useRef)();return l.current=(0,i.useMemo)(()=>e,[e]),(0,i.useCallback)(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=l.current;return null==n?void 0:n(...t)},[l])}},161284:function(e,l,t){t.d(l,{useResizeObserver:function(){return o},useResizeObserverSSR:function(){return u}});var i=t(386827),n=t(713738),a=t(43137),r=t(217957),S=t(436114),s=t(531281);"undefined"==typeof window||window.ResizeObserver||(window.ResizeObserver=s.ResizeObserver);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ref:l,onlyBothNilIsFirstScreen:t=!0,onResize:S,box:s,syncUpdate:o=!0}=e,u=(0,n.useRef)(null),k=null!=l?l:u,[c,d]=(0,n.useState)(),[T,p]=(0,n.useState)();(0,n.useLayoutEffect)(()=>{y()},[]),(0,n.useLayoutEffect)(()=>{(0,r.default)(c)||(0,r.default)(T)||null==S||S({width:c,height:T})},[c,T]);let y=()=>{if(k.current){let{width:e,height:l}=k.current.getBoundingClientRect();d(e),p(l)}else d(void 0),p(void 0)},{width:h,height:C}=(0,a.default)({ref:k,box:s,onResize:e=>{null==S||S(e);let{width:l,height:t}=e;o?(0,i.flushSync)(()=>{d(null!=l?l:0),p(null!=t?t:0)}):(d(null!=l?l:0),p(null!=t?t:0))}});(0,n.useLayoutEffect)(()=>{d(void 0)},[h]),(0,n.useLayoutEffect)(()=>{p(void 0)},[C]);let E=t&&(0,r.default)(h)&&(0,r.default)(C),_=E?void 0:null!=h?h:0,f=E?void 0:null!=C?C:0;return{ref:k,width:null!=c?c:_,height:null!=T?T:f,refresh:y}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ref:l,onResize:t}=e,i=(0,n.useRef)(null),r=null!=l?l:i,{width:s,height:o}=(0,a.default)({ref:r,onResize:t});return{ref:r,width:s,height:o,refresh:S.default}}},722038:function(e,l,t){var i,n,a,r,S,s;t.d(l,{CmdType:function(){return o},FeedbackSource:function(){return u},FeedbackType:function(){return k},FileType:function(){return c},ParseState:function(){return d},ReviewState:function(){return T}});let o=((i={})[i.MessageDelete=1]="MessageDelete",i[i.MessageLike=2]="MessageLike",i[i.MessageDislike=3]="MessageDislike",i[i.MessageIDLocalMapping=4]="MessageIDLocalMapping",i[i.MessageNotCompliant=5]="MessageNotCompliant",i[i.ConversationArchive=11]="ConversationArchive",i[i.ConversationAdd=12]="ConversationAdd",i[i.ConversationCreateSection=13]="ConversationCreateSection",i[i.ConversationClearHistory=14]="ConversationClearHistory",i[i.ConversationUpdate=15]="ConversationUpdate",i[i.ConversationRead=16]="ConversationRead",i[i.ConversationLandingInsert=17]="ConversationLandingInsert",i[i.OnboardingBegin=21]="OnboardingBegin",i[i.OnboardingFail=22]="OnboardingFail",i[i.OnboardingCancel=23]="OnboardingCancel",i[i.OnboardingNeedStart=26]="OnboardingNeedStart",i[i.UserBanned=31]="UserBanned",i[i.UserBanRelease=32]="UserBanRelease",i[i.UserLogout=33]="UserLogout",i[i.UserConfigUpdate=41]="UserConfigUpdate",i[i.NeedLocation=51]="NeedLocation",i[i.PushToast=60]="PushToast",i[i.TTSBegin=91]="TTSBegin",i[i.UserMute=101]="UserMute",i[i.UserMuteRelease=102]="UserMuteRelease",i[i.TouristReachChatLimit=1e3]="TouristReachChatLimit",i[i.NestedMessageStateChange=1001]="NestedMessageStateChange",i[i.TouristReachThreadLimit=1002]="TouristReachThreadLimit",i[i.MessageRefImagesNotCompliant=1003]="MessageRefImagesNotCompliant",i[i.MessageUpdate=1004]="MessageUpdate",i[i.MailboxActivated=1005]="MailboxActivated",i[i.QueryBroadcast=1006]="QueryBroadcast",i[i.SafetyResponseAnswer=1007]="SafetyResponseAnswer",i[i.FetchAnswer=1008]="FetchAnswer",i[i.GuidanceTaskCompleted=1009]="GuidanceTaskCompleted",i[i.DisableActionBar=1010]="DisableActionBar",i[i.DeepResearchFinished=1011]="DeepResearchFinished",i[i.SuperTaskFinished=1012]="SuperTaskFinished",i[i.SuperTaskNeedAskHuman=1013]="SuperTaskNeedAskHuman",i[i.CodeAssistantAsyncTaskFinished=1014]="CodeAssistantAsyncTaskFinished",i[i.SuperTaskModelCallOverload=1015]="SuperTaskModelCallOverload",i[i.SuperTaskApplyTrialSuccess=1016]="SuperTaskApplyTrialSuccess",i[i.ActionBarRefresh=1e4]="ActionBarRefresh",i),u=((n={})[n.User=0]="User",n[n.System=1]="System",n),k=((a={})[a.Default=0]="Default",a[a.Like=1]="Like",a[a.Unlike=2]="Unlike",a[a.Better=3]="Better",a[a.Almost=4]="Almost",a[a.BothBad=5]="BothBad",a[a.Form=6]="Form",a),c=((r={})[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.OCRImage=2]="OCRImage",r[r.Audio=3]="Audio",r[r.Video=4]="Video",r),d=((S={})[S.ParseState_Default=0]="ParseState_Default",S[S.ParseState_Success=1]="ParseState_Success",S[S.ParseState_Failed=2]="ParseState_Failed",S[S.ParseState_Processing=3]="ParseState_Processing",S),T=((s={})[s.ReviewState_Default=0]="ReviewState_Default",s[s.ReviewState_Access=1]="ReviewState_Access",s[s.ReviewState_NotCompliant=2]="ReviewState_NotCompliant",s[s.ReviewState_Processing=3]="ReviewState_Processing",s)},631122:function(e,l,t){t.d(l,{useToast:function(){return a}});var i=t(47563),n=t(992528);let a=()=>{let{toastConfig:e,getPopupContainer:l}=(0,n.useChat)({optionalProvider:!0});return e||{success:(e,t)=>i.Toast.success({...t,content:e,showClose:!1,getPopupContainer:l}),error:(e,t)=>i.Toast.error({...t,content:e,showClose:!1,getPopupContainer:l}),info:(e,t)=>i.Toast.info({...t,content:e,showClose:!1,getPopupContainer:l}),warning:(e,t)=>i.Toast.warning({...t,content:e,showClose:!1,getPopupContainer:l})}}},992528:function(e,l,t){t.d(l,{ChatContext:function(){return a},useChat:function(){return r}});var i=t(713738),n=t(40680);let a=(0,i.createContext)(null),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{optionalProvider:l=!1,overrideValueWithoutProvider:t}=e,r=(0,i.useContext)(a);return r||(0,n.default)(t,S)},S={}},640784:function(e,l,t){t.d(l,{throttleFetchSetting:function(){return r},useFetchUserSetting:function(){return S}});var i=t(229079),n=t(910214),a=t(231149);let r=(0,t(292028).throttleReqLite)(()=>{let e="undefined"!=typeof window?(0,i.default)(window,"guestLayoutModePromise"):void 0;return e?e.catch(()=>n.samanthaApiService.GetSetting({})):n.samanthaApiService.GetSetting({})}),S=function(){var e,l;let{cacheKey:t="fetch_user_setting"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:i,loading:n}=(0,a.default)(()=>r().then(e=>e.data),{cacheKey:t}),S=null!==(l=null==i?void 0:null===(e=i.ai_reader)||void 0===e?void 0:e.enable_ult)&&void 0!==l&&l;return{data:i,loading:n,enableUltraLongText:S}}},334312:function(e,l,t){t.d(l,{getClickFromBySkillId:function(){return k},getSecSceneBySkillType:function(){return o},getSkillTeaNameByType:function(){return S},getSkillTypeStr:function(){return c}});var i=t(746167),n=t(226982),a=t(524129);let r={[a.SkillType.ReadAndSummarize]:i.ChatTeaSkillName.SKILL_NAME_READ_SUMMARIZE,[n.SkillType.SkillWrite]:i.ChatTeaSkillName.SKILL_NAME_WRITING_ASSISTANT,[n.SkillType.SkillImageGen]:i.ChatTeaSkillName.SKILL_NAME_IMAGES_GENERATION,[n.SkillType.SkillSearch]:i.ChatTeaSkillName.SKILL_NAME_SEARCH,[n.SkillType.SkillDeepSearch]:i.ChatTeaSkillName.SKILL_NAME_DEEP_SEARCH,[n.SkillType.SkillTranslate]:i.ChatTeaSkillName.SKILL_NAME_TRANSLATE,[n.SkillType.SkillRead]:i.ChatTeaSkillName.SKILL_NAME_READ_PDF,[n.SkillType.SkillWebpage]:i.ChatTeaSkillName.SKILL_NAME_READ_WEBPAGE,[n.SkillType.SkillMusicGen]:i.ChatTeaSkillName.SKILL_NAME_MUSIC_GENERATION,[a.SkillType.AcademicSearch]:i.ChatTeaSkillName.SKILL_NAME_ACADEMIC_SEARCH,[a.SkillType.CodeInterpreter]:i.ChatTeaSkillName.SKILL_NAME_CODE_INTERPRETER,[n.SkillType.SkillFreeChat]:null,[n.SkillType.SkillEdu]:i.ChatTeaSkillName.SKILL_NAME_EXERCISE_ASSISTANT,[a.SkillType.ReadMultiWebsites]:i.ChatTeaSkillName.SKILL_NAME_READ_MULTIPLE_URL,[a.SkillType.CodeAssistant]:i.ChatTeaSkillName.SKILL_NAME_CODING,[a.SkillType.ReferenceAsk]:i.ChatTeaSkillName.SKILL_NAME_REFERENCE_ACK,[a.SkillType.VoiceCall]:i.ChatTeaSkillName.SKILL_NAME_VOICE_CALL,[a.SkillType.VideoGeneration]:i.ChatTeaSkillName.SKILL_NAME_VIDEO_GENERATION,[a.SkillType.AiPPT]:i.ChatTeaSkillName.SKILL_NAME_AI_PPT,[n.SkillType.SkillDeepResearch]:i.ChatTeaSkillName.SKILL_NAME_DEEP_RESEARCH,[a.SkillType.SkillAiPodcast]:i.ChatTeaSkillName.SKILL_NAME_PODCAST,[a.SkillType.CustomSkill]:i.ChatTeaSkillName.SKILL_CUSTOM_SKILL,[a.SkillType.UGCBot]:null,[a.SkillType.AiReadWebsite]:null,[a.SkillType.LocalModelQA]:null,[a.SkillType.AISpace]:null,[n.SkillType.DesExtChatSkillPlaceholder]:null,[n.SkillType.DesExtSkillTranslate]:null,[n.SkillType.DesExtSkillSummaryHighlight]:null,[n.SkillType.DesExtSkillExplain]:null,[n.SkillType.DesExtSkillDesExtSearchCard]:null,[n.SkillType.DesExtSkillLinkPreview]:null,[n.SkillType.DesExtSkillDesExtSuggest]:null,[n.SkillType.DesExtSkillVideoSummary]:null,[n.SkillType.DesExtSkillOneLevelVideoSummary]:null,[n.SkillType.DesExtSkillRewriteWithTone]:null,[n.SkillType.DesExtSkillCustomSkill]:null,[n.SkillType.DesExtSkillSearchMindNote]:null,[n.SkillType.DesExtSkillTextToMindNote]:null,[n.SkillType.DesExtSkillBilingualSentence]:null,[n.SkillType.DesExtSkillAITitle]:null,[n.SkillType.DesExtPodcastTranscript]:null,[n.SkillType.DesExtSkillWebsiteDetail]:null,[n.SkillType.DesExtSkillSummary]:null,[n.SkillType.DesExtSkillAIToolSummary]:null,[n.SkillType.DesExtSkillMindMap]:null,[n.SkillType.DesExtSkillSimplifiedRead]:null,[n.SkillType.DesExtSkillGrammar]:null,[n.SkillType.DesExtSkillReply]:null,[a.SkillType.DesExtSkillMeetingSummary]:i.ChatTeaSkillName.SKILL_NAME_MEETING_RECORD,[n.SkillType.SkillTypeMediaUnderstandingByAsr]:null,[n.SkillType.SkillSearchEngine]:null,[n.SkillType.DesExtSkillVideoListSummary]:null,[n.SkillType.DesExtSkillCommentAnalyze]:null,[n.SkillType.DesExtSkillVideoDeepAnalyze]:null,[n.SkillType.DesExtSkillTopicTrendAnalyze]:null,[n.SkillType.DesExtSkillPageTranslate]:null,[n.SkillType.DesExtSkillSharedAppAssistant]:i.ChatTeaSkillName.SKILL_SHARED_APP_ASSISTANT,[n.SkillType.DesExtSkillGrammarCorrection]:null,[n.SkillType.DesExtSkillPodcastReading]:null,[n.SkillType.DesExtSkillEncyclopedia]:null,[n.SkillType.DesExtSkillMindMapGenerate]:null,[n.SkillType.SkillUserCustomSkill]:null,[n.SkillType.DesExtSkillSuperTask]:i.ChatTeaSkillName.SKILL_NAME_SUPER_TASK},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.SkillType.SkillFreeChat;return r[e||n.SkillType.SkillFreeChat]},s={[a.SkillType.ReadAndSummarize]:"chat_action_bar_read_summarize",[n.SkillType.SkillWrite]:"chat_action_bar_compose",[n.SkillType.SkillImageGen]:"chat_action_bar_image_creation",[n.SkillType.SkillSearch]:"chat_action_bar_search",[n.SkillType.SkillDeepSearch]:"chat_action_bar_deep_search",[n.SkillType.SkillTranslate]:"chat_action_bar_translate",[n.SkillType.SkillRead]:"chat_action_bar_read_pdf",[n.SkillType.SkillWebpage]:"chat_action_bar_read_url",[n.SkillType.SkillMusicGen]:"chat_action_bar_music_creation",[a.SkillType.AcademicSearch]:"chat_action_bar_academic_search",[a.SkillType.CodeInterpreter]:"chat_action_bar_code_interpreter",[a.SkillType.ExerciseAssistant]:"chat_action_bar_exercise_assistant",[n.SkillType.SkillFreeChat]:"",[a.SkillType.ReadMultiWebsites]:"",[a.SkillType.CodeAssistant]:"chat_action_bar_coding",[a.SkillType.VoiceCall]:"",[a.SkillType.VideoGeneration]:"chat_action_bar_video_creation",[a.SkillType.AiPPT]:"chat_action_bar_video_creation",[a.SkillType.UGCBot]:"",[a.SkillType.AiReadWebsite]:"",[a.SkillType.LocalModelQA]:"",[a.SkillType.AISpace]:"",[a.SkillType.SkillAiPodcast]:"",[a.SkillType.CustomSkill]:"",[n.SkillType.DesExtChatSkillPlaceholder]:"",[n.SkillType.DesExtSkillTranslate]:"",[n.SkillType.DesExtSkillSummaryHighlight]:"",[n.SkillType.DesExtSkillExplain]:"",[n.SkillType.DesExtSkillDesExtSearchCard]:"",[n.SkillType.DesExtSkillLinkPreview]:"",[n.SkillType.DesExtSkillDesExtSuggest]:"",[n.SkillType.DesExtSkillVideoSummary]:"",[n.SkillType.DesExtSkillOneLevelVideoSummary]:"",[n.SkillType.DesExtSkillRewriteWithTone]:"",[n.SkillType.DesExtSkillCustomSkill]:"",[n.SkillType.DesExtSkillSearchMindNote]:"",[n.SkillType.DesExtSkillTextToMindNote]:"",[n.SkillType.DesExtSkillBilingualSentence]:"",[n.SkillType.DesExtSkillAITitle]:"",[n.SkillType.DesExtPodcastTranscript]:"",[n.SkillType.DesExtSkillWebsiteDetail]:"",[n.SkillType.DesExtSkillSummary]:"",[n.SkillType.DesExtSkillAIToolSummary]:"",[n.SkillType.DesExtSkillReferenceAsk]:"",[n.SkillType.DesExtSkillMindMap]:"",[n.SkillType.DesExtSkillSimplifiedRead]:"",[n.SkillType.DesExtSkillGrammar]:"",[n.SkillType.DesExtSkillReply]:"",[a.SkillType.DesExtSkillMeetingSummary]:"",[n.SkillType.SkillTypeMediaUnderstandingByAsr]:"",[n.SkillType.SkillSearchEngine]:"",[n.SkillType.DesExtSkillVideoListSummary]:"",[n.SkillType.DesExtSkillCommentAnalyze]:"",[n.SkillType.DesExtSkillVideoDeepAnalyze]:"",[n.SkillType.DesExtSkillTopicTrendAnalyze]:"",[n.SkillType.DesExtSkillPageTranslate]:"",[n.SkillType.SkillDeepResearch]:"",[n.SkillType.DesExtSkillSharedAppAssistant]:"",[n.SkillType.DesExtSkillGrammarCorrection]:"",[n.SkillType.DesExtSkillPodcastReading]:"",[n.SkillType.DesExtSkillSuperTask]:"",[n.SkillType.DesExtSkillEncyclopedia]:"",[n.SkillType.DesExtSkillMindMapGenerate]:""},o=function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.SkillType.SkillFreeChat;return null!==(e=s[l])&&void 0!==e?e:s[n.SkillType.SkillFreeChat]},u={[n.SkillType.SkillWrite]:"writing_preview",[n.SkillType.SkillImageGen]:"image_preview",[n.SkillType.SkillFreeChat]:"",[a.SkillType.CodeInterpreter]:"ci_preview"},k=function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.SkillType.SkillFreeChat;return null!==(e=u[l||n.SkillType.SkillFreeChat])&&void 0!==e?e:u[n.SkillType.SkillFreeChat]},c=e=>void 0===e?"generic":e.toString()},292028:function(e,l,t){t.d(l,{throttleReqLite:function(){return i}});let i=function(e){let{delay:l=1e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=null;return async function(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];t||(t=e(...n).catch(e=>{throw t=null,e}));let r=await t;return setTimeout(()=>{t=null},l),r}}},269249:function(e,l,t){t.d(l,{getChatId:function(){return s},useChatId:function(){return S},useChatType:function(){return u},useChatViewConfig:function(){return a}});var i=t(698392);let n=e=>e.currentChatViewConfig,a=()=>(0,i.useChatSlice)("chatViewCoreStore",n),r=e=>{var l;return null===(l=e.currentChatViewConfig)||void 0===l?void 0:l.chatId},S=()=>(0,i.useChatSlice)("chatViewCoreStore",r),s=()=>r((0,i.getChatSlice)("chatViewCoreStore")),o=e=>{var l;return null===(l=e.currentChatViewConfig)||void 0===l?void 0:l.chatType},u=()=>(0,i.useChatSlice)("chatViewCoreStore",o)},23226:function(e,l,t){t.d(l,{useEnableSkillGuidance:function(){return r},useGuidanceActiveSkillIdentifier:function(){return a},useOnboardingSkills:function(){return s},useSidebarSkills:function(){return S},useSkillConfig:function(){return o}});var i=t(453157),n=t(698392);let a=()=>(0,n.useChatSlice)("chatGuidanceStore",e=>e.activeSkillIdentifier),r=()=>void 0!==a(),S=()=>(0,n.useChatSlice)("chatGuidanceStore",e=>e.sidebarSkills,i.shallow),s=()=>(0,n.useChatSlice)("chatGuidanceStore",e=>e.onboardingSkills,i.shallow),o=()=>(0,n.useChatSlice)("chatGuidanceStore",e=>e.skillConfig,i.shallow)},165876:function(e,l,t){t.d(l,{filterEnableRefContents:function(){return d},isDir:function(){return s},isFile:function(){return a},isImage:function(){return n},isLink:function(){return r},isNormal:function(){return o},isRemote:function(){return S},isRetry:function(){return u},isUploading:function(){return k}});var i=t(144993);let n=e=>"image"===e.type,a=e=>"file"===e.type,r=e=>"link"===e.type,S=e=>"remote"===e.type,s=e=>"directory"===e.type,o=e=>e===i.AttachmentStatus.Normal,u=e=>e===i.AttachmentStatus.Retry,k=e=>e===i.AttachmentStatus.Uploading,c=e=>!e.disableRef,d=e=>e.filter(c)},144993:function(e,l,t){t.d(l,{AttachmentStatus:function(){return i}});var i={Uploading:"Uploading",Retry:"Retry",Normal:"Normal"}},971857:function(e,l,t){t.d(l,{useBotConfigByConversationId:function(){return g},useBotConversationList:function(){return _},useConversation:function(){return d},useConversationList:function(){return f},useConversationRecorder:function(){return A},useIsSamantha:function(){return c},useLocalConversation:function(){return m},useMainConversationLink:function(){return T},useSamanthaBot:function(){return p},useThreadFeedInitiated:function(){return y},useThreadList:function(){return C}});var i=t(713738),n=t(865607),a=t(913821),r=t(845647),S=t(230932),s=t(389174),o=t(721118),u=t(651610),k=t(884181);let c=(e,l)=>(0,S.useFeedStore)(t=>(0,s.isSamantha)((0,o.conversationSelector)(t,e),l)),d=e=>(0,S.useFeedStore)(l=>(0,o.conversationSelector)(l,e),n.shallow),T=()=>(0,S.useFeedStore)(o.mainConversationLinkSelector,n.shallow),p=()=>(0,S.useFeedStore)(e=>e.samanthaBot),y=()=>(0,S.useFeedStore)(e=>e.threadFeedStatus.initiated,n.shallow),h=()=>(0,S.useFeedStore)(o.threadListDataSelector,n.shallow),C=()=>{let{conversationLinks:e,botConversationIndex:l,...t}=h();return{...t,threadLinks:(0,u.getThreadLinksFromConversationLinks)({conversationLinks:e,botConversationIndex:l})}},E=()=>(0,S.useFeedStore)(o.botConversationListDataSelector,n.shallow),_=()=>{let{conversationLinks:e,botConversationIndex:l,...t}=E();return{...t,botConversationLinks:(0,u.getBotConversationListFromConversationLinks)({conversationLinks:e,botConversationIndex:l})}},f=()=>(0,S.useFeedStore)(o.conversationListSelector,n.shallow),m=e=>(0,S.useFeedStore)(l=>(0,o.localConversationSelector)(l,e),n.shallow),A=e=>{let{setActiveConversation:l}=S.useFeedStore.getState();(0,i.useEffect)(()=>{l(e)},[e])},g=(e,l)=>{let t=k.feedServiceContainer.get("chatBotService");return(0,S.useFeedStore)(i=>{var n;let{bot_id:a=""}=null!==(n=(0,o.conversationSelector)(i,e))&&void 0!==n?n:{};l===r.ChatType.Bot&&(a=e);let{bot_conf:S}=(null==t?void 0:t.getBot(a))||{};return S},a.default)}}}]);
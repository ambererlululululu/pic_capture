"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["20397"],{223952:function(e,t,n){n.d(t,{useRuntimeContext:function(){return a}});var r=n(961693),o=n(532430);let a=()=>(0,o.getFromInstance)("useRuntimeContext",r.default)()},712980:function(e,t,n){n.d(t,{addQuery:function(){return u},changeUrlParams:function(){return f},getQueryObjBySearch:function(){return g},getUrlParams:function(){return s},getUrlQuery:function(){return m},getValidUrl:function(){return h},isMobileNativeLink:function(){return p},isValidUrl:function(){return d},parseHashOrQuery:function(){return l},removeQueryBykey:function(){return w},safeParseUrl:function(){return c},toURL:function(){return i}});var r=n(810364),o=n(678669),a=n(486677);let i=(e,t)=>{try{let n=new URL(e);return Object.entries(t).forEach(e=>{let[t,r]=e;n.searchParams.append(t,String(r))}),n.toString()}catch(o){let n=r.default.stringify(t);return`${e}${n?`?${n}`:""}`}},l=e=>{let t=e.startsWith("#")||e.startsWith("?")?e.slice(1):e,n={},r=/([^&=]+)=([^&]*)/g,o=null;for(;o=r.exec(t);){let[,e,t]=o;try{n[decodeURIComponent(e)]=decodeURIComponent(t)}catch(e){continue}}return n},u=(e,t)=>{let n={...l(e.split("#")[0].split("?")[1]||""),...l(e.split("#")[1]||"")};return i(e.split("#")[0].split("?")[0],{...n,...t}).replace(/\?$/,"")},c=e=>{try{return new URL(e)}catch(e){return null}},s=e=>"undefined"==typeof window?null:new URLSearchParams(new URL(window.location.href).search).get(e),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n;let r=new URL(e);return(!t.allowedProtocols||t.allowedProtocols.includes(r.protocol))&&(!t.allowedExtensions||t.allowedExtensions.map(e=>e.toLowerCase()).includes(null!==(n=r.pathname.split(".").pop())&&void 0!==n?n:""))&&(!t.allowedHosts||t.allowedHosts.includes(r.host))}catch(e){return!1}},f=e=>{let{operationType:t="set",originalUrl:n,paramsList:r,hashParamsList:o}=e;try{let e=new URL(n);null==r||r.forEach(n=>{let{name:r,value:o}=n;if(r){if("set"===t&&o){e.searchParams.set(r,o);return}"delete"===t&&e.searchParams.delete(r)}});let a=_(e.hash);if(null==o||o.forEach(e=>{let{name:n,value:r}=e;if(n){if("set"===t&&r){a[n]=encodeURIComponent(r);return}"delete"===t&&n in a&&delete a[n]}}),Object.keys(a).length>0){let t=Object.entries(a).map(e=>{let[t,n]=e;return`${t}=${n}`}).join("&");e.hash=`#${t}`}else e.hash="";return e.toString()}catch(e){return n}},_=e=>{let t={};return(null==e?void 0:e.startsWith("#"))&&e.slice(1).split("&").forEach(e=>{let[n,r]=e.split("=");t[n]=r}),t},h=e=>{try{return e?new URL(e).toString():""}catch(e){return""}},p=e=>{if(e.startsWith("sslocal://flow"))return!0;let t=c(e);return!!t&&!!("coco:"===t.protocol&&"applet"===t.host&&t.searchParams.get("appletId"))},g=e=>(e.split("?")[1]||"").split("&").reduce((e,t)=>{let[n,r]=t.split("=");return Reflect.set(e,n,r),e},{});function m(e,t){var n;let r=new URL(e),o=null!==(n=g(r.search))&&void 0!==n?n:{};return{url:r,query:o,keysValue:t.reduce((e,t)=>{var n;return e[t]=null!==(n=r.searchParams.get(t))&&void 0!==n?n:"",e},{})}}function w(e){if("undefined"==typeof window)return;let t=g(location.search);if(!t[e])return;let n=new URL(window.location.href),r=(0,o.default)(t,[e]),i=(0,a.default)(r).map(e=>{let[t,n]=e;return`${t}=${n}`}).join("&");n.search=`?${i}`,window.history.replaceState({},document.title,n.toString())}},624134:function(e,t,n){n.d(t,{getGoofyCanary:function(){return i},getScmVersion:function(){return a},getShortVersionCode:function(){return o}});var r=n(344417);let o=e=>{let t=Math.ceil(String(e).length/2),n=[];for(;t;)n.push(Math.pow(10,2*--t));return n.map(t=>Math.floor(e/t)%100).join(".")},a=()=>{var e;return String("undefined"!=typeof window&&(null===(e=window.gfdatav1)||void 0===e?void 0:e.ver)||"unknown")},i=()=>{var e,t,n,o;return"undefined"!=typeof window&&(0,r.default)(null===(t=window)||void 0===t?void 0:null===(e=t.gfdatav1)||void 0===e?void 0:e.canary)?String(null===(o=window)||void 0===o?void 0:null===(n=o.gfdatav1)||void 0===n?void 0:n.canary):""}},193907:function(e,t,n){var r;n.d(t,{PassportEnterpriseUserTypeEnum:function(){return o}});let o=((r={})[r.Normal=0]="Normal",r[r.Workspace=101]="Workspace",r)},317142:function(e,t,n){n.d(t,{resetAuthLoginDataFromRoute:function(){return E},isPollingUserInfoRedirect:function(){return _},oauth2Redirect:function(){return w},parseOAuthUrl:function(){return S},DefaultCookieService:function(){return y},isOAuth2RouteParameter:function(){return h}});var r,o=n(557298),a=n(218679),i=n(340002),l=n(165482),u=n(712980);let c=(e,t)=>{let n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return{left:n/2-e/2+window.screenLeft,top:r/2-t/2+window.screenTop}},s=e=>{let{path:t,width:n=700,height:r=700}=e,{left:a,top:i}=c(n,r);window.open((0,o.filterUrlModule)(t,null,{logType:"js.window.location",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$J-%lJXRXBxW$$NNWFWbFl%bXhNTTFZd1lWZDRla3d6$*5sWm$%a3pZ$mMx-TJJelkz%mlNMEpzWW1rM%1HTXlSbmxhTTFaNg"}),"_blank",`width=${n},height=${r},left=${a},top=${i},resizable=no,location=no,menubar=no`)},d=((r={}).ASSIGN="assign",r.POPUP_AUTO_LOGIN="popup_auto_login",r.CUSTOM_OPEN="custom_open",r),f=e=>e&&[d.POPUP_AUTO_LOGIN].includes(e),_=e=>f(e),h=e=>(null==e?void 0:e.authLoginData)&&(0,a.default)(null==e?void 0:e.type),p=e=>(0,a.default)(e)?e:(0,l.stringifyJSON)(e),g=e=>globalThis.btoa(p(e)),m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{state:r,...o}=t,{encodeState:a=!0,extraParameter:i}=n;return(0,u.toURL)(e,{...i,...o,state:a?g(r):p(r)})},w=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{redirectMethod:r=d.ASSIGN,customThirdOpenRedirectFn:a}=n,i=m(e,t,n);switch(r){case d.ASSIGN:location.assign((0,o.filterUrlModule)(i,null,{logType:"js.window.location",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$J-%lJXRXBxW$$NNWFX%ll%bkJp-lZaNlkzaz$hRmt5$*5aa1Z6$Xd%RE5PZ$ZsN%9%RmtSMnh6WTNrNWRsbFlWakJo%k$sM$pFaE9hR050WkR*amR6MDk"}));return;case d.POPUP_AUTO_LOGIN:s({path:i});return;case d.CUSTOM_OPEN:null==a||a(i);return;default:return}},E=()=>{window.history.replaceState({},"")},v=e=>null!=e,R=e=>!!v(e)&&(0,a.default)(e.platform)&&(0,a.default)(e.navigatePath)&&(0,a.default)(e.type),O=e=>{let t=globalThis.atob(e);try{let e=JSON.parse(t);if(R(e))return e;throw Error("Wrong structure of json stringified Oauth2String")}catch(e){if(e instanceof SyntaxError)return t;throw e}},T=e=>!!v(e)&&((0,a.default)(e.access_token)||(0,a.default)(e.code))&&(0,a.default)(e.state),S=e=>{let t=(0,u.parseHashOrQuery)(e.hash||e.search);if(!T(t))throw Error("Wrong structure of oauth2 callback parameter");let n=O(t.state);if((0,a.default)(n))throw Error("OAuth2 state in flow third party login must not be string");let{access_token:r,code:o}=t;return{access_token:r,code:o,state:n}},y={get:e=>Promise.resolve(i.default.get(e)),set:(e,t)=>Promise.resolve(i.default.set(e,t))}},886941:function(e,t,n){n.d(t,{WORKSPACE_TYPE_NAME:function(){return u},getWorkspaceParams:function(){return d},removeWorkspaceParams:function(){return f},updateWorkspaceParams:function(){return s}});var r=n(286528),o=n(38848),a=n(178230),i=n(193907);let l="workspace_data",u={[i.PassportEnterpriseUserTypeEnum.Workspace]:"workspace",[i.PassportEnterpriseUserTypeEnum.Normal]:"personal"},c=()=>{try{return JSON.parse(o.FlowLocalStorage.getItem(l)||"{}")}catch(e){return{}}},s=e=>{var t,n;let{cuid:i,type:c}=e;if(void 0===i&&void 0===c)return;let s=d(),f={},_=(0,r.getTeaInstance)();i&&(f.cuid=i,null==_||null===(t=_.config)||void 0===t||t.call(_,{cuid:i})),void 0!==c&&(f.type=c,null==_||null===(n=_.config)||void 0===n||n.call(_,{space_type:u[c]}));let h={...s,...f};a.logger.persist.info({eventName:"workspace_params_update",meta:h}),o.FlowLocalStorage.setItem(l,JSON.stringify(h))},d=()=>{let e=c();return a.logger.persist.info({eventName:"workspace_params_get",meta:e}),{cuid:e.cuid,type:e.type}},f=()=>{a.logger.persist.info({eventName:"workspace_params_remove"}),o.FlowLocalStorage.removeItem(l)}},811742:function(e,t,n){n.d(t,{getSSOEmail:function(){return o}});var r=n(38848);let o=()=>{let e=r.FlowLocalStorage.getItem("FLOW_CURRENT_USER_EMAIL");return e&&"undefined"!==e?e:null}},870823:function(e,t,n){n.d(t,{getSidebarStateFromCookie:function(){return o},getSidebarTeaParams:function(){return l},useSidebarFromCookie:function(){return a}});var r=n(223952);let o=e=>null!=e&&!!e.includes("flow_ssr_sidebar_expand=1")||(null==e||!e.includes("flow_ssr_sidebar_expand=0"))&&void 0,a=()=>{var e,t;return o(null===(t=(0,r.useRuntimeContext)().context)||void 0===t?void 0:null===(e=t.request)||void 0===e?void 0:e.cookie)},i=["enter_page"],l=e=>i.includes(e)?{whether_sidebar_show:o("undefined"!=typeof document?document.cookie:void 0)?"1":"2"}:{}},30999:function(e,t,n){n.d(t,{ABOUT_ROUTE:function(){return u},ACCOUNT_SETTING_ROUTE:function(){return v},AUTH_CALLBACK_ROUTE:function(){return h},BOT_DISCOVER_ROUTE:function(){return g},CHAT_ALL_THREADS:function(){return T},CHAT_NEW_ROUTE:function(){return O},CHAT_PAGE_ROUTE:function(){return o},CHAT_PAGE_WITHOUT_END_SLASH:function(){return y},CODE_CHAT_PAGE_ROUTE:function(){return $},CREATE_BOT_ROUTE:function(){return p},Collection_ROUTE:function(){return m},DELETE_ACCOUNT_ROUTE:function(){return f},DESKTOP_AI_GUIDANCE_ROUTE:function(){return N},DESKTOP_DOWNLOAD_ROUTE:function(){return U},DESKTOP_LOCAL_FILE_CHAT_PAGE_URL:function(){return A},LOGIN_PAGE_ROUTE:function(){return r},MAIN_PAGE_ROUTE:function(){return _},MEMORY_ROUTE:function(){return c},MOBILE_BIND_ROUTE:function(){return R},MOBILE_DOWNLOAD_ROUTE:function(){return P},NEW_CHAT_PAGE_ROUTE:function(){return a},NEW_THREAD_ROUTE:function(){return S},PROFILE_PAGE_ROUTE:function(){return w},SETTINGS_PAGE:function(){return i},UPDATE_PAGE:function(){return l},URL_ACTION_ROUTE:function(){return L},USER_BLOCKLIST_ROUTE:function(){return d},USER_PROFILE_ROUTE:function(){return s},WAITLIST_ROUTE:function(){return E}});let r="/chat/",o="/chat/",a="/chat/new",i="/chat/settings",l="/chat/update",u="/chat/settings/about",c="/chat/settings/memory",s="/chat/settings/profile",d="/chat/settings/blocklist",f="/delete-account",_="/chat/",h={default:"/auth/callback",apple:"/passport/web/web_login_success",line:"/passport/web/web_login_success"},p="/chat/bot/create",g="/chat/bot/discover",m="/chat/collection",w="/chat/profile",E="/waitlist",v="/chat/settings/account",R="/chat/settings/account/mobile-bind",O="/chat/new",T="/chat/thread/list",S="/chat/new-thread",y="/chat",U="/download/desktop",P="/download/mobile",L="/chat/url-action",N="/chat/pc-ai-guidance",A="chrome://local-model-chat/",$="/code/chat/"},696557:function(e,t,n){n.d(t,{loadTeaLandingUrl:function(){return a},saveTeaLandingUrl:function(){return o}});let r="",o=e=>{r=e},a=e=>e&&r.length>300?r.slice(0,300):r},9188:function(e,t,n){var r;n.d(t,{QueryKeys:function(){return o}});let o=((r={}).ORIGIN_LANDING="origin_landing",r)},494583:function(e,t,n){n.d(t,{initWebTeaConfig:function(){return K}});var r=n(762707),o=n(696557),a=n(30999),i=n(317142);let l=e=>{if(!e)return{};let t={ug_landing_url:e};try{let n=new URL(e).searchParams.get("channel");t.utm_source=n||""}catch(e){}return t},u=e=>{let t=new URL(e);return t.searchParams.get("channel")&&t.searchParams.get("source")};var c=n(441259),s=n(38848),d=n(9188);let f=(e,t)=>{let n=new URLSearchParams(e).get(d.QueryKeys.ORIGIN_LANDING);return n?decodeURIComponent(n):t},_=()=>{try{let e=s.FlowLocalStorage.getItem("flow_web_landing_page_url"),{origin:t,pathname:n,search:r}=e?new URL(e):location,o=`${t}${n}${r}`;return!e&&u(o)&&s.FlowLocalStorage.setItem("flow_web_landing_page_url",o),{defaultLandingUrl:o,pathname:n,search:r}}catch(r){let{origin:e,pathname:t,search:n}=location;return{defaultLandingUrl:`${e}${t}${n}`,pathname:t,search:n}}},h=()=>{let{defaultLandingUrl:e,pathname:t,search:n}=_();if(Object.values(a.AUTH_CALLBACK_ROUTE).includes(t))try{let{state:t}=(0,i.parseOAuthUrl)(location);if("string"!=typeof t.navigatePath)return e;let{search:n}=new URL(`${origin}${t.navigatePath}`);return f(n,e)}catch(t){return e}if(n.includes(d.QueryKeys.ORIGIN_LANDING))try{return f(n,e)}catch(e){}return e},p=e=>{try{return new URL(e).searchParams.get("channel")||void 0}catch(e){return e instanceof Error?`error: ${null==e?void 0:e.message}`:e}},g=e=>{try{let{searchParams:t}=new URL(e);return{from_source:t.get("source")||((0,c.isInSuperApp)()?"lark":"other"),op_tracking:t.get("op_tracking")||((0,c.isInSuperApp)()?"other":void 0),op_tracking_id:t.get("op_tracking_id"),source_scene:t.get("source_scene")||void 0,utm_source:t.get("utm_source")||"",chanel:t.get("channel")||void 0}}catch(e){return{}}},m=()=>{let e=h();return(0,o.saveTeaLandingUrl)(e),{header:{ug_source:p(e),...l(e),...(0,r.default)(g(e),["from_source","op_tracking","op_tracking_id"])},event:{landing_page_url:e,app_id:482431}}},w=e=>({event_name:null==e?void 0:e.eventName,event_ts:Math.floor(Date.now()/1e3),growth_deepevent:"4"});var E=n(910214),v=n(643404);let R=async()=>await (0,v.retryAsync)(async()=>{let e=await E.accountApiService.GetWebAnonID();if(!(null==e?void 0:e.uid)||"0"===e.uid||String(e.web_id)===e.uid)throw Error("guest uid is empty");return e},3,e=>800*e),O=async e=>Promise.resolve();var T=n(996080),S=n(692445),y=n.n(S),U=n(510534),P=n(811742),L=n(624134),N=n(896855),A=n(293525);let $=()=>"PROD";var b=n(886941);let k=()=>{let e=(0,b.getWorkspaceParams)(),t={};return void 0!==e.cuid&&(t.cuid=e.cuid),void 0!==e.type&&(t.space_type=b.WORKSPACE_TYPE_NAME[e.type]),t};var W=n(223746);let I=async()=>await {is_samantha_client:"0",pc_version:(0,W.getWebVersion)()},C=()=>{switch((0,c.getSamanthaClientType)()){case"Cici":return 582465;case"Doubao":return 582478;default:return N.WEB_DOUBAO_APP_ID}},D=async e=>{var t,n;let{extraEvtParams:r,extraParams:o}=e||{},a=(0,P.getSSOEmail)(),i="undefined"==typeof window?{}:{screen_width:window.innerWidth,screen_height:window.innerHeight},l=s.FlowLocalStorage.getItem("flow_tea_user_id"),u=await I(),d=k();return{app_id:C(),_staging_flag:0,samantha_version_client:(0,c.getSamanthaClientVersion)(),is_test_env:+!window.location.hostname.startsWith("www"),scm_version:(0,L.getScmVersion)(),goofy_canary:(0,L.getGoofyCanary)(),aid:(0,U.getAid)(),real_aid:(0,U.getAid)(),evtParams:{email:a,env:$(),region:"cn",isDevMode:!1,isReleaseVersion:!0,scmVersion:(0,L.getScmVersion)(),os:"web",os_name:"web",web_device:y().getParser(navigator.userAgent).getOSName(!0),inner_region:(0,A.getCountry)()||void 0,site_type:"doubao_site",...i,...r},...l?{user_id:l||""}:void 0,user_is_login:!!l,samantha_web:"1",prefers_color_scheme:(null===(t=(n=window).matchMedia)||void 0===t?void 0:t.call(n,"(prefers-color-scheme: dark)").matches)?"dark":"light",...d,...o,...u}};var F=n(286528),H=n(497299),M=n(102249),G=n(992847),x=n(712980);let B=["enter_page","click_login","login_result","login_type_show"],J=e=>{let{channel:t}=(0,x.parseHashOrQuery)(location.search);return B.includes(e)?{url:window.location.href,url_path:window.location.pathname,traffic_type:"baidu"===t||"360"===t?"sem":"organic"}:{url:window.location.href,url_path:window.location.pathname}};var j=n(870823);let Z=e=>{let t=e[0];return t&&t.events.forEach(e=>{let{event:t}=e,n=w({eventName:t});n={...n={...n,...J(t)},...(0,j.getSidebarTeaParams)(t)};let r={...JSON.parse(e.params||"null"),...n};e.params=JSON.stringify(r)}),e},V=async e=>{var t,n;let{header:r,event:o}=m(),a=(0,c.isInSuperApp)()?null===(t=await (null===(n=window.openIdPromise)||void 0===n?void 0:n.catch(()=>({open_id:void 0}))))||void 0===t?void 0:t.open_id:void 0;return D({extraEvtParams:{...o,...e},extraParams:{open_id:a,...r}})},z=()=>window[T.PromiseName.GuestLayoutMode],K=async(e,t)=>{let{lifecycle:n,extraEvtParams:r}=t||{};(0,F.initTeaInstance)(e),await O(e);let o=await V(r);(0,F.initTeaConfig)(e,o,{lifecycle:n,filterEvent:Z,getWebAnonID:async()=>(await window[T.PromiseName.TTWid],R()),getPreRequestAbTest:z}),H.FlowTeaController.init(e),(0,M.initFG)({[G.FGBuiltinNames.tea]:{Tea:e}})}}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["64845"],{371083:function(e,t,r){r.r(t),r.d(t,{handleLaunchData:function(){return S}});var n=r(530088),u=r(293525),a=r(368107),i=r(698392),o=r(257029),c=r(274088),l=r(102249),_=r(7625),s=r(992847),d=r(302430),g=r(178230);let F=e=>{let{needUid:t=!0}=e;return new Promise(e=>{let r=setInterval(()=>{let n=(0,o.getUuidAndWebIdFromTeaConfig)().uuid,u=(0,o.getUidFromTeaConfig)();n&&(u||!t)&&(clearInterval(r),e({tea_uid:String(u),tea_uuid:String(n)}))},500);setTimeout(()=>{clearInterval(r)},1e4)})},S=e=>{let{config:t}=e;try{if(d.ttWidManager.setTtwidConfig({web_id:null==t?void 0:t.web_id,tt_wid:null==t?void 0:t.ttwid}),!t)return;let r=(0,c.getSlardar)();(0,l.setFGValueAll)(n.FG_FEATURE_CONFIG_KEY,(0,n.intersectFeatureConfigFromLaunch)((0,l.getFGValueAll)(n.FG_FEATURE_CONFIG_KEY),e.feature_config||{})),(0,l.getFGValue)(_.FGLocalDebugKeys.enableDebug,{source:s.FGBuiltinNames.debugStorage})&&(0,l.setFGValue)(_.FGLocalDebugKeys.enableDebug,!1,{source:s.FGBuiltinNames.debugStorage}),r("context.set","web_id",t.web_id),e.country&&((0,u.setCountry)(e.country),r("context.set","country",e.country),(0,o.configTeaCountry)(e.country)),r("context.set","sec_user_id",e.sec_user_id);let g=(0,o.getUuidAndWebIdFromTeaConfig)().uuid;g?r("context.set","tea_uuid",String(g)):(0,o.checkAndGetTeaToken)(!0,e=>{r("context.set","tea_uuid",String(e))}),F({}).then(e=>{r("context.set","tea_uid",String(e.tea_uid))}),(0,i.getChatStore)("launcherRawSettingStore").setState({launchStatus:a.LaunchStatus.Success})}catch(e){g.logger.persist.error({eventName:"init_chat_app_callback_error",error:e instanceof Error?e:Error(String(e))})}}}}]);
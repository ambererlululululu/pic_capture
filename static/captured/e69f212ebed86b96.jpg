"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["197"],{133637:function(e,t,n){var l=n(429996);let i=(0,n(382369).A)(function(e){return l.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))},"eye_opened");t.Z=i},704006:function(e,t,n){n.d(t,{Z:function(){return T}});var l=n(444614),i=n(607278),r=n(814986),o=n(477041),a=n(429996),s=n(669160),u=n.n(s),c=n(295011),d=n.n(c),h=n(524518),p=n(817835),f=n(926778),v=n(419977),g=n(109044);class m extends f.Z{static get inputDefaultAdapter(){return{notifyChange:r.Z,setValue:r.Z}}constructor(e){super(Object.assign(Object.assign({},m.inputDefaultAdapter),e))}init(){this._setInitValue()}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}_setInitValue(){let{defaultValue:e,value:t}=this.getProps(),n=e;this._isControlledComponent()&&(n=t),this._adapter.setValue(n)}setValue(e){this._adapter.setValue(e)}handleChange(e,t){let{maxLength:n,minLength:l,getValueLength:r}=this._adapter.getProps(),o=e;n&&(0,i.Z)(r)&&(o=this.handleVisibleMaxLength(e)),l&&(0,i.Z)(r)&&this.handleVisibleMinLength(o),this._isControlledComponent()||this._adapter.setValue(o),this._adapter.notifyChange(o,t)}handleVisibleMinLength(e){let{minLength:t,getValueLength:n}=this._adapter.getProps(),{minLength:l}=this._adapter.getStates();if((0,h.Z)(t)&&t>=0&&(0,i.Z)(n)&&(0,o.Z)(e)){let i=n(e);if(i<t){let n=e.length+(t-i);n!==l&&this._adapter.setMinLength(n)}else l!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){let{maxLength:t,getValueLength:n}=this._adapter.getProps();if((0,h.Z)(t)&&t>=0&&(0,i.Z)(n)&&(0,o.Z)(e))return n(e)>t?this.handleTruncateValue(e,t):e}handleTruncateValue(e,t){let{getValueLength:n}=this._adapter.getProps();if(!(0,i.Z)(n))return e.slice(0,t);{let l="";for(let i=1,r=e.length;i<=r;i++){let r=e.slice(0,i);if(n(r)>t)break;l=r}return l}}handleClear(e){let t=e;this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&"object"==typeof t||(t={}),(0,p.Z)(t,v.j2.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange("",t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){let{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();!t&&!n&&this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){"password"===e?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){let t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){let t=this._adapter.getProp("mode"),n=this._adapter.getState("eyeClosed");return"password"===t?n?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){let{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){let{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===g.q7&&this._adapter.notifyEnterPress(e)}isAllowClear(){let{value:e,isFocus:t,isHovering:n}=this._adapter.getStates(),{showClear:l,disabled:i,showClearIgnoreDisabled:r}=this._adapter.getProps();return e&&l&&(!i||r)&&(t||n)}handleClickPrefixOrSuffix(e){let{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();t||n||(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&(0,i.Z)(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(null==e?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}}var S=n(156287),_=n(70059),y=n(248831);let k=(0,n(382369).A)(function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),a.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))},"eye_closed_solid");var w=n(133637),x=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,l=Object.getOwnPropertySymbols(e);i<l.length;i++)0>t.indexOf(l[i])&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(n[l[i]]=e[l[i]]);return n};let C=v.UX.PREFIX,b=v.j2.SIZE,E=v.j2.STATUS,D=v.j2.MODE;class M extends _.Z{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleMouseOver=e=>{this.setState({isHovering:!0})},this.handleMouseLeave=e=>{this.setState({isHovering:!1})},this.handleModeChange=e=>{this.foundation.handleModeChange(e)},this.handleClickEye=e=>{this.foundation.handleClickEye(e)},this.handleMouseDown=e=>{this.foundation.handleMouseDown(e)},this.handleMouseUp=e=>{this.foundation.handleMouseUp(e)},this.handleModeEnterPress=e=>{this.foundation.handleModeEnterPress(e)},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)},this.state={value:"",cachedValue:null,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:"password"===e.mode,minLength:e.minLength},this.inputRef=a.createRef(),this.prefixRef=a.createRef(),this.suffixRef=a.createRef(),this.foundation=new m(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{let{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){let n={};return e.value!==t.cachedValue&&(n.value=e.value,n.cachedValue=e.value),n}componentDidUpdate(e){let{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){this.foundation.init();let{disabled:e,autoFocus:t,preventScroll:n}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:n})}renderPrepend(){let{addonBefore:e}=this.props;if(e){let t=u()({[`${C}-prepend`]:!0,[`${C}-prepend-text`]:e&&(0,o.Z)(e),[`${C}-prepend-icon`]:(0,S.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){let{addonAfter:e}=this.props;if(e){let t=u()({[`${C}-append`]:!0,[`${C}-append-text`]:e&&(0,o.Z)(e),[`${C}-append-icon`]:(0,S.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){let e=u()(`${C}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?a.createElement("div",{className:e,onMouseDown:this.handleClear},t||a.createElement(y.Z,null)):null}renderModeBtn(){let{eyeClosed:e}=this.state,{mode:t,disabled:n}=this.props,l=u()(`${C}-modebtn`),i=e?a.createElement(k,null):a.createElement(w.Z,null);return"password"!==t||n?null:a.createElement("div",{role:"button",tabIndex:0,"aria-label":e?"Show password":"Hidden password",className:l,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i)}renderPrefix(){let{prefix:e,insetLabel:t,insetLabelId:n}=this.props,l=e||t;if(!l)return null;let i=u()({[`${C}-prefix`]:!0,[`${C}-inset-label`]:t,[`${C}-prefix-text`]:l&&(0,o.Z)(l),[`${C}-prefix-icon`]:(0,S.ID)(l)});return a.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:n,"x-semi-prop":"prefix,insetLabel"},l)}renderSuffix(e){let{suffix:t,hideSuffix:n}=this.props;if(!t)return null;let l=u()({[`${C}-suffix`]:!0,[`${C}-suffix-text`]:t&&(0,o.Z)(t),[`${C}-suffix-icon`]:(0,S.ID)(t),[`${C}-suffix-hidden`]:e&&!!n});return a.createElement("div",{className:l,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){let{forwardRef:e}=this.props;if(!(0,l.Z)(e)){if("function"==typeof e)return t=>{e(t),this.inputRef={current:t}};if("[object Object]"===Object.prototype.toString.call(e))return this.inputRef=e,e}return this.inputRef}render(){let e=this.props,{addonAfter:t,addonBefore:n,autoFocus:l,clearIcon:r,className:o,disabled:s,defaultValue:c,placeholder:d,prefix:h,mode:p,insetLabel:f,insetLabelId:v,validateStatus:g,type:m,readonly:_,size:y,suffix:k,style:w,showClear:b,onEnterPress:E,onClear:D,hideSuffix:M,inputStyle:T,forwardRef:A,maxLength:L,getValueLength:W,preventScroll:I,borderless:R,showClearIgnoreDisabled:P,onlyBorder:j}=e,N=x(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:Z,isFocus:V,minLength:O}=this.state,K=this.foundation.isAllowClear(),F=(0,S.ID)(k),$=this.getInputRef(),G=`${C}-wrapper`,B=u()(G,o,{[`${C}-wrapper__with-prefix`]:h||f,[`${C}-wrapper__with-suffix`]:k,[`${C}-wrapper__with-suffix-hidden`]:K&&!!M,[`${C}-wrapper__with-suffix-icon`]:F,[`${C}-wrapper__with-append`]:n,[`${C}-wrapper__with-prepend`]:t,[`${C}-wrapper__with-append-only`]:n&&!t,[`${C}-wrapper__with-prepend-only`]:!n&&t,[`${G}-readonly`]:_,[`${G}-disabled`]:s,[`${G}-warning`]:"warning"===g,[`${G}-error`]:"error"===g,[`${G}-focus`]:V,[`${G}-clearable`]:b,[`${G}-modebtn`]:"password"===p,[`${G}-hidden`]:"hidden"===m,[`${G}-${y}`]:y,[`${C}-borderless`]:R,[`${C}-only_border`]:null!=j}),z=u()(C,{[`${C}-${y}`]:y,[`${C}-disabled`]:s,[`${C}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${C}-sibling-modebtn`]:"password"===p}),U=Object.assign(Object.assign({},N),{style:T,className:z,disabled:s,readOnly:_,type:this.foundation.handleInputType(m),placeholder:d,onInput:e=>this.foundation.handleInput(e),onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e),onKeyUp:e=>this.foundation.handleKeyUp(e),onKeyDown:e=>this.foundation.handleKeyDown(e),onKeyPress:e=>this.foundation.handleKeyPress(e),value:null==Z?"":Z});(0,i.Z)(W)||(U.maxLength=L),O&&(U.minLength=O),"error"===g&&(U["aria-invalid"]="true");let H=Object.assign({},w);return void 0!==j&&(H=Object.assign({borderWidth:j},w)),a.createElement("div",{className:B,style:H,onMouseEnter:e=>this.handleMouseOver(e),onMouseLeave:e=>this.handleMouseLeave(e),onClick:e=>this.handleClick(e)},this.renderPrepend(),this.renderPrefix(),a.createElement("input",Object.assign({},U,{ref:$})),this.renderClearBtn(),this.renderSuffix(K),this.renderModeBtn(),this.renderAppend())}}M.propTypes={"aria-label":d().string,"aria-labelledby":d().string,"aria-invalid":d().bool,"aria-errormessage":d().string,"aria-describedby":d().string,"aria-required":d().bool,addonBefore:d().node,addonAfter:d().node,clearIcon:d().node,prefix:d().node,suffix:d().node,mode:d().oneOf(D),value:d().any,defaultValue:d().any,disabled:d().bool,readonly:d().bool,autoFocus:d().bool,type:d().string,showClear:d().bool,hideSuffix:d().bool,placeholder:d().any,size:d().oneOf(b),className:d().string,style:d().object,validateStatus:d().oneOf(E),onClear:d().func,onChange:d().func,onBlur:d().func,onFocus:d().func,onInput:d().func,onKeyDown:d().func,onKeyUp:d().func,onKeyPress:d().func,onEnterPress:d().func,insetLabel:d().node,insetLabelId:d().string,inputStyle:d().object,getValueLength:d().func,preventScroll:d().bool,borderless:d().bool},M.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:r.Z,onChange:r.Z,onBlur:r.Z,onFocus:r.Z,onInput:r.Z,onKeyDown:r.Z,onKeyUp:r.Z,onKeyPress:r.Z,onEnterPress:r.Z,validateStatus:"default",borderless:!1};var T=a.forwardRef((e,t)=>a.createElement(M,Object.assign({},e,{forwardRef:t})))},126544:function(e,t,n){let l,i;n.d(t,{KX:function(){return h},W7:function(){return c}});var r=n(185614),o=n.n(r);let a="undefined"!=typeof window,s=e=>{var t,n;return(null!=e?e:"string"==typeof(null===(t=globalThis.navigator)||void 0===t?void 0:t.userAgent))?null===(n=globalThis.navigator)||void 0===n?void 0:n.userAgent:""},u=e=>o().getParser(s(e)).getPlatformType(!0).includes("mobile"),c=e=>(void 0===i&&(i=u(e)),i),d=e=>{if(void 0===l){let t=s(e),n=/iPad|iPhone|iPod/.test(t),i=t.includes("Macintosh")&&a&&"ontouchstart"in document.documentElement;l=n||i}return l},h=e=>c(e)||d(e)},184365:function(e,t,n){n.r(t),n.d(t,{DbxTooltip:function(){return l.P},TooltipProvider:function(){return i.p}});var l=n(802709),i=n(313540)},313540:function(e,t,n){n.d(t,{p:function(){return l}});let l=n(429996).createContext({getPopupContainer:null})},802709:function(e,t,n){n.d(t,{P:function(){return c}});var l=n(429996),i=n(312155),r=n(966640),o=n(313540),a=n(126544),s=n(627394);let u=e=>{let{children:t,getPopupContainer:n}=e;return n?(0,s.jsx)(i.h_,{container:n(),children:t}):(0,s.jsx)(s.Fragment,{children:t})},c=l.forwardRef((e,t)=>{let{content:n,position:c="top",trigger:d="hover",isUseByPopover:h,visible:p,sticky:f,collisionBoundary:v=[],spacing:g=4,mouseEnterDelay:m=300,mouseLeaveDelay:S=300,style:_,className:y,prefixCls:k,zIndex:w,getPopupContainer:x,motion:C=!0,clickToHide:b=!1,stopPropagation:E=!1,autoAdjustOverflow:D=!0,disableFocusListener:M=!1,onVisibleChange:T,onClickOutSide:A,children:L,margin:W,rePosKey:I,wrapperId:R}=e,P=(0,a.KX)(),[j,N]=l.useState(!1),[,Z]=l.useState({}),V="custom"===d||void 0!==p;P&&"hover"===d&&(d="click");let O=V?!!p:j,K=l.useRef(null),{side:F,align:$}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";switch(e){case"top":default:return{side:"top",align:"center"};case"topLeft":return{side:"top",align:"start"};case"topRight":return{side:"top",align:"end"};case"left":return{side:"left",align:"center"};case"leftTop":return{side:"left",align:"start"};case"leftBottom":return{side:"left",align:"end"};case"right":return{side:"right",align:"center"};case"rightTop":return{side:"right",align:"start"};case"rightBottom":return{side:"right",align:"end"};case"bottom":return{side:"bottom",align:"center"};case"bottomLeft":return{side:"bottom",align:"start"};case"bottomRight":return{side:"bottom",align:"end"}}}(c),G="number"==typeof g?g:g.mainAxis,B="number"==typeof g?0:g.crossAxis,z=l.useRef();l.useEffect(()=>{V&&O!==z.current&&(null==T||T(O)),z.current=O}),l.useEffect(()=>{void 0!==I&&Z({})},[I]);let U=l.useRef(null),H=l.useCallback(e=>{V||N(e),null==T||T(e)},[V,T]),X=l.useRef(null),q=l.useRef(null);l.useEffect(()=>{if(!A||!O||!O||"click"!==d&&"contextMenu"!==d)return;let e=e=>{"Escape"===e.key&&H(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[O,A,d,H]);let Q=l.useCallback(e=>{e&&(X.current=e)},[]);l.useEffect(()=>()=>{null!==K.current&&window.clearTimeout(K.current),null!==U.current&&window.clearTimeout(U.current)},[]);let J=l.useMemo(()=>{var e,t,n,l;return"number"==typeof W?W:{top:null!==(e=null==W?void 0:W.top)&&void 0!==e?e:5,right:null!==(t=null==W?void 0:W.right)&&void 0!==t?t:5,bottom:null!==(n=null==W?void 0:W.bottom)&&void 0!==n?n:5,left:null!==(l=null==W?void 0:W.left)&&void 0!==l?l:5}},[W]),Y=l.useCallback(e=>{q.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),ee=L;try{let e=l.Children.only(L);if(l.isValidElement(e)){var et;let t="string"==typeof e.type,n=(null===(et=e.type)||void 0===et?void 0:et.$$typeof)===Symbol.for("react.forward_ref");e.type!==l.Fragment&&(t||n)||(ee=(0,s.jsx)("span",{"data-forward-dom":!0,children:L}))}}catch{ee=(0,s.jsx)("span",{"data-forward-dom":!0,children:L})}let{getPopupContainer:en}=l.useContext(o.p);return(0,s.jsx)(i.zt,{delayDuration:m,skipDelayDuration:S,disableHoverableContent:"hover"!==d,children:(0,s.jsxs)(i.fC,{open:"hover"===d?void 0:O,onOpenChange:e=>{if(V||"click"===d||"contextMenu"===d||"focus"===d||"hover"===d){V||null==T||T(e);return}"hover"===d?V||(e?(null!==K.current&&(window.clearTimeout(K.current),K.current=null),j?N(!0):U.current=window.setTimeout(()=>{N(!0),U.current=null},m)):(null!==U.current&&(window.clearTimeout(U.current),U.current=null),K.current=window.setTimeout(()=>{N(!1),K.current=null},S))):V||N(e),null==T||T(e)},delayDuration:m,children:[(0,s.jsx)(i.xz,{ref:Q,asChild:!0,onClick:"click"===d?e=>{"click"===d&&H(!O)}:void 0,onContextMenu:"contextMenu"===d?e=>{"contextMenu"===d&&(e.preventDefault(),e.stopPropagation(),H(!O))}:void 0,onFocus:e=>{if(M&&"hover"===d){e.preventDefault(),e.stopPropagation();return}"focus"===d&&H(!0)},onBlur:()=>{"focus"===d&&H(!1)},"data-state":O?"open":"closed","data-trigger-type":d,"data-disable-focus":!!M&&"hover"===d||void 0,children:ee},`trigger${d}`),(0,s.jsx)(u,{getPopupContainer:x||en,children:(0,s.jsx)(i.VY,{ref:Y,side:F,align:$,collisionBoundary:Array.isArray(v)?v:[v].filter(Boolean),sideOffset:G,onPointerDownOutside:e=>{if(!A||!O||!O||"click"!==d&&"contextMenu"!==d)return;let t=e.target,n=X.current,l=q.current;n&&!n.contains(t)&&l&&!l.contains(t)&&(H(!1),null==A||A(e))},alignOffset:B,avoidCollisions:D,sticky:f,updatePositionStrategy:"optimized",collisionPadding:J,className:h?y:(0,r.cn)(k,`
                        flex max-h-[var(--radix-tooltip-content-available-height)] max-w-[320px]
                        origin-[var(--radix-tooltip-content-transform-origin)] items-center
                        justify-items-center rounded-dbx-sm bg-dbx-static-black px-6 py-3
                        text-[12px] text-dbx-text-static-white-primary will-change-transform
                      `,C&&`
                          animate-in duration-100 ease-out fade-in
                          data-[state=closed]:animate-out data-[state=closed]:duration-100
                          data-[state=closed]:fade-out
                        `,y),style:{..._,zIndex:w},onClick:e=>{E&&e.stopPropagation(),b&&H(!1)},forceMount:void 0,id:R,children:n},`content${d}`)},`content-wrap${d}`)]},`tooltip-root${d}`)},"custom-tooltip-provider")});c.displayName="Tooltip"},214294:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M10.756 7.299a1.245 1.245 0 1 1 2.488 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 16.9a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},539043:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11M12 6.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2m-1 9v-4a1 1 0 1 1 0-2h1.004c.55 0 .998.446.999.996q.001 1.503-.001 3.004l-.002 2h.5a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2z",clipRule:"evenodd"})}),{}))},268532:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M12.243 2c.39-.39 1.01-.448 1.451-.006l8.054 8.054c.382.382.439 1.01.003 1.445-.266.267-.915.471-1.417-.03l-1.199-1.192-3.2 3.2c-.096.095-.12.253-.12.383l-.442 6.304a.5.5 0 0 1-.149.36l-.569.567a1.005 1.005 0 0 1-1.422.01l-4.584-4.58-4.664 4.664a1 1 0 0 1-1.415 0l-.014-.015a1 1 0 0 1-.001-1.414l4.661-4.67-4.583-4.585a1 1 0 0 1 .002-1.43l.568-.567a.5.5 0 0 1 .358-.15l6.311-.434c.135 0 .306-.012.401-.107l3.201-3.2-1.194-1.199c-.38-.376-.415-1.03-.037-1.408"})}),{}))},62075:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.377 11.625a.57.57 0 0 0 .569-.504c.267-1.592.502-2.41 1.007-2.917s1.319-.74 2.902-1.007a.576.576 0 0 0 .52-.57.57.57 0 0 0-.522-.57c-1.582-.269-2.395-.504-2.9-1.01-.505-.507-.74-1.324-1.007-2.914-.043-.289-.265-.508-.57-.508-.299 0-.524.219-.571.506-.268 1.592-.502 2.409-1.008 2.916-.504.506-1.316.741-2.897 1.01a.57.57 0 0 0-.525.57c0 .31.236.532.521.57 1.585.266 2.397.495 2.902 1 .505.503.74 1.32 1.007 2.926a.58.58 0 0 0 .572.502M4.25 2.125c-1.1 0-2 .9-2 2V9c0 1.1.9 2 2 2H9c1.1 0 2-.9 2-2V4.125c0-1.1-.9-2-2-2zm0 2H9V9H4.25zM13 15c0-1.1.9-2 2-2h4.75c1.1 0 2 .9 2 2v4.75c0 .85-.9 1.75-2 2H15c-1.1-.25-2-.9-2-2zm6.75 0H15v4.75h4.75zm-15.5-2c-1.1 0-2 .9-2 2v4.75c0 1.1.9 2 2 2H9c1.1 0 2-.9 2-2V15c0-1.1-.9-2-2-2zm0 2H9v4.75H4.25z",clipRule:"evenodd"})}),{}))},881314:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",d:"M1 12c0 6.075 4.925 11 11 11s11-4.925 11-11S18.075 1 12 1 1 5.925 1 12m14.795-2.674a.994.994 0 0 1 1.404.01.994.994 0 0 1 .01 1.404q-2.833 2.827-5.66 5.659a1 1 0 0 1-1.418 0q-1.477-1.479-2.956-2.956a.993.993 0 0 1 .01-1.403.99.99 0 0 1 1.403-.012l2.252 2.252z"})}),{}))},376563:function(e,t,n){n.d(t,{Z:function(){return r}}),n(429996);var l=n(339512),i=n(627394),r=(0,l.G)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m1.147 17.969 8.5-14.793c1.032-1.835 3.674-1.835 4.706 0l8.5 14.793c1.013 1.8-.288 4.023-2.353 4.023h-17c-2.065 0-3.366-2.223-2.353-4.023m9.61-9.178a1.245 1.245 0 1 1 2.487 0l-.227 5.227a1.018 1.018 0 0 1-2.034 0zM12 18.392a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4",clipRule:"evenodd"})}),{}))},551450:function(e,t,n){n.d(t,{Gu:function(){return p},FN:function(){return h},pJ:function(){return h}}),n(429996);var l=n(669160),i=n.n(l),r=n(775313),o=n(539043),a=n(881314),s=n(376563),u=n(214294),c=n(627394);function d(e){return[{method:"info",icon:(0,c.jsx)(o.Z,{className:"text-18"})},{method:"success",icon:(0,c.jsx)(a.Z,{className:"text-18"})},{method:"warning",icon:(0,c.jsx)(s.Z,{className:"text-18"})},{method:"error",icon:(0,c.jsx)(u.Z,{className:"text-18"})}].forEach(t=>{let{method:n,icon:l}=t,r=e[n];e[n]=t=>{let n=t;return"string"==typeof t&&(n={content:t}),r.call(e,Object.assign({showClose:!1,icon:l},n,{className:i()("samantha-toast",n.className||"")},{theme:"light"}))}}),e}let h=d(r.x.create({zIndex:5e3})),p={create:e=>d(r.x.create(e))}},126473:function(e,t,n){n.d(t,{Am:function(){return D},Be:function(){return u},E$:function(){return f},F0:function(){return b},H_:function(){return a},I9:function(){return v},J$:function(){return k},JB:function(){return W},LW:function(){return c},NF:function(){return O},Or:function(){return h},Se:function(){return A},UO:function(){return i},UY:function(){return E},VI:function(){return Z},VO:function(){return V},VT:function(){return j},Wv:function(){return x},Ze:function(){return p},_N:function(){return P},aP:function(){return I},dB:function(){return N},dC:function(){return s},hB:function(){return R},i4:function(){return L},io:function(){return F},jv:function(){return M},lm:function(){return r},n1:function(){return T},xW:function(){return d},z$:function(){return K}});var l=n(993047);let i=e=>{var t;return(null===(t=(e||"").match(/(.+)\.[^.]+$/))||void 0===t?void 0:t[1].toLowerCase().trim())||""},r=e=>{var t;return(null===(t=(e||"").match(/\.([^.]+)$/))||void 0===t?void 0:t[1].toLowerCase().trim())||""},o=e=>t=>e.includes(t),a=o(["txt"]),s=o(["csv"]),u=o(["xlsx","xls","xlsm"]),c=["pdf","txt","csv","docx","doc","xlsx","xls","pptx","ppt","md","mobi","epub"],d=["png","jpeg","jpg","csv","pdf","txt","xls","xlsx","ppt","pptx","doc","docx","json","log","md","ini","cfg","yaml","sql","java","py","cpp","cs","php","js","css","scss","less","jsx","ts","bat","sh","yml","asp","aspx","jsp","cgi","pl","rb","lua","ps1","conf","gitignore","htaccess","dat","tab","tex","html","h","go","tsx","c","py3","cxx","cc","mobi","epub"],h=o(["xbm","tif","pjp","svgz","jpg","jpeg","ico","tiff","gif","svg","jfif","webp","png","bmp","pjpeg","avif","heic","dng","arw","nef","ar2","ar3"]),p=o(["pdf"]),f=o(["ppt","pptx","pps","ppsx","pot"]),v=o(["doc","docx","dot","dotx"]),g=o(["md","markdown"]),m=o(["epub"]),S=o(["mobi"]),_=["makefile","gemfile","build.gradle"],y=["py","java","js","ts","c","cpp","h","hpp","cc","cxx","html","css","php","rb","pl","sh","bash","swift","kt","kts","ktm","go","dart","scala","cs","aspx","xaml","vue","mod","proto","tsx","jsx","rs","json","yaml","yml","xml","env","config","properties","ini","toml","plist","md","markdown","adoc","feature","sum","bat","cmd","psl","vbs","lua","vmx","vbox","dockerfile","wxml","wxss","m","for","f90","f95","f","xhtml","rdf","tmpl","scss","thrift","rst","meta","gitignore","patch","sql"],k=(e,t)=>y.includes(e)||_.includes(t),w=["mp4","flv","wmv","asf","mkv","avi","rm","rmvb","mpg","mpeg","mov","webm","m4v"],x=o(w),C=["mp3","m4a","wav","ogg","aac","ac3"],b=o(C),E=o(["zip","rar","7z","tar","gz","bz2"]),D=o(["pages"]),M=o(["key","keynote"]),T=o(["numbers"]),A=o(["sketch"]),L=o(["psd","psb"]),W=e=>s(e)?"CSV":p(e)?"PDF":u(e)?"Spreadsheet":h(e)?"Image":f(e)?"PPT":v(e)?"Document":a(e)?"Txt":g(e)?"Markdown":m(e)?"Epub":S(e)?"Mobi":x(e)?"Video":b(e)?"Audio":"File",I=e=>({CSV:"CSV",PDF:"PDF",Spreadsheet:"Excel",Image:"Image",PPT:"PPT",Document:"Word",Txt:"txt",File:"File",Mobi:"Mobi",Epub:"Epub",Markdown:"Markdown",Video:"Video",Audio:"Audio"})[e];function R(e){return h(r(e))}function P(e){return x(r(e))}function j(e){return b(r(e))}function N(e){return[s,u].some(t=>t(r(e)))}let Z=e=>{var t;let n=e.split(","),l=null===(t=n[0].match(/:(.*?);/))||void 0===t?void 0:t[1],i=window.atob(n[1]),r=i.length,o=new Uint8Array(r);for(;r--;)o[r]=i.charCodeAt(r);return new File([o],"temp",{type:l})},V=e=>{var t;return!!e&&e instanceof Blob&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("image"))},O=async e=>{var t;let{fileTypeFromBlob:i}=await (0,l.C5)(()=>n.e("16875").then(n.bind(n,573765)));return null===(t=await i(e))||void 0===t?void 0:t.ext},K=e=>e&&e instanceof Blob?w.includes(r(e.name).toLowerCase()):"string"==typeof e?w.includes(r(e).toLowerCase()):void 0,F=e=>e&&e instanceof Blob?C.includes(r(e.name).toLowerCase()):"string"==typeof e?C.includes(r(e).toLowerCase()):void 0},115866:function(e,t,n){var l=n(429996);t.Z=function(e){let t=(0,l.useRef)();return t.current=(0,l.useMemo)(()=>e,[e]),(0,l.useCallback)(function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];let i=t.current;return null==i?void 0:i(...n)},[t])}},350685:function(e,t,n){n.d(t,{s:function(){return c},y:function(){return u}});var l=n(568120),i=n(429996),r=n(357672),o=n(444614),a=n(814986),s=n(808414);"undefined"==typeof window||window.ResizeObserver||(window.ResizeObserver=s.do);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ref:t,onlyBothNilIsFirstScreen:n=!0,onResize:a,box:s,syncUpdate:u=!0}=e,c=(0,i.useRef)(null),d=null!=t?t:c,[h,p]=(0,i.useState)(),[f,v]=(0,i.useState)();(0,i.useLayoutEffect)(()=>{g()},[]),(0,i.useLayoutEffect)(()=>{(0,o.Z)(h)||(0,o.Z)(f)||null==a||a({width:h,height:f})},[h,f]);let g=()=>{if(d.current){let{width:e,height:t}=d.current.getBoundingClientRect();p(e),v(t)}else p(void 0),v(void 0)},{width:m,height:S}=(0,r.Z)({ref:d,box:s,onResize:e=>{null==a||a(e);let{width:t,height:n}=e;u?(0,l.flushSync)(()=>{p(null!=t?t:0),v(null!=n?n:0)}):(p(null!=t?t:0),v(null!=n?n:0))}});(0,i.useLayoutEffect)(()=>{p(void 0)},[m]),(0,i.useLayoutEffect)(()=>{v(void 0)},[S]);let _=n&&(0,o.Z)(m)&&(0,o.Z)(S),y=_?void 0:null!=m?m:0,k=_?void 0:null!=S?S:0;return{ref:d,width:null!=h?h:y,height:null!=f?f:k,refresh:g}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{ref:t,onResize:n}=e,l=(0,i.useRef)(null),o=null!=t?t:l,{width:s,height:u}=(0,r.Z)({ref:o,onResize:n});return{ref:o,width:s,height:u,refresh:a.Z}}},811208:function(e,t,n){n.d(t,{G:function(){return r}});var l=n(118200),i=n(477041);let r=e=>t=>{let n=(0,l.Z)(t,e);return(0,i.Z)(n)?n:""}},947020:function(e,t,n){n.d(t,{gz:function(){return d},wq:function(){return u},zq:function(){return r}});let l=/^https?:\/\/(www\.)?github\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,i=/^git@github\.com:[a-zA-Z0-9_-]+\/[a-zA-Z0-9_.-]+\.git$/,r=e=>l.test(e)||i.test(e),o=/^https?:\/\/(www\.)?gitee\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,a=/^https?:\/\/(www\.)?gitcode\.net\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,s=/^https?:\/\/(www\.)?gitlink\.org\.cn\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,u=e=>o.test(e)||a.test(e)||s.test(e),c=/^git@[\w\.\-]+:[\w\-]+(\/[\w\-\.]+)?(\.git)?$/,d=e=>c.test(e)&&!i.test(e)},986118:function(e,t,n){n.d(t,{p:function(){return r}});var l=n(551450),i=n(375292);let r=()=>{let{toastConfig:e,getPopupContainer:t}=(0,i.R)({optionalProvider:!0});return e||{success:(e,n)=>l.FN.success({...n,content:e,showClose:!1,getPopupContainer:t}),error:(e,n)=>l.FN.error({...n,content:e,showClose:!1,getPopupContainer:t}),info:(e,n)=>l.FN.info({...n,content:e,showClose:!1,getPopupContainer:t}),warning:(e,n)=>l.FN.warning({...n,content:e,showClose:!1,getPopupContainer:t})}}},685955:function(e,t,n){n.d(t,{N:function(){return i},V:function(){return l}});let l=e=>{var t;return!!e&&e instanceof Blob&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("image"))},i=e=>({is_quote:+!!e,quote_type:e?"attachment"===e.type?"file":"url":void 0,collection_id:(null==e?void 0:e.type)==="attachment"?null==e?void 0:e.fileKey:(null==e?void 0:e.type)==="link"?null==e?void 0:e.link:void 0})},276971:function(e,t,n){n.d(t,{V:function(){return s},y:function(){return u}});var l=n(429996),i=n(444614),r=n(350685),o=n(375292);let a=(e,t)=>(0,i.Z)(e)?"lg":e<=t.sm?"sm":e<=t.md?"md":"lg",s={sm:599,md:899},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,[t,n]=(0,l.useState)(),i=(0,l.useRef)(null),{getRootContainer:u}=(0,o.R)({optionalProvider:!0});if(i.current||(i.current=(null==u?void 0:u())||("undefined"!=typeof window?document.getElementById("root"):null)),(0,r.y)({ref:i,onResize:t=>{let{width:l}=t;n(a(l,e))}}),void 0===t){var c;return a(null===(c=i.current)||void 0===c?void 0:c.getBoundingClientRect().width,e)}return t}},633126:function(e,t,n){n.d(t,{T:function(){return o},o:function(){return a}});var l=n(118200),i=n(51679),r=n(698570);let o=(0,n(919636).n)(()=>{let e="undefined"!=typeof window?(0,l.Z)(window,"guestLayoutModePromise"):void 0;return e?e.catch(()=>i.mH.GetSetting({})):i.mH.GetSetting({})}),a=function(){var e,t;let{cacheKey:n="fetch_user_setting"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:l,loading:i}=(0,r.Z)(()=>o().then(e=>e.data),{cacheKey:n}),a=null!==(t=null==l?void 0:null===(e=l.ai_reader)||void 0===e?void 0:e.enable_ult)&&void 0!==t&&t;return{data:l,loading:i,enableUltraLongText:a}}},689337:function(e,t,n){n.d(t,{HL:function(){return d},Nu:function(){return a},ci:function(){return h},lx:function(){return u}});var l=n(377940),i=n(669384),r=n(636674);let o={[r.SkillType.ReadAndSummarize]:l.r4.SKILL_NAME_READ_SUMMARIZE,[i.W.SkillWrite]:l.r4.SKILL_NAME_WRITING_ASSISTANT,[i.W.SkillImageGen]:l.r4.SKILL_NAME_IMAGES_GENERATION,[i.W.SkillSearch]:l.r4.SKILL_NAME_SEARCH,[i.W.SkillDeepSearch]:l.r4.SKILL_NAME_DEEP_SEARCH,[i.W.SkillTranslate]:l.r4.SKILL_NAME_TRANSLATE,[i.W.SkillRead]:l.r4.SKILL_NAME_READ_PDF,[i.W.SkillWebpage]:l.r4.SKILL_NAME_READ_WEBPAGE,[i.W.SkillMusicGen]:l.r4.SKILL_NAME_MUSIC_GENERATION,[r.SkillType.AcademicSearch]:l.r4.SKILL_NAME_ACADEMIC_SEARCH,[r.SkillType.CodeInterpreter]:l.r4.SKILL_NAME_CODE_INTERPRETER,[i.W.SkillFreeChat]:null,[i.W.SkillEdu]:l.r4.SKILL_NAME_EXERCISE_ASSISTANT,[r.SkillType.ReadMultiWebsites]:l.r4.SKILL_NAME_READ_MULTIPLE_URL,[r.SkillType.CodeAssistant]:l.r4.SKILL_NAME_CODING,[r.SkillType.ReferenceAsk]:l.r4.SKILL_NAME_REFERENCE_ACK,[r.SkillType.VoiceCall]:l.r4.SKILL_NAME_VOICE_CALL,[r.SkillType.VideoGeneration]:l.r4.SKILL_NAME_VIDEO_GENERATION,[r.SkillType.AiPPT]:l.r4.SKILL_NAME_AI_PPT,[i.W.SkillDeepResearch]:l.r4.SKILL_NAME_DEEP_RESEARCH,[r.SkillType.SkillAiPodcast]:l.r4.SKILL_NAME_PODCAST,[r.SkillType.CustomSkill]:l.r4.SKILL_CUSTOM_SKILL,[r.SkillType.UGCBot]:null,[r.SkillType.AiReadWebsite]:null,[r.SkillType.LocalModelQA]:null,[r.SkillType.AISpace]:null,[i.W.DesExtChatSkillPlaceholder]:null,[i.W.DesExtSkillTranslate]:null,[i.W.DesExtSkillSummaryHighlight]:null,[i.W.DesExtSkillExplain]:null,[i.W.DesExtSkillDesExtSearchCard]:null,[i.W.DesExtSkillLinkPreview]:null,[i.W.DesExtSkillDesExtSuggest]:null,[i.W.DesExtSkillVideoSummary]:null,[i.W.DesExtSkillOneLevelVideoSummary]:null,[i.W.DesExtSkillRewriteWithTone]:null,[i.W.DesExtSkillCustomSkill]:null,[i.W.DesExtSkillSearchMindNote]:null,[i.W.DesExtSkillTextToMindNote]:null,[i.W.DesExtSkillBilingualSentence]:null,[i.W.DesExtSkillAITitle]:null,[i.W.DesExtPodcastTranscript]:null,[i.W.DesExtSkillWebsiteDetail]:null,[i.W.DesExtSkillSummary]:null,[i.W.DesExtSkillAIToolSummary]:null,[i.W.DesExtSkillMindMap]:null,[i.W.DesExtSkillSimplifiedRead]:null,[i.W.DesExtSkillGrammar]:null,[i.W.DesExtSkillReply]:null,[r.SkillType.DesExtSkillMeetingSummary]:l.r4.SKILL_NAME_MEETING_RECORD,[i.W.SkillTypeMediaUnderstandingByAsr]:null,[i.W.SkillSearchEngine]:null,[i.W.DesExtSkillVideoListSummary]:null,[i.W.DesExtSkillCommentAnalyze]:null,[i.W.DesExtSkillVideoDeepAnalyze]:null,[i.W.DesExtSkillTopicTrendAnalyze]:null,[i.W.DesExtSkillPageTranslate]:null,[i.W.DesExtSkillSharedAppAssistant]:l.r4.SKILL_SHARED_APP_ASSISTANT,[i.W.DesExtSkillGrammarCorrection]:null,[i.W.DesExtSkillPodcastReading]:null,[i.W.DesExtSkillEncyclopedia]:null,[i.W.DesExtSkillMindMapGenerate]:null,[i.W.SkillUserCustomSkill]:null,[i.W.DesExtSkillSuperTask]:l.r4.SKILL_NAME_SUPER_TASK},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return o[e||i.W.SkillFreeChat]},s={[r.SkillType.ReadAndSummarize]:"chat_action_bar_read_summarize",[i.W.SkillWrite]:"chat_action_bar_compose",[i.W.SkillImageGen]:"chat_action_bar_image_creation",[i.W.SkillSearch]:"chat_action_bar_search",[i.W.SkillDeepSearch]:"chat_action_bar_deep_search",[i.W.SkillTranslate]:"chat_action_bar_translate",[i.W.SkillRead]:"chat_action_bar_read_pdf",[i.W.SkillWebpage]:"chat_action_bar_read_url",[i.W.SkillMusicGen]:"chat_action_bar_music_creation",[r.SkillType.AcademicSearch]:"chat_action_bar_academic_search",[r.SkillType.CodeInterpreter]:"chat_action_bar_code_interpreter",[r.SkillType.ExerciseAssistant]:"chat_action_bar_exercise_assistant",[i.W.SkillFreeChat]:"",[r.SkillType.ReadMultiWebsites]:"",[r.SkillType.CodeAssistant]:"chat_action_bar_coding",[r.SkillType.VoiceCall]:"",[r.SkillType.VideoGeneration]:"chat_action_bar_video_creation",[r.SkillType.AiPPT]:"chat_action_bar_video_creation",[r.SkillType.UGCBot]:"",[r.SkillType.AiReadWebsite]:"",[r.SkillType.LocalModelQA]:"",[r.SkillType.AISpace]:"",[r.SkillType.SkillAiPodcast]:"",[r.SkillType.CustomSkill]:"",[i.W.DesExtChatSkillPlaceholder]:"",[i.W.DesExtSkillTranslate]:"",[i.W.DesExtSkillSummaryHighlight]:"",[i.W.DesExtSkillExplain]:"",[i.W.DesExtSkillDesExtSearchCard]:"",[i.W.DesExtSkillLinkPreview]:"",[i.W.DesExtSkillDesExtSuggest]:"",[i.W.DesExtSkillVideoSummary]:"",[i.W.DesExtSkillOneLevelVideoSummary]:"",[i.W.DesExtSkillRewriteWithTone]:"",[i.W.DesExtSkillCustomSkill]:"",[i.W.DesExtSkillSearchMindNote]:"",[i.W.DesExtSkillTextToMindNote]:"",[i.W.DesExtSkillBilingualSentence]:"",[i.W.DesExtSkillAITitle]:"",[i.W.DesExtPodcastTranscript]:"",[i.W.DesExtSkillWebsiteDetail]:"",[i.W.DesExtSkillSummary]:"",[i.W.DesExtSkillAIToolSummary]:"",[i.W.DesExtSkillReferenceAsk]:"",[i.W.DesExtSkillMindMap]:"",[i.W.DesExtSkillSimplifiedRead]:"",[i.W.DesExtSkillGrammar]:"",[i.W.DesExtSkillReply]:"",[r.SkillType.DesExtSkillMeetingSummary]:"",[i.W.SkillTypeMediaUnderstandingByAsr]:"",[i.W.SkillSearchEngine]:"",[i.W.DesExtSkillVideoListSummary]:"",[i.W.DesExtSkillCommentAnalyze]:"",[i.W.DesExtSkillVideoDeepAnalyze]:"",[i.W.DesExtSkillTopicTrendAnalyze]:"",[i.W.DesExtSkillPageTranslate]:"",[i.W.SkillDeepResearch]:"",[i.W.DesExtSkillSharedAppAssistant]:"",[i.W.DesExtSkillGrammarCorrection]:"",[i.W.DesExtSkillPodcastReading]:"",[i.W.DesExtSkillSuperTask]:"",[i.W.DesExtSkillEncyclopedia]:"",[i.W.DesExtSkillMindMapGenerate]:""},u=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=s[t])&&void 0!==e?e:s[i.W.SkillFreeChat]},c={[i.W.SkillWrite]:"writing_preview",[i.W.SkillImageGen]:"image_preview",[i.W.SkillFreeChat]:"",[r.SkillType.CodeInterpreter]:"ci_preview"},d=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.W.SkillFreeChat;return null!==(e=c[t||i.W.SkillFreeChat])&&void 0!==e?e:c[i.W.SkillFreeChat]},h=e=>void 0===e?"generic":e.toString()},919636:function(e,t,n){n.d(t,{n:function(){return l}});let l=function(e){let{delay:t=1e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return async function(){for(var l=arguments.length,i=Array(l),r=0;r<l;r++)i[r]=arguments[r];n||(n=e(...i).catch(e=>{throw n=null,e}));let o=await n;return setTimeout(()=>{n=null},t),o}}},46793:function(e,t,n){n.d(t,{JW:function(){return r},ae:function(){return a},mC:function(){return c},tN:function(){return s}});var l=n(93708);let i=e=>e.currentChatViewConfig,r=()=>(0,l.sQ)("chatViewCoreStore",i),o=e=>{var t;return null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId},a=()=>(0,l.sQ)("chatViewCoreStore",o),s=()=>o((0,l.GX)("chatViewCoreStore")),u=e=>{var t;return null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatType},c=()=>(0,l.sQ)("chatViewCoreStore",u)},308691:function(e,t,n){n.d(t,{CU:function(){return r},Es:function(){return o},ai:function(){return s},j$:function(){return a}});var l=n(354187),i=n(93708);let r=()=>(0,i.sQ)("chatGuidanceStore",e=>e.activeSkillIdentifier),o=()=>void 0!==r(),a=()=>(0,i.sQ)("chatGuidanceStore",e=>e.onboardingSkills,l.X),s=()=>(0,i.sQ)("chatGuidanceStore",e=>e.skillConfig,l.X)},851510:function(e,t,n){n.d(t,{Bx:function(){return c},CR:function(){return u},Ln:function(){return d},Or:function(){return i},Q1:function(){return a},_c:function(){return p},u$:function(){return o},zE:function(){return r},zj:function(){return s}});var l=n(107481);let i=e=>"image"===e.type,r=e=>"file"===e.type,o=e=>"link"===e.type,a=e=>"remote"===e.type,s=e=>"directory"===e.type,u=e=>e===l.O.Normal,c=e=>e===l.O.Retry,d=e=>e===l.O.Uploading,h=e=>!e.disableRef,p=e=>e.filter(h)},317085:function(e,t,n){n.d(t,{z:function(){return a}});var l=n(429996),i=n(923362),r=n(87144),o=n(156217);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{autoRefresh:n=!0}=e,a=(0,o.GL)("chatTeaService"),s=(0,o.GL)("chatConfigService"),[u=e.defaultValue,c]=(0,i.Z)(`libra_setting_${e.key}`,{defaultValue:e.defaultValue}),d=(0,l.useCallback)(async()=>{c(await (0,r.gN)({key:e.key,defaultValue:null==e?void 0:e.defaultValue,featureGatingKey:null==e?void 0:e.featureGatingKey,chatTeaService:a,chatConfigService:s}))},[e.key,e.defaultValue]);return(0,l.useEffect)(()=>{d()},t),(0,l.useEffect)(()=>{if(n)return a.onAbComplete(d)},[n]),u}},87144:function(e,t,n){n.d(t,{Od:function(){return s},XI:function(){return a},gN:function(){return u}});var l=n(444614),i=n(644367);function r(e,t,n){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o="ab-complete";class a{trackEvent(){for(var e,t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];let[i,r,o,a]=n,s={...r,...null===(e=this._teaCommonParams)||void 0===e?void 0:e.call(this,i,r)};this._tracker(i,s,o,a)}async getTeaVar(e,t){if(this.preRequestAbTest)try{var n,l,r,o,a;let t=await this.preRequestAbTest;if(!t||0!==t.code)throw Error(JSON.stringify(t));if(e in((null==t?void 0:null===(l=t.data)||void 0===l?void 0:null===(n=l.ab_config)||void 0===n?void 0:n.ab_results)||{}))return null==t?void 0:null===(a=t.data)||void 0===a?void 0:null===(o=a.ab_config)||void 0===o?void 0:null===(r=o.ab_results)||void 0===r?void 0:r[e]}catch(e){i.k.console.error({error:e})}return await this._getTeaVar(e,t)}_getTeaVar(e,t){if(this.tea)return new Promise((n,l)=>{try{var i;null===(i=this.tea)||void 0===i||i.getVar(e,t,e=>{n(e)})}catch(e){l(e)}})}onAbComplete(e){var t;return null===(t=this.tea)||void 0===t||t.on(o,e),()=>{var t;return null===(t=this.tea)||void 0===t?void 0:t.off(o,e)}}constructor(e,t,n,l){this.tea=t,this.preRequestAbTest=n,this._teaCommonParams=l,r(this,"ctx",void 0),r(this,"_tracker",void 0),this._tracker=e}}let s=e=>new a(e.tracker,null==e?void 0:e.tea,null==e?void 0:e.preRequestAbTest),u=async e=>{let{chatTeaService:t,chatConfigService:n}=e;return e.featureGatingKey&&e.featureGatingKey in n.featureGating&&!(0,l.Z)(n.featureGating[e.featureGatingKey])?n.featureGating[e.featureGatingKey]:await t.getTeaVar(e.key,null==e?void 0:e.defaultValue)}},107481:function(e,t,n){n.d(t,{O:function(){return l}});var l={Uploading:"Uploading",Retry:"Retry",Normal:"Normal"}},107599:function(e,t,n){n.d(t,{Iy:function(){return f},U$:function(){return v},W2:function(){return m},dB:function(){return k},fT:function(){return S},jw:function(){return h},rD:function(){return y},sX:function(){return p},vf:function(){return _}});var l=n(429996),i=n(344482),r=n(474227),o=n(67864),a=n(468494),s=n(322639),u=n(234761),c=n(279349),d=n(976927);let h=(e,t)=>(0,a.useFeedStore)(n=>(0,s.Xo)((0,u.jo)(n,e),t)),p=e=>(0,a.useFeedStore)(t=>(0,u.jo)(t,e),i.X),f=()=>(0,a.useFeedStore)(u.kB,i.X),v=()=>(0,a.useFeedStore)(e=>e.samanthaBot),g=()=>(0,a.useFeedStore)(u.aG,i.X),m=()=>{let{conversationLinks:e,botConversationIndex:t,...n}=g();return{...n,threadLinks:(0,c.yx)({conversationLinks:e,botConversationIndex:t})}},S=()=>(0,a.useFeedStore)(u.N$,i.X),_=e=>(0,a.useFeedStore)(t=>(0,u.dg)(t,e),i.X),y=e=>{let{setActiveConversation:t}=a.useFeedStore.getState();(0,l.useEffect)(()=>{t(e)},[e])},k=(e,t)=>{let n=d.feedServiceContainer.get("chatBotService");return(0,a.useFeedStore)(l=>{var i;let{bot_id:r=""}=null!==(i=(0,u.jo)(l,e))&&void 0!==i?i:{};t===o.z.Bot&&(r=e);let{bot_conf:a}=(null==n?void 0:n.getBot(r))||{};return a},r.Z)}},380815:function(e,t,n){n.d(t,{DG:function(){return a},Kk:function(){return r},LW:function(){return s},YE:function(){return u},jQ:function(){return i},sV:function(){return o},xR:function(){return l}});let l=e=>(null==e?void 0:e.type)==="attachment"||(null==e?void 0:e.type)==="file",i=e=>(null==e?void 0:e.type)==="image",r=e=>(null==e?void 0:e.type)==="directory",o=e=>(null==e?void 0:e.type)==="link",a=e=>(null==e?void 0:e.type)==="text";function s(e){return!!e&&["7400765672814379027","7411132181101838390","7264586389273018423"].includes(e)}let u=e=>{var t;return!!(e.operation&&"regenerate"in e.operation&&(null===(t=e.operation)||void 0===t?void 0:t.regenerate))}},736026:function(e,t,n){n.d(t,{y:function(){return s}});var l=n(429996),i=n(93708),r=n(708481),o=n(62075),a=n(627394);let s=e=>{let{skill_type:t,colorful:n=!1,...s}=e,[u,c]=(0,l.useState)({});(0,l.useEffect)(()=>{let e;try{e=(0,i.Wp)("skillStore").subscribe(e=>e.skillMap,e=>{c(e)},{fireImmediately:!0})}catch{}return()=>{null==e||e()}},[]);let d=t?u[t]:void 0,{plugin:h}=(0,r.sU)(t),p=!!n&&(null==d?void 0:d.ColorfulIcon)||!!n&&(null==h?void 0:h.ColorfulIcon)||(null==d?void 0:d.DBXIcon)||(null==h?void 0:h.icon)||o.Z;return(0,a.jsx)(p,{...s})}},920485:function(e,t,n){n.d(t,{f:function(){return K},c:function(){return F}});var l=n(429996),i=n(145625),r=n(15348),o=n(93708),a=n(46793),s=n(107599),u=n(689337),c=n(475879),d=n(17135),h=n(393648),p=n(115866),f=n(644367),v=n(22714),g=n(743741),m=n(162063),S=n(669160),_=n.n(S),y=n(708481),k=n(276971),w=n(432626),x=n(295011),C=n.n(x),b=n(771982);let E={PREFIX:`${b.T}-highlight`};var D=n(156287);let M=E.PREFIX;class T extends l.PureComponent{render(){let{searchWords:e,sourceString:t,component:n,highlightClassName:l,highlightStyle:i,caseSensitive:r,autoEscape:o}=this.props,a=_()({[`${M}-tag`]:!0},l);return(0,D.J2)({sourceString:t,searchWords:e,option:{highlightTag:n,highlightClassName:a,highlightStyle:i,caseSensitive:r,autoEscape:o}})}}T.propTypes={style:C().object,className:C().string,autoEscape:C().bool,caseSensitive:C().bool,sourceString:C().string,searchWords:C().arrayOf(C().string),highlightStyle:C().object,highlightClassName:C().string,component:C().string},T.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var A=n(704006),L=n(268532),W=n(736026),I=n(877384),R=n(627394);let P=e=>{let{skill:t,isSelected:n,onClick:i,onShow:r,keydownDirection:o,"data-testid":a}=e,{ref:s,inView:u}=(0,g.YD)({initialInView:!1,threshold:1}),c=(0,l.useRef)(null),d=(0,l.useCallback)(e=>{c.current=e,s(e)},[s]);return(0,l.useEffect)(()=>{if(n&&!u){var e,t,l,i;"ArrowDown"===o?null==c||null===(t=c.current)||void 0===t||null===(e=t.scrollIntoView)||void 0===e||e.call(t,{block:"end",inline:"nearest",behavior:"smooth"}):"ArrowUp"===o&&(null==c||null===(i=c.current)||void 0===i||null===(l=i.scrollIntoView)||void 0===l||l.call(i,{block:"start",inline:"nearest",behavior:"smooth"}))}},[n]),(0,l.useEffect)(()=>{u&&(null==r||r())},[u]),(0,R.jsx)("div",{ref:d,className:_()("skill-item-Yt_Ld2",{"skill-item-selected-VYAEyH":n}),"data-testid":a,onClick:()=>null==i?void 0:i(),children:e.children},t.skill_type)},j=e=>{let{skill:t,keyword:n,isNarrowMode:l}=e;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(W.y,{skill_type:t.skill_type,className:"skill-item-icon-DHTLdA"}),(0,R.jsx)("div",{className:"skill-item-name-v3qPmS",children:(0,R.jsx)(T,{sourceString:(l?t.show_name_short:t.show_name)||t.show_name,searchWords:n?[n]:[],highlightStyle:{color:"var(--s-color-text-primary, #000)",background:"transparent"}})}),(0,R.jsx)("div",{className:"skill-item-desc-nzeZGG",children:(0,R.jsx)(T,{sourceString:t.description,searchWords:n?[n]:[],highlightStyle:{fontWeight:"400",color:"var(--s-color-text-tertiary, rgba(0, 0, 0, 0.4))",background:"transparent"}})}),t.sticky&&(0,R.jsx)(L.Z,{className:"p-2 !text-16 text-s-color-accents-blue"})]})},N=e=>{let{plugin:t}=(0,y.sU)(e.skill.skill_type),n=(0,R.jsx)(j,{...e}),i=(0,R.jsx)(P,{...e,onClick:()=>{var t;null===(t=e.onClick)||void 0===t||t.call(e,{})},children:n}),r=(null==t?void 0:t.Component)||(null==t?void 0:t.LiteComponent);return r?(0,R.jsx)(l.Suspense,{fallback:i,children:(0,R.jsx)(r,{skill:e.skill,from:e.from,onClick:e.pluginOnClick,renderContent:t=>{let{onClick:l,keepMorePopover:i}=t;return(0,R.jsx)(P,{...e,onClick:()=>{var t;null===(t=e.onClick)||void 0===t||t.call(e,{keepMorePopover:i,onlyReportEvent:!0}),null==l||l()},children:n})}})}):i},Z=e=>{var t;let{width:n,from:o="more_skills",onSelectSkill:s,initialFocusRef:c,scene:h,trackParams:p,bottomSlot:f}=e,v=(0,I.b6)(),g="sm"===(0,k.y)(),S=(0,w.g1)(),y=(0,a.mC)(),[x,C]=(0,l.useState)(""),b=(0,l.useRef)(""),E=(0,l.useRef)(!0),D=(0,l.useRef)(!1),M=(0,l.useRef)(!1),[T,L]=(0,l.useState)(""),W=(0,l.useMemo)(()=>{var e;return null!==(e=null==v?void 0:v.filter(e=>{var t,n;if(!x)return!0;let l=g?e.show_name_short:e.show_name,{description:i}=e;return(null==l?void 0:null===(t=l.toLocaleLowerCase())||void 0===t?void 0:t.includes(x.toLocaleLowerCase()))||(null==i?void 0:null===(n=i.toLocaleLowerCase())||void 0===n?void 0:n.includes(x.toLocaleLowerCase()))}))&&void 0!==e?e:[]},[v,x,g]),[P,j]=(0,l.useState)("skills_menu"===h?0:-1),Z=(0,l.useRef)(null);(0,l.useEffect)(()=>((0,r.D)("chatInputStoreService").then(e=>{null==e||e.updateSkillDropDownVisible(h)}),()=>{(0,r.D)("chatInputStoreService").then(e=>{null==e||e.updateSkillDropDownVisible(void 0)})}),[]);let V=(0,l.useRef)({}),O=(e,t,n)=>{e&&!V.current[e]&&(V.current[e]=!0,(0,d.trackEvent)("chat_action_bar_show",{show_scene:"keyboard_at",show_position:"keyboard_at",position:t,...p,skill_name:(0,u.Nu)(e),is_top:n?"1":"0",skill_id:e.toString()}))},K=(0,l.useMemo)(()=>(0,m.Z)(()=>(0,d.trackEvent)("input_bar_enter",{click_scene:"skills_search_bar",chat_type:y,...p}),1e3,{leading:!0,trailing:!1}),[p]);return(0,R.jsxs)("div",{className:"more-skills-content-container-utq532",style:{width:`${n}px`},onClick:()=>{var e;return null==c?void 0:null===(e=c.current)||void 0===e?void 0:e.focus()},"data-testid":"chat_input_more_skill_menu",children:[(0,R.jsx)("div",{className:"more-skill-input-w2yZJ_",children:(0,R.jsx)(A.Z,{onFocus:K,onChange:e=>{b.current=e,""!==b.current&&(E.current=!1),!D.current&&(C(e),j(0))},onCompositionStart:()=>D.current=!0,onCompositionEnd:e=>(D.current=!1,C(e.currentTarget.value)),onKeyDown:e=>{"Enter"===e.key&&(M.current=D.current)},onKeyUp:e=>{switch(e.key){case"ArrowDown":L("ArrowDown"),j(e=>(e+1)%(null==W?void 0:W.length));break;case"ArrowUp":L("ArrowUp"),j(e=>(e-1+(null==W?void 0:W.length))%(null==W?void 0:W.length));break;case"Enter":if(!D.current&&P>-1&&(null==W?void 0:W[P])){var t;let e=null===(t=Z.current)||void 0===t?void 0:t.children[P];(null==e?void 0:e.tagName.toLowerCase())==="div"&&e.click()}break;case"Escape":case"Tab":null==s||s();break;case"Backspace":if(E.current&&""===b.current){null==s||s();return}""===b.current&&(E.current=!0)}},ref:c,placeholder:S("search_skills_input_placeholder"),borderless:!0})}),(0,R.jsx)("div",{className:"py-8",children:(0,R.jsxs)("div",{ref:Z,className:_()("skill-item-list-l5xNxP","flow-scrollbar"),"data-testid":"chat_footer_skill_bar",children:[(null==W?void 0:W.length)?null==W?void 0:null===(t=W.map)||void 0===t?void 0:t.call(W,(e,t)=>{var n;return(null==e?void 0:e.skill_type)?(0,R.jsx)(N,{skill:e,isSelected:t===P,keyword:x,isNarrowMode:g,keydownDirection:T,from:o,pluginOnClick:()=>null==s?void 0:s(e.skill_type,i.u.KeyboardAt,{skipReport:!0},t,e.sticky),onClick:n=>null==s?void 0:s(e.skill_type,i.u.KeyboardAt,n,t,e.sticky),onShow:()=>O(e.skill_type,t,e.sticky),"data-testid":`skill_bar_button_${e.skill_type}`},null!==(n=e.skill_type)&&void 0!==n?n:t):null}):(0,R.jsx)("div",{className:`
              flex items-center justify-center bg-s-color-bg-trans-primary p-10
              text-s-color-text-quaternary select-none
            `,children:S("search_skills_empty_info")}),null==f?void 0:f()]})})]})};var V=n(821192);let O=e=>e===i.u.ClickSkill?"bottom_bar":e===i.u.KeyboardAt?"keyboard_at":void 0,K=e=>{let{activeSkillType:t,trackParams:n}=e,l=(0,a.ae)(),{onClickGuestDisabled:i}=(0,V.ri)({source:"unlog_click_skills",checkNewGuidanceAb:!0}),s=(0,p.Z)(function(){let{skillType:e,skillFrom:l,sticky:i,recommendTag:o,showPosition:a,position:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=O(l);e?((0,d.trackEvent)("chat_action_bar_click",{is_recommended:(0,v.M)(o),show_scene:c,show_position:a,position:s,is_top:i?"1":"0",...n,skill_name:(0,u.Nu)(e),skill_id:e.toString()}),(0,r.D)("chatInputStoreService").then(t=>{null==t||t.createSkillReportEvent({skillType:e,eventName:"skill_bar_open_input",meta:{skill_type:e,skill_type_str:(0,u.ci)(e),skill_id:(0,u.ci)(e),recommend_tag:o,click_scene:c,show_position:a,position:s}})})):(f.k.persist.log({eventName:"skill_bar_button_click_close",meta:{skill_type:String(t),is_guest:!(0,h.M7)(),recommend_tag:o,click_scene:c}}),(0,d.trackEvent)("skill_module_close",{show_scene:c,...n,skill_name:(0,u.Nu)(t),skill_id:null==t?void 0:t.toString()}))}),c=(0,p.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!await i())return;let{recommendTag:t,skillType:n,skillFrom:a,skipReport:u=!1}=e;u||s(e),(0,r.D)("chatInputStoreService").then(e=>{null==e||e.updateSelectedRecommendSkill(t?{skill_type:n,tag:t}:void 0)}),n?(0,o.GX)("chatInputStore").updateActiveSkillTypeMap(null!=l?l:"",n,a):(0,o.GX)("chatInputStore").closeSkillPanel(null!=l?l:"")});return{onClickGuestDisabled:i,reportSelectSkill:s,selectSkill:c}},F=e=>{var t;let{selectSkill:n,reportSelectSkill:i,...r}=e,{chatInputRef:o}=(0,c.E)(),{chatId:u,chatType:d}=null!==(t=(0,a.JW)())&&void 0!==t?t:{},[h,p]=(0,l.useState)(!1),f=async function(){for(var e,t,l,i,r,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];p(!1),await n(...s),(null===(t=o.current)||void 0===t?void 0:null===(e=t.getText)||void 0===e?void 0:e.call(t))==="@"&&(null===(r=o.current)||void 0===r||r.clear()),null==o||null===(i=o.current)||void 0===i||null===(l=i.focus)||void 0===l||l.call(i)},v=(0,s.jw)(u||"",d),g=(e,t,n,l,r)=>{(null==n?void 0:n.onlyReportEvent)?i({skillType:e,skillFrom:t,showPosition:"keyboard_at",position:l,sticky:r}):f({skillType:e,skillFrom:t,showPosition:"keyboard_at",position:l,skipReport:null==n?void 0:n.skipReport}),(null==n?void 0:n.keepMorePopover)||p(!1)};return{moreVis:h,setMoreVis:p,enabled:v,popoverProps:{spacing:0,visible:h,onVisibleChange:p,content:e=>{let{initialFocusRef:t}=e;return(0,R.jsx)(Z,{...r,initialFocusRef:t,onSelectSkill:g})},onClickOutSide:()=>f(),onEscKeyDown:()=>f(),trigger:"custom",position:"topLeft",style:{borderRadius:"16px",boxShadow:"0px 30px 100px 0px rgba(0, 0, 0, 0.15)"}}}}},22714:function(e,t,n){n.d(t,{M:function(){return i}});var l=n(120012);let i=e=>{if(void 0!==e)return({[l.ZQ.New]:"new_skill",[l.ZQ.Recommend]:"suggested_skill",[l.ZQ.Upgrade]:"upgrade_skill"})[e]}},877384:function(e,t,n){n.d(t,{b6:function(){return u},mZ:function(){return s},n1:function(){return r},zP:function(){return o}});var l=n(474227),i=n(93708);let r=e=>(0,i.sQ)("chatInputStore",t=>t.activeSkillTypeMap[e]),o=e=>(0,i.sQ)("chatInputStore",t=>{let n=t.activeSkillTypeMap[e],{skillMap:l}=t;return n?null==l?void 0:l[n]:void 0}),a=e=>{var t,n;return null!==(n=null===(t=e.inputSkills)||void 0===t?void 0:t.map(t=>{if(t.skill_type)return{...t,...e.skillMap[t.skill_type]}}).filter(Boolean))&&void 0!==n?n:[]},s=()=>a((0,i.GX)("chatInputStore")),u=()=>(0,i.sQ)("chatInputStore",a,l.Z)},322828:function(e,t,n){n.d(t,{n:function(){return d},pO:function(){return u},vb:function(){return c}});var l=n(429996),i=n(67864),r=n(93708),o=n(107599),a=n(636674),s=n(393648);let u=(e,t)=>{var n,a,s,u;let{launchData:c}=(0,r.sQ)("launcherRawSettingStore"),d=null!==(u=null==c?void 0:null===(a=c.feature_config)||void 0===a?void 0:null===(n=a.enable_send_file_message)||void 0===n?void 0:n.enabled)&&void 0!==u&&u,h=null===(s=(0,o.Iy)())||void 0===s?void 0:s.conversationId,p=(0,o.dB)(t===i.z.NewThread?null!=h?h:"":e,t),f=(0,o.jw)(e,t),v=(0,l.useMemo)(()=>null==p?void 0:p.some(e=>"show_icon"===e.conf_group_key&&"show_file_icon"===e.conf_key&&"1"===e.conf_value),[p]);return!!f||!!v&&!!d},c=(e,t)=>{var n;let r=null===(n=(0,o.Iy)())||void 0===n?void 0:n.conversationId,a=(0,o.dB)(t===i.z.NewThread?null!=r?r:"":e,t),s=(0,o.jw)(e,t),u=(0,l.useMemo)(()=>null==a?void 0:a.some(e=>{let t=e.conf_group_key,n=e.conf_key,l=e.conf_value;return!!("show_icon"===t&&"show_image_icon"===n&&"1"===l||"show_icon"===t&&"show_icon"===n&&["album","camera"].includes(l||""))}),[a]);return!!s||!!u},d=e=>{let{chatId:t,chatType:n,skillType:l,exemptFromCodingReverse:i=!1}=e,u=(0,s.nu)();return(0,o.jw)(t||"",n)&&!l&&u&&((0,r.GX)("chatInputStore").checkSupportSkill(a.SkillType.CodeAssistant)||i&&!0)}},305919:function(e,t,n){n.d(t,{F:function(){return c}});var l=n(210230),i=n(308691),r=n(107599),o=n(795163),a=n(748828),s=n(617317),u=n(636674);let c=function(){let{chatId:e,chatType:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="true",c=(0,o.Tu)(a.a8.newChatInput,{defaultValue:void 0,source:s.d.debugStorage}),d="true"===(c||n),h=(0,r.jw)(e||"",t),p=(0,i.CU)(),f=[u.SkillType.WriteAssistant,u.SkillType.ImageGeneration,u.SkillType.Search,u.SkillType.CodeAssistant].includes(p);return{isNewChatInput:d,isNewChatInputInChat:d&&h&&(!p||f),loading:(0,l.Z)(c)&&(0,l.Z)(n)&&h&&(!p||f)}}},821192:function(e,t,n){n.d(t,{MR:function(){return S},oQ:function(){return g},ri:function(){return m}});var l=n(344482),i=n(210230),r=n(67864),o=n(317085),a=n(15348),s=n(46793),u=n(468494),c=n(107599),d=n(986118),h=n(729813),p=n(432626),f=n(393648),v=n(644367);let g=e=>{let{source:t,eventName:n,meta:l,chatType:i}=e,o=(0,s.mC)(),u=null!=i?i:o,c=(0,d.p)();return{chatGuestLogin:function(){let{toastContent:e,type:i,source:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&c.error(e),(0,f.M7)()||(n&&v.k.persist.info({eventName:n,meta:{...l,type:i}}),h.v.emit("chat.guest.login",{source:o||t,bot:u===r.z.Bot}),(0,a.D)("chatNavigateService").then(e=>null==e?void 0:e.navigateToLoginPage(o||t)))}}},m=e=>{let{checkNewGuidanceAb:t,...n}=e,{chatGuestLogin:l}=g(n),i=(0,o.z)({key:"new_guest_guidance_type",defaultValue:"normal",featureGatingKey:"enableGuestSendSkill"})||"normal";return{onClickGuestDisabled:async function(){let{source:e,checkNewGuidanceAb:r=t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!r&&!!i||(await (0,f.EL)(),!!(0,f.M7)()||(l({source:e||n.source}),!1))}}},S=function(){let{chatId:e,activeSkillType:t,checkNewGuidanceAb:n,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{chatGuestLogin:d}=g(a),h=(0,s.JW)(),v=e||(null==h?void 0:h.chatId),m=a.chatType||(null==h?void 0:h.chatType),[S,_,y,k]=(0,u.useFeedStore)(e=>[e.chatNotReachLimitMap,e.guestReachCreateThreadLimit,e.guestReachSendMessageLimit,e.guestSendMessageLimit],l.X),{threadLinks:w}=(0,c.W2)(),x=(0,o.z)({key:"new_guest_guidance_type",defaultValue:"normal",featureGatingKey:"enableGuestSendSkill"})||"normal";return{onBeforeSendMessage:async function(){let{checkNewGuidanceAb:e=n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(await (0,f.EL)(),!(0,f.M7)()){if(e&&t&&!x)return d(),!1;if([r.z.NewThread,r.z.ThreadLocalConversation,r.z.SharedThreadContinueChat].includes(m)&&(_||y||!u.useFeedStore.getState().guestCanChat))return d({toastContent:y&&0===w.length?void 0:(0,p.X9)("touristMode_chat_count_limitation_toast"),type:"create_thread_limit"}),!1;if(v){let e=S[v];if(!(0,i.Z)(e)&&!e||(0,i.Z)(e)&&y)return d({toastContent:k>0?(0,p.X9)("touristMode_message_count_limitation_withParam_toast").replace("{s_messageCount}",k.toString()):void 0,type:"send_message_limit"}),!1}}return!0}}}}}]);
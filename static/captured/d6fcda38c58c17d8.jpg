"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["37723"],{684587:function(){},28414:function(e,l,t){t.d(l,{default:function(){return s}}),t(713738);var o=t(430261),a=t(345660),s=(0,o.IconFactory)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18m0 2C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11-4.925 11-11 11m-1-7.5v-4a1 1 0 1 1 0-2h1.004c.55 0 .998.446.999.996.002 1.668-.003 3.336-.003 5.004h.5a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2zm1-7a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})}),{}))},450523:function(e,l,t){t.d(l,{CollapseWrapperContent:function(){return C}});var o=t(828438),a=t(713738),s=t(812650),n=t.n(s),c={"collapse-wrapper":"collapse-wrapper-JT3LHd",collapseWrapper:"collapse-wrapper-JT3LHd","collapse-wrapper-in-update":"collapse-wrapper-in-update-4CNL4s",collapseWrapperInUpdate:"collapse-wrapper-in-update-4CNL4s","collapse-wrapper-border":"collapse-wrapper-border-IJIAtA",collapseWrapperBorder:"collapse-wrapper-border-IJIAtA","collapse-button-mask-top":"collapse-button-mask-top-m1TRI3",collapseButtonMaskTop:"collapse-button-mask-top-m1TRI3","collapse-collapse-button":"collapse-collapse-button-LffLVU",collapseCollapseButton:"collapse-collapse-button-LffLVU","collapse-collapse-button-title":"collapse-collapse-button-title-lZEaN3",collapseCollapseButtonTitle:"collapse-collapse-button-title-lZEaN3","collapse-button-suffix":"collapse-button-suffix-jNtcoW",collapseButtonSuffix:"collapse-button-suffix-jNtcoW","collapse-button-suffix-hover":"collapse-button-suffix-hover-cmcAMX",collapseButtonSuffixHover:"collapse-button-suffix-hover-cmcAMX","collapse-button-suffix-icon":"collapse-button-suffix-icon-YQes1x",collapseButtonSuffixIcon:"collapse-button-suffix-icon-YQes1x","collapse-quota-block":"collapse-quota-block-H1sPrW",collapseQuotaBlock:"collapse-quota-block-H1sPrW","collapse-quota-block-before":"collapse-quota-block-before-eob00J",collapseQuotaBlockBefore:"collapse-quota-block-before-eob00J","collapse-quota-block-inner":"collapse-quota-block-inner-FzPBKM",collapseQuotaBlockInner:"collapse-quota-block-inner-FzPBKM","collapse-quota-block-inner-default-expand":"collapse-quota-block-inner-default-expand-JBtnWz",collapseQuotaBlockInnerDefaultExpand:"collapse-quota-block-inner-default-expand-JBtnWz","collapse-quota-block-inner-default-collapsed":"collapse-quota-block-inner-default-collapsed-vEReQf",collapseQuotaBlockInnerDefaultCollapsed:"collapse-quota-block-inner-default-collapsed-vEReQf","scroll-content":"scroll-content-ZLlBCF",scrollContent:"scroll-content-ZLlBCF","scroll-view":"scroll-view-GcvfAi",scrollView:"scroll-view-GcvfAi","scroll-view-in-update":"scroll-view-in-update-spXgAE",scrollViewInUpdate:"scroll-view-in-update-spXgAE","half-card":"half-card-YWBHUs",halfCard:"half-card-YWBHUs","half-card-mask":"half-card-mask-MJYWgH",halfCardMask:"half-card-mask-MJYWgH",stick:"stick-LY9j1d","stick-divide":"stick-divide-zdDFhQ",stickDivide:"stick-divide-zdDFhQ","stick-bg":"stick-bg-NYFIZf",stickBg:"stick-bg-NYFIZf","collapse-footer":"collapse-footer-pIPFl2",collapseFooter:"collapse-footer-pIPFl2","collapse-footer-icon":"collapse-footer-icon-iFm5y4",collapseFooterIcon:"collapse-footer-icon-iFm5y4","collapse-footer-title":"collapse-footer-title-vySvMk",collapseFooterTitle:"collapse-footer-title-vySvMk",container:"container-h0ycBa","theme-deep-research":"theme-deep-research-yzSUom",themeDeepResearch:"theme-deep-research-yzSUom",input:"input-Cs4twM",flash:"flash-duqs3K","skeleton-loading":"skeleton-loading-XfIeyq",skeletonLoading:"skeleton-loading-XfIeyq"},r=t(345660);let i=()=>(0,r.jsxs)("div",{className:"flex flex-col gap-8 flex-1 mt-12",children:[(0,r.jsx)("div",{className:n()(c.input,c.flash,"w-full h-16")}),(0,r.jsx)("div",{className:n()(c.input,c.flash,"w-2/3 h-16")})]});var u=t(897777),p=t(55845);t(684587);var d=t(70692),f=t.n(d);let h=e=>{let l,{startTime:t=0,duration:o=1713307246e3,isFinished:s}=e,[n,c]=(0,a.useState)("00:00"),i=0,u=t,p=e=>{let l=Math.floor(e%36e5/6e4),t=Math.floor(e%6e4/1e3);return`${String(l).padStart(2,"0")}:${String(t).padStart(2,"0")}`},d=()=>{i=Date.now()-u,l=setInterval(()=>{c(p(u=Date.now()-i))},10)};return(0,a.useMemo)(()=>{s&&clearInterval(l)},[s]),(0,a.useEffect)(()=>{s||d()},[]),(0,r.jsx)("span",{className:"text-s-color-text-quaternary s-font-xs",children:s?f()(o).format("mm:ss"):n})},x=e=>{let{children:l,className:t,style:o}=e;return(0,r.jsx)("div",{className:n()("light-xU87ku",t),style:o,children:l})},v=e=>{let{text:l,theme:t,isFinished:o,titleClassName:a}=e,s="default"===t&&!o;return(0,r.jsx)(r.Fragment,{children:s?(0,r.jsx)(x,{className:"py-10",children:l}):(0,r.jsxs)("div",{className:"z-10 flex flex-col items-start justify-center gap-2 py-10",children:[(0,r.jsx)("span",{className:a||c["collapse-collapse-button-title"],children:l}),"deep-research"===t&&(0,r.jsx)(h,{isFinished:o})]})})},b=u.default,m=p.default,g=e=>{let{isExpand:l,onClick:t,isFinished:a,text:s,wrapperInView:i,useDivider:u,titleClassName:p,theme:d="default",isCanvasMode:f=!1,isSelectMode:h=!1,tooltip:x}=e,[g,k]=(0,o.useInView)({triggerOnce:!1,initialInView:!1,threshold:1}),w=i&&!h,j=i&&u&&k;return(0,r.jsxs)(r.Fragment,{children:[!a&&i&&(0,r.jsx)("div",{className:n()(c["collapse-button-mask-top"],{"!bg-s-color-bg-secondary":f})}),(0,r.jsxs)("div",{ref:g,className:n()(c["collapse-collapse-button"],{[c.stick]:w,[c["stick-divide"]]:j,[c["stick-bg"]]:w,"after:!bg-s-color-bg-secondary":i&&f}),"data-testid":"collapse_button",onClick:t,children:[(0,r.jsx)(v,{text:s,theme:d,isFinished:a,titleClassName:p}),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=c["collapse-button-suffix-icon"];return(0,r.jsx)("div",{className:n()(c["collapse-button-suffix"],{[c["collapse-button-suffix-hover"]]:e},!1),children:(0,r.jsx)(e?b:m,{className:l})})}(l)]})]})};var k=t(28414),w=t(559425);let j=e=>{let{title:l,btnTitle:t,onClick:o}=e;return(0,r.jsxs)("div",{className:c["collapse-footer"],children:[(0,r.jsxs)("div",{className:"flex gap-4 items-center flex-1",children:[(0,r.jsx)(k.default,{className:c["collapse-footer-icon"]}),(0,r.jsx)("span",{className:c["collapse-footer-title"],children:l})]}),(0,r.jsx)(w.SamanthaButton,{onClick:o,children:t})]})};var N=t(870539),S=t(846106);let y=(0,a.forwardRef)(function(e,l){let{isFinished:t=!0,isExpand:o=!1,expandStatusInUpdate:s=!1,children:i,defaultExpand:u}=e,[p,d]=(0,a.useState)(!1),[f,h]=(0,a.useState)(216*!t),[x,v]=(0,a.useState)(0),[b,m]=(0,a.useState)(!1),g=(0,a.useRef)(null),k=(0,a.useRef)(null),w=!p&&!t&&b,j=()=>{var e;let l=null==g?void 0:null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect();(null==l?void 0:l.bottom)&&v(l.top<0?l.bottom-90:l.height)};return(0,a.useImperativeHandle)(l,()=>({updateScrollHeight:j}),[]),(0,a.useMemo)(()=>{t&&(d(!1),h(0))},[t]),(0,a.useMemo)(()=>{!t&&(h(216*!!s),d(!s),s&&v(216))},[s]),(0,a.useEffect)(()=>{if(!p&&!t){var e;null==k||null===(e=k.current)||void 0===e||e.scrollToBottom()}},[p]),(0,r.jsxs)("div",{className:n()(c["scroll-content"],{[c["half-card"]]:!t,[c["half-card-mask"]]:w}),"data-showed":o?"show":"disappear",children:[(0,r.jsx)(S.ScrollView,{ref:k,showScrollbar:!t,onScroll:()=>{b||m(!0)},bottomAttaching:!0,className:n()(c["scroll-view"],{[c["scroll-view-in-update"]]:!t&&!p}),children:(0,r.jsx)("div",{className:n()(c["collapse-quota-block"],{[c["collapse-quota-block-before"]]:!t&&!p}),"data-testid":"collapse_quota_block",ref:g,children:(0,r.jsx)(N.default,{in:o||p,addEndListener:(e,l)=>{e.addEventListener("transitionend",l,!1)},onEnter:e=>{e.style.height=`${f}`,e.style.display="block"},onEntering:e=>{e.style.height="fit-content"},onEntered:e=>{v(e.offsetHeight),e.style.height="auto"},onExit:e=>{e.style.display="block",e.style.height=`${x>0?x:e.offsetHeight}px`,e.offsetHeight},onExiting:e=>{e.style.height=`${f}`},onExited:e=>{e.style.display="none",e.style.height="auto"},children:(0,r.jsx)("div",{className:n()([c["collapse-quota-block-inner"],u?c["collapse-quota-block-inner-default-expand"]:c["collapse-quota-block-inner-default-collapsed"]]),children:i})})})}),w&&(0,r.jsx)("div",{style:{position:"absolute",height:"35px",bottom:0,right:1,width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, var(--s-color-bg-primary) 35px, rgba(0, 0, 0, 1) 100%)"}})]})}),I=(0,a.forwardRef)(function(e,l){let{children:t,isExpand:o,isSelectMode:s,classname:i}=e,[u,p]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{o?(d&&clearTimeout(d),p(!0)):f(setTimeout(()=>{p(!1)},500))},[o]),(0,r.jsx)("div",{ref:l,className:n()(c["collapse-wrapper"],i,{[c["collapse-wrapper-border"]]:o&&!s,"!bg-s-color-bg-body !cursor-default":u}),children:t})}),C=(0,a.forwardRef)(function(e,l){let{defaultExpand:t=!1,isSelectMode:s=!1,isFinished:u=!1,isCanvasMode:p=!1,useDivider:d=!1,loading:f=!1,collapseButtonText:h="",theme:x="default",showFooter:v=!1,collapseWrapperCls:b,footerTitle:m,footerBtnTitle:k,onFooterBtnClick:w,collapseheaderTitleCls:N,children:S,onCollapseButtonClick:C,tooltip:B}=e,[E,q]=(0,a.useState)(t),[F,L]=(0,a.useState)(!1),M=(0,a.useRef)(null),A=(0,a.useRef)(null),H=u?E:F,_=v&&H,[D,R]=(0,o.useInView)({triggerOnce:!1,initialInView:!1}),[W,V]=(0,o.useInView)({triggerOnce:!1,initialInView:!1}),T=(0,a.useCallback)(e=>{M.current=e,W(e)},[W]),U=()=>{var e,l;let t=null==M?void 0:null===(e=M.current)||void 0===e?void 0:e.getBoundingClientRect();(null==t?void 0:t.top)&&t.top<56&&(null==M||null===(l=M.current)||void 0===l||l.scrollIntoView())};return(0,a.useEffect)(()=>{u&&!F&&q(!1)},[u]),(0,r.jsx)("div",{ref:T,className:n()(c.container,c[`theme-${x}`],{"!transition-none":E,"z-0 isolate":!1}),style:{},"data-expand":E?"true":"false",children:(0,r.jsxs)(I,{ref:l,isExpand:E,isSelectMode:s,classname:b,children:[(0,r.jsx)(g,{isCanvasMode:p,isSelectMode:s,isFinished:u,useDivider:d,theme:x,isExpand:H,text:h,titleClassName:N,wrapperInView:(V||R)&&E,onClick:()=>{if(!u){L(!F);return}if(E){var e;null==A||null===(e=A.current)||void 0===e||e.updateScrollHeight(),U()}q(!E),null==C||C(!E),E&&U()},tooltip:B}),(0,r.jsx)("div",{ref:D,children:(0,r.jsx)(y,{ref:A,isExpand:E,expandStatusInUpdate:!F,defaultExpand:t,isFinished:u,children:f?(0,r.jsx)(i,{}):S})}),_&&(0,r.jsx)(j,{title:m,btnTitle:k,onClick:w})]})})})},584914:function(e,l,t){t.d(l,{useIsCanvasNarrowModeHook:function(){return s}});var o=t(57392),a=t(698392);let s=()=>({isCanvasNotNarrowMode:(0,a.useChatSlice)("chatViewCanvasStore",e=>!!e.matchedCanvasPluginIdentifier&&e.canvasLayoutState!==o.CanvasLayoutState.NARROW_SIDE_PANEL)})}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["55467"],{843174:function(e,t,n){n.d(t,{utf8:function(){return u}});var r=n(519428),i=n(436041);let u={length(e){let t=0,n=0;for(let r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:(64512&n)==55296&&(64512&e.charCodeAt(r+1))==56320?(++r,t+=4):t+=3;return t},read(e,t,n){if(n-t<1)return"";let r="";for(let i=t;i<n;){let t=e[i++];if(t<=127)r+=String.fromCharCode(t);else if(t>=192&&t<224)r+=String.fromCharCode((31&t)<<6|63&e[i++]);else if(t>=224&&t<240)r+=String.fromCharCode((15&t)<<12|(63&e[i++])<<6|63&e[i++]);else if(t>=240){let n=((7&t)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;r+=String.fromCharCode(55296+(n>>10)),r+=String.fromCharCode(56320+(1023&n))}}return r},write(e,t,n){let r,i;let u=n;for(let u=0;u<e.length;++u)(r=e.charCodeAt(u))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:((64512&r)==55296&&(64512&(i=e.charCodeAt(u+1)))==56320?(r=65536+((1023&r)<<10)+(1023&i),++u,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-u},posCalcRange(e,t){let n=0,u={},l=(0,r.default)(t);l=(0,i.default)(l.sort((e,t)=>e-t));for(let t=0;t<e.length&&(n===l[0]&&(u[l[0]]=t,l.shift()),(64512&e[t].charCodeAt(0))==55296&&(64512&e[t+1].charCodeAt(0))==56320?(n+=this.length(`${e[t]}${e[t+1]}`),t++):n+=this.length(e[t]),l.length);t++);return u},posCalc(e,t){let n="",r=0;for(let i=0;i<e.length;i++)if(n+=e[i],this.length(n)===t){r=i+1;break}return r}}},27358:function(e,t,n){n.r(t),n.d(t,{ReceivePodcastContentPlugin:function(){return _}});var r=n(904629),i=n(855289),u=n(777210),l=n(698392),o=n(212183),f=n(604889),d=n(334312),a=n(273637),c=n(416973),s=n(572965),v=n(345660);function h(e){let{message:t,inView:n,disableTrack:r}=e,{chatViewRef:i}=(0,f.useChatRef)(),h=(0,a.default)(()=>{var e,t;null===(t=i.current)||void 0===t||null===(e=t.syncData)||void 0===e||e.call(t)}),g=(0,a.default)((e,n)=>{var i,f,a,c,v;if(r)return;let h=(0,o.getBotIdByConversationId)(null==t?void 0:t.conversation_id),g=null===(i=(0,s.getPodcastFromMsgContent)(null==t?void 0:t.content_obj))||void 0===i?void 0:i.podcast,C=null==g?void 0:g.id;if(!C)return;let _={...n,epoise_id:C,message_id:null==t?void 0:t.message_id,conversation_id:null==t?void 0:t.conversation_id,bot_id:h,chat_type:null===(a=(0,l.getChatSlice)("chatViewCoreStore"))||void 0===a?void 0:null===(f=a.currentChatViewConfig)||void 0===f?void 0:f.chatType,reply_id:null==t?void 0:t.reply_id,skill_id:null==t?void 0:null===(c=t.skill)||void 0===c?void 0:c.skill_id_no_default,skill_name:(0,d.getSkillTeaNameByType)(null==t?void 0:null===(v=t.skill)||void 0===v?void 0:v.skill_type_no_default)},p=u.messageServiceContainer.get("chatTeaService");null==p||p.trackEvent(e,_)});return(0,v.jsx)(c.PodcastContent,{isShare:!1,refreshChat:h,message:t,inView:n,trackEventFn:g})}function g(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let C=e=>{let{message:t}=e;return(0,r.isAIPodcastMessage)(t)?(0,v.jsx)(h,{...e,message:t}):null};class _{constructor(){g(this,"pluginIdentifier",i.podcastReceiveMessageBoxPluginIdentifier),g(this,"Content",C)}}},224266:function(e,t,n){var r=n(653115);t.default=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:(0,r.default)(e,t,n)}},507403:function(e,t){var n=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.default=function(e){return n.test(e)}},90814:function(e,t,n){n.d(t,{default:function(){return h}});var r=n(507403),i="\ud800-\udfff",u="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\ud83c[\udffb-\udfff]",o="[^"+i+"]",f="(?:\ud83c[\udde6-\uddff]){2}",d="[\ud800-\udbff][\udc00-\udfff]",a="(?:"+u+"|"+l+")?",c="[\\ufe0e\\ufe0f]?",s="(?:\\u200d(?:"+[o,f,d].join("|")+")"+c+a+")*",v=RegExp(l+"(?="+l+")|"+("(?:"+[o+u+"?",u,f,d,"["+i+"]"].join("|"))+")"+(c+a+s),"g"),h=function(e){return(0,r.default)(e)?e.match(v)||[]:e.split("")}},436041:function(e,t,n){var r=n(293831);t.default=function(e){return e&&e.length?(0,r.default)(e):[]}},56742:function(e,t,n){n.d(t,{default:function(){return o}});var r=n(224266),i=n(507403),u=n(90814),l=n(7349),o=function(e){e=(0,l.default)(e);var t=(0,i.default)(e)?(0,u.default)(e):void 0,n=t?t[0]:e.charAt(0),o=t?(0,r.default)(t,1).join(""):e.slice(1);return n.toUpperCase()+o}}}]);
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["63074"],{982185:function(t,e,i){i.r(e),i.d(e,{InitChatAppDataLauncherPlugin:function(){return s}});var a=i(198660),r=i(910321),n=i(624043);function o(t,e,i){var a;return(e="symbol"==typeof(a=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?a:a+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class s{constructor(){o(this,"enterTime",(0,r.safelyGetNow)()),o(this,"onEnter",(t,e)=>{if(!e){var i;this.enterTime=(0,r.safelyGetNow)(),null===(i=this.initChatAppData)||void 0===i||i.call(this,t)}}),o(this,"initChatAppData",async t=>{await (0,a.getLoginLoadingPromise)();let e=(0,a.getIsGuest)();return(0,n.initChatAppData)({isReload:!1,pageCreateTime:this.enterTime,isGuest:e,isOverallList:!e})})}}},624043:function(t,e,i){i.d(e,{initChatAppData:function(){return u}});var a=i(956801),r=i(230932),n=i(835789),o=i(6940),s=i(910321),l=i(856392);let u=async t=>{let{isGuest:e,...i}=t,r=(0,l.createReportEvent)(i.isReload?{eventName:"reload_chat_app_data"}:{eventName:"init_chat_app_data",meta:{enter_pid:a.useTracingStore.getState().enterPid,"page_time.origin":-i.pageCreateTime,"page_time.start":(0,s.safelyGetNow)()-i.pageCreateTime}});try{await _({...i,isGuest:e}),r.addDurationPoint("conversation_list"),a.useTracingStore.getState().addDurationPoint("load_conversation_list_finish")}catch(t){r.error({reason:"conversation_list_error",error:t}),a.useTracingStore.getState().error("conversation_list_error",t);return}a.useTracingStore.getState().addDurationPoint("load_message_list_finish")};async function _(t){var e;return r.useFeedStore.setState({isOverallList:null!==(e=t.isOverallList)&&void 0!==e&&e}),await r.useFeedStore.getState().loadConversationList({size:n.INIT_CHAT_CONVERSATION_COUNT,index:0,isReload:t.isReload,type:t.isGuest?[o.LoadConversationListType.Guest]:t.isOverallList?[o.LoadConversationListType.Overall]:[o.LoadConversationListType.Feed,o.LoadConversationListType.Bot]})}}}]);
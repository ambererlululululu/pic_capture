"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["31637"],{414643:function(e,t,n){n.r(t),n.d(t,{RefContentStoreService:function(){return S}});var o=n(746479),r=n(698392);let f=(e,t)=>{let{refContents:n,channel:f,source:i,scene:a,inputSkill:l,reportParams:C}=e;if(0===n.length){s(t);return}(0,r.getChatStore)("refContentStore").setState((0,o.produce)(e=>{e.refContentMap[t]={refContents:n,channel:f,source:i,...a?{scene:a}:{},...l?{inputSkill:l}:{},...C?{reportParams:C}:{}}}))},i=(e,t)=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{var o;let r=null===(o=n.refContentMap[e].refContents)||void 0===o?void 0:o[t];r&&(r.disableRef=!1)}))},a=(e,t)=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{var o;let r=null===(o=n.refContentMap[e].refContents)||void 0===o?void 0:o[t];r&&(r.disableRef=!0)}))},l=(e,t)=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{var o,r;let f=null===(o=n.refContentMap[e].refContents)||void 0===o?void 0:o[t];if(f){let e=null!==(r=f.disableRef)&&void 0!==r&&r;f.disableRef=!e}}))},s=function(e){let{retainDisableRef:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{var o,r;let f=null!==(r=(null!==(o=n.refContentMap[e])&&void 0!==o?o:{}).refContents)&&void 0!==r?r:[];0===(f=t?f.filter(e=>!!e.disableRef):[]).length?delete n.refContentMap[e]:n.refContentMap[e].refContents=f}))},C=(e,t)=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{let f=n.refContentMap[e];f&&(n.refContentMap[t]=f,setTimeout(()=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(t=>{delete t.refContentMap[e]}))},3e4))}))},u=(e,t)=>{(0,r.getChatStore)("refContentStore").setState((0,o.produce)(n=>{n.refContentMap[e].refContents.splice(t,1)}))};function d(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{constructor(){d(this,"clearRefContents",s),d(this,"setRefContents",f),d(this,"moveRefContents",C),d(this,"deleteRefContent",u),d(this,"enableRefContentQuote",i),d(this,"disableRefContentQuote",a),d(this,"toggleRefContentDisableQuote",l)}}}}]);
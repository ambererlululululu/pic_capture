"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["6277"],{754100:function(e,t,l){l.d(t,{default:function(){return o}}),l(713738);var i=l(430261),n=l(345660),o=(0,i.IconFactory)((0,n.jsx)(e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M18.874 7a4.002 4.002 0 0 1-7.748 0H3a1 1 0 0 1 0-2h8.126a4.002 4.002 0 0 1 7.748 0H21a1 1 0 1 1 0 2zM15 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4M12.874 19a4.002 4.002 0 0 1-7.748 0H3a1 1 0 1 1 0-2h2.126a4.002 4.002 0 0 1 7.748 0H21a1 1 0 1 1 0 2zM9 20a2 2 0 1 0 0-4 2 2 0 0 0 0 4"})}),{}))},452600:function(e,t,l){l.d(t,{useDeepMemo:function(){return o}});var i=l(713738),n=l(913821);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default,l=(0,i.useRef)(e),o=t(l.current,e);return(0,i.useEffect)(()=>{o||(l.current=e)}),o?l.current:e}},173464:function(e,t,l){l.d(t,{getTestIdProps:function(){return n},isE2eEnv:function(){return o}});var i=l(441259);function n(e){return e?{"data-testid":e}:{}}let o=()=>(0,i.safelyGetUserAgent)().includes("E2E")},210128:function(e,t,l){l.d(t,{useTeaVar:function(){return a}});var i=l(713738),n=l(353590),o=l(257029);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[l,a]=(0,i.useState)(!0),{key:r,defaultValue:s,autoRefresh:u=!1,isServerAb:c=!1}=e,[d=s,m]=(0,n.default)(`libra_setting_${r}`,{defaultValue:s}),k=(0,i.useCallback)(async()=>{m(await (0,o.getTeaVar)(r,s,{isServerAb:c}))},[r,s]);return(0,i.useEffect)(()=>{a(!0),k(),a(!1)},t),(0,i.useEffect)(()=>{if(u)return(0,o.onAbComplete)(k)},[u]),{loading:l,value:d}}},566037:function(e,t,l){l.d(t,{SkillActionBtnWithPlugin:function(){return S},SkillBarActionButton:function(){return f},SkillActionBtn:function(){return h}});var i=l(828438),n=l(713738),o=l(812650),a=l.n(o),r=l(689368),s=l(173464),u=l(126552),c=l(460821),d=l(214902),m=l(612470),k=l(162188),p={"skill-bar-item":"skill-bar-item-lEBfE8",skillBarItem:"skill-bar-item-lEBfE8","hover-highlight":"hover-highlight-b63SC1",hoverHighlight:"hover-highlight-b63SC1",disabled:"disabled-q1ULDT",text:"text-JSJKLD",icon:"icon-CWGO4F","skill-bar-item__primary":"skill-bar-item__primary-QcY7Fj",skillBarItemPrimary:"skill-bar-item__primary-QcY7Fj",hoverable:"hoverable-BHlIr5",hoverable__primary:"hoverable__primary-SzTOTx",hoverablePrimary:"hoverable__primary-SzTOTx","activable__primary-active-back":"activable__primary-active-back-TBPg0v",activablePrimaryActiveBack:"activable__primary-active-back-TBPg0v","activable__primary-active":"activable__primary-active-ytFxmB",activablePrimaryActive:"activable__primary-active-ytFxmB",activable:"activable-jsOe0W",activable__primary:"activable__primary-pdeAHA",activablePrimary:"activable__primary-pdeAHA"},v=l(345660);let f=(0,n.forwardRef)(function(e,t){let{text:l="",tooltip:o,className:r,itemClassName:c,icon:m,onShow:k,onClick:f,type:h="default",testId:S,onMouseUp:_,disabled:g=!1,hoverHighlight:b=!0,hoverable:w=!0,activable:y=!0,customNode:x}=e,{ref:C,inView:B}=(0,i.useInView)(),N=(0,n.useRef)(null),[I,P]=(0,n.useState)(!0),T=(0,n.useRef)(!1);(0,n.useEffect)(()=>{B&&(null==k||k())},[B]),(0,n.useLayoutEffect)(()=>{if(I){let e=setTimeout(()=>P(!1),150);return()=>clearTimeout(e)}},[I]),(0,u.default)(()=>T.current=!1,N,["mousedown","click"]);let j=(0,v.jsx)("div",{ref:t,className:a()("skill-bar-item-wrap",r),children:(0,v.jsxs)("div",{ref:e=>(N.current=e,C(e)),className:a()(p["skill-bar-item"],{[p["skill-bar-item__primary"]]:"primary"===h,[p["skill-bar-item__primary-active-back"]]:"primary"===h&&I,[p["skill-bar-item__primary-active"]]:"primary-active"===h,[p.disabled]:g,[p["hover-highlight"]]:b,[p.hoverable]:w,[p.activable]:y},c),onClick:()=>{P(!0),null==f||f()},onMouseDown:()=>T.current=!0,onMouseUp:()=>T.current&&(null==_?void 0:_()),...(0,s.getTestIdProps)(S),children:[m&&(0,v.jsx)("div",{className:p.icon,children:m}),!!l&&(0,v.jsx)("div",{className:p.text,children:l}),x]})});return o?(0,v.jsx)(d.SamanthaTooltip,{content:o,children:j}):j}),h=e=>{var t;let{className:l,isNarrowMode:i,skill:o,index:r,colorful:s,hasTestId:u=!1}=e;return(0,n.createElement)(f,{...e,className:a()("pr-6",k.SkillBarBtnClassName,l),key:null!==(t=o.skill_type)&&void 0!==t?t:r,text:(i?o.show_name_short:o.show_name)||o.show_name,icon:(0,v.jsx)(m.SkillIcon,{colorful:s,skill_type:o.skill_type}),testId:u?`skill_bar_button_${o.skill_type}`:void 0})},S=e=>{var t;let{skill:l,index:i,onPluginMouseUp:o,onMouseUp:a,from:s="input",pluginOnClick:u}=e,{plugin:d}=(0,r.useSkillBarItemPlugin)(l.skill_type),m=(0,c.useCompareMemo)(d,(e,t)=>(null==e?void 0:e.skillType)===(null==t?void 0:t.skillType)),k=(0,n.useMemo)(()=>null==m?void 0:m.Component,[m]);return k?(0,v.jsx)(k,{skill:l,from:s,onClick:null!=u?u:a,renderContent:t=>{var a;let{onClick:r,keepMorePopover:s,customNode:u=e.customNode}=t;return(0,n.createElement)(h,{...e,customNode:u,key:null!==(a=l.skill_type)&&void 0!==a?a:i,onMouseUp:()=>{o({onClick:r,keepMorePopover:s,customNode:u})}})}}):(0,n.createElement)(h,{...e,key:null!==(t=l.skill_type)&&void 0!==t?t:i})}},306080:function(e,t,l){l.d(t,{MoreSkillsSmallContent:function(){return h}});var i=l(828438),n=l(713738),o=l(812650),a=l.n(o),r=l(695422),s=l(689368),u=l(915299),c=l(198660),d=l(162771),m=l(612470),k=l(345660);let p=e=>{let{className:t,testid:l,customNode:o,onClick:r,onShow:s,children:u}=e,{ref:c,inView:d}=(0,i.useInView)();return(0,n.useEffect)(()=>{d&&(null==s||s())},[d]),(0,k.jsxs)("button",{ref:c,className:a()("py-8 px-6 rounded-s-radius-xxss hover:bg-s-color-bg-trans flex items-center gap-12 cursor-pointer border-none bg-transparent w-full justify-start text-left outline-none",t),"data-testid":l,onClick:r,children:[u,o]})},v=e=>{let{item:t,isNarrowMode:l}=e;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m.SkillIcon,{className:"p-2 !text-16 text-s-color-text-primary",skill_type:t.skill_type}),(0,k.jsx)("p",{className:"text-s-color-text-secondary s-font-small-strong",children:(l?t.show_name_short:t.show_name)||t.show_name})]})},f=e=>{let{item:t,className:l,isNarrowMode:i,testid:o,from:a="more_skills",pluginOnClick:r,onClick:u,onShow:c}=e,{plugin:d}=(0,s.useSkillBarItemPlugin)(t.skill_type),m={item:t,className:l,isNarrowMode:i,testid:o,onShow:c,onClick:()=>null==u?void 0:u({})},f=(0,k.jsx)(v,{item:t,isNarrowMode:i}),h=(0,k.jsx)(p,{...m,children:f}),S=(null==d?void 0:d.Component)||(null==d?void 0:d.LiteComponent);return S?(0,k.jsx)(n.Suspense,{fallback:h,children:(0,k.jsx)(S,{skill:t,from:a,onClick:r,renderContent:e=>{let{onClick:t,keepMorePopover:l,customNode:i}=e;return(0,k.jsx)(p,{...m,customNode:i,onClick:()=>{null==u||u({keepMorePopover:l,onlyReportEvent:!0}),null==t||t()},children:f})}})}):h},h=e=>{let{className:t,items:l,activeIndex:o,activeItemClassName:s,itemClassName:m,isNarrowMode:p=!1,from:v,enableSkillPin:h=!0,onSelectSkill:S,onClickSkillPin:_,onSkillShow:g,onSkillPinShow:b,skillItemListRef:w}=e,y=(0,u.useTranslateFn)(),{ref:x,inView:C}=(0,i.useInView)(),{trimSkills:B}=(0,d.useTrimSkillsHidden)();(0,n.useEffect)(()=>{C&&(null==b||b())},[C]);let N=(0,c.useIsLoggedIn)();return(0,k.jsxs)("div",{ref:w,className:t,children:[null==l?void 0:l.map((e,t)=>{var l;return(0,k.jsx)(f,{item:e,className:a()(m,t===o?s:""),isNarrowMode:p,from:v,testid:`skill_bar_button_${e.skill_type}`,onShow:()=>null==g?void 0:g(e),pluginOnClick:()=>{null==S||S(e.skill_type,r.SkillFrom.ClickSkill,{skipReport:!0},t,null==e?void 0:e.sticky)},onClick:l=>null==S?void 0:S(e.skill_type,r.SkillFrom.ClickSkill,l,t,null==e?void 0:e.sticky)},null!==(l=e.skill_type)&&void 0!==l?l:t)}),N&&h&&!B&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:`
              mx-4 my-4 border-t-0 border-b-[0.5px] border-solid border-s-color-border-secondary
            `}),(0,k.jsx)("button",{ref:x,className:a()("py-8 px-12 text-s-color-text-secondary s-font-small-strong border-none hover:bg-s-color-bg-trans bg-transparent cursor-pointer rounded-s-radius-xxss w-full text-left outline-none",m,p?"!text-12":""),onClick:_,children:y("web_chat_skill_menuOption_settings")})]})]})}},41431:function(e,t,l){l.d(t,{useAISpaceAttachment:function(){return c}});var i=l(698392),n=l(269249),o=l(971857),a=l(210128),r=l(524129),s=l(198660),u=l(124267);let c=()=>{let{chatId:e,chatType:t}=(0,n.useChatViewConfig)()||{},l=(0,i.useChatSlice)("chatInputStore",t=>e?t.activeSkillTypeMap[e]:void 0),c=(0,o.useIsSamantha)(e||"",t),{value:d}=(0,a.useTeaVar)({key:"aispace_revert",defaultValue:"0",isServerAb:!0}),{value:m}=(0,a.useTeaVar)({key:"input_upload_aispace_enable",defaultValue:!1});return{enableAISpaceUpload:(0,s.useIsLoggedIn)()&&"0"!==d&&m&&c&&(!l||l===r.SkillType.ReadPDF)&&!0,showAISpaceUploadModal:()=>{(0,u.emitEmptySlash)()}}}},149339:function(e,t,l){l.d(t,{useChatSkillBarData:function(){return j}});var i=l(713738),n=l(865607),o=l(913821),a=l(214071),r=l(845647),s=l(894265),u=l(666196),c=l(698392),d=l(922851),m=l(23226),k=l(971857),p=l(883393),v=l(4137),f=l(554450),h=l(304086),S=l(910214),_=l(231149),g=l(856392);let b=(0,l(292028).throttleReqLite)(()=>S.samanthaApiService.GetRecommendSkills({omit_sidebar:!0,omit_image:!0,omit_music:!0,omit_write:!0,omit_search:!0})),w=function(){var e,t,l,i,n,o;let{ready:a=!0,chatId:r,language:s,getSupportedSkillTypes:u,customFilterSupportSkill:c,reportParams:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:m,loading:k}=(0,_.default)(async()=>{var e,t;let l=(0,g.createReportEvent)({eventName:"load_samantha_skill",meta:{...d}}),i=await b().catch(e=>{throw l.error({reason:"get_recommend_skill_fail",error:e}),e});return l.addDurationPoint("success"),l.success({meta:{is_empty:(null==i?void 0:null===(t=i.data)||void 0===t?void 0:null===(e=t.groups)||void 0===e?void 0:e.length)?"0":"1"}}),i},{ready:a,refreshDeps:[r,s],cacheKey:"load_samantha_skill",retryCount:3,retryInterval:200}),p=e=>{if(!e||(0,v.default)(null==e?void 0:e.skill_type))return!1;let t=null==u?void 0:u(),l=!t||!!t.has(e.skill_type);return c?c(e)&&l:l};return{data:{allSkills:(0,f.default)((0,h.default)(null==m?void 0:null===(t=m.data)||void 0===t?void 0:null===(e=t.groups)||void 0===e?void 0:e.map(e=>{var t,l;return null!==(l=null===(t=e.skills)||void 0===t?void 0:t.filter(e=>!!(null==e?void 0:e.skill_id)))&&void 0!==l?l:[]})),"skill_id").filter(p),latestSkills:((null==m?void 0:null===(l=m.data)||void 0===l?void 0:l.latest_skills)||[]).filter(p),input_config:null==m?void 0:null===(i=m.data)||void 0===i?void 0:i.input_config,sidebar_skills:null==m?void 0:null===(n=m.data)||void 0===n?void 0:n.sidebar_skills,onboarding_skills:null==m?void 0:null===(o=m.data)||void 0===o?void 0:o.onboarding_skills},loading:!m&&k}};var y=l(679224),x=l(761637),C=l(198660),B=l(369682),N=l(452600),I=l(242315),P=l(44502);let T=()=>(0,c.useChatSlice)("chatInputStore",e=>{var t,l;return null!==(l=null===(t=e.recommendSkills)||void 0===t?void 0:t.map(t=>{if(t.skill_type)return{...t,...e.skillMap[t.skill_type]}}).filter(Boolean))&&void 0!==l?l:[]},o.default),j=e=>{var t;let{chatId:l,chatType:v,customFilterSupportSkill:f,rootLayoutDisplaySkills:h}=e,S=(0,p.useAppSizeType)(),_=(0,k.useIsSamantha)(l,v),g=(0,m.useEnableSkillGuidance)(),b=!g&&v===r.ChatType.NewThread,j=(0,c.useChatSlice)("chatInputStore",e=>e.activeSkillTypeMap[l],n.shallow),A=(0,u.useChatService)("chatConfigService"),R=(0,x.getUnreactiveLanguage)(),E=(0,c.useChatSlice)("chatInputStore",e=>e.skills,o.default),{data:M,loading:L}=w({chatId:l,language:R,customFilterSupportSkill:f,reportParams:{from:"chat_input"}}),D=(0,a.default)(E)?M:E;(0,i.useEffect)(()=>{L||(0,a.default)(M)||((0,c.getChatSlice)("chatInputStore").updateSkills(M),(0,d.getChatService)("chatGuidanceService").then(e=>{null==e||e.processSamanthaSkills(M)}))},[M,L]);let F=(0,c.useChatSlice)("chatInputStore",e=>e.inputSkills,o.default),{data:{inputSkills:O,skills:U,recommendSkills:G,hideSkillBarInLandingPage:V},loading:z}=(0,y.useLoadSkillList)({logRequest:s.logSkillListConsumeRequest,chatId:l,language:R,customFilterSupportSkill:f?e=>f({skill_id:e.toString(),skill_type:e}):void 0,getSkillListPrefetch:null==A?void 0:A.getSkillListPrefetch,reportParams:{from:"chat_input"},rootLayoutDisplaySkills:h}),H=(0,N.useDeepMemo)(O),W=(0,a.default)(F)?H:F,q=(0,N.useDeepMemo)(U),K=(0,N.useDeepMemo)(G),Q=()=>{z||!H||!q||(0,a.default)(H)||(0,a.default)(q)||((0,c.getChatSlice)("chatInputStore").updateInputSkills(H),(0,c.getChatSlice)("chatInputStore").updateSkillMap(Object.fromEntries(q.map(e=>[e.skill_type,e]))),(0,c.getChatStore)("chatInputStore").setState({recommendSkills:K}),(0,c.getChatStore)("chatGuidanceStore").setState({hideSkillBarInLandingPage:V}))};(0,i.useEffect)(()=>{Q()},[H,q,K,z]);let Y=!!((0,a.default)(D)||!W||(0,a.default)(W))&&(L||z),{isNewChatInputInChat:J}=(0,I.useNewChatInputAb)({chatId:l,chatType:v}),$=(0,i.useMemo)(()=>!j&&!Y&&!g&&!!_&&(!J||!!b),[j,Y,g,J,_,b]),X=(0,P.useDisplaySkills)(),Z=(0,N.useDeepMemo)(_?X:[]),ee=(0,C.useIsLoggedIn)()||(0,B.isStorageLogined)(),et=T(),{enableSkillPin:el=!0}=null!==(t=null==A?void 0:A.featureGating)&&void 0!==t?t:{};return{hasActiveSkill:!!j,activeSkillType:j,visible:$,displaySkills:Z,recommendSkills:ee?et:[],loading:Y,isNarrowMode:"sm"===S,enableSkillPin:el}}},162188:function(e,t,l){l.d(t,{SkillBarBtnClassName:function(){return m},SkillsShowPosition:function(){return f},checkIsSkillBarVisible:function(){return k},useSelectSkillSwitchReport:function(){return S},useSkillBarShowReport:function(){return p},useSkillsReport:function(){return h},useSkillsTrackParams:function(){return v}});var i,n=l(713738),o=l(865607),a=l(230932),r=l(721118),s=l(334312),u=l(777422),c=l(178230),d=l(44502);let m="skill-bar-button",k=()=>document.querySelectorAll(`.${m}`).length>0,p=e=>{let{visible:t,displaySkills:l,reportParams:i}=e;(0,n.useEffect)(()=>{t&&0!==l.length&&(c.logger.persist.log({eventName:"skill_bar_show_start",meta:i}),setTimeout(()=>{k()&&c.logger.persist.log({eventName:"skill_bar_show_success",meta:i})},300))},[])},v=e=>{let{chatId:t}=e;return(0,a.useFeedStore)(e=>{var l;let i=(0,r.conversationSelector)(e,t),n=(0,r.localConversationSelector)(e,t);return{conversation_id:t,bot_id:(0,r.mainConvBotIdSelector)(e),conversation_type:null!==(l=null==i?void 0:i.conversation_type)&&void 0!==l?l:null==n?void 0:n.conversation_type}},o.shallow)},f=((i={}).More="more",i.Default="default",i.KeyboardAt="keyboard_at",i),h=e=>({reportSkillShow:function(t){var l;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Default,n=(0,d.getDisplaySkills)().findIndex(e=>e.skill_type===(null==t?void 0:t.skill_type));(0,u.trackEvent)("chat_action_bar_show",{skill_id:null==t?void 0:null===(l=t.skill_type)||void 0===l?void 0:l.toString(),skill_name:(0,s.getSkillTeaNameByType)(null==t?void 0:t.skill_type),show_position:i,position:-1===n?void 0:n,is_top:(null==t?void 0:t.sticky)?"1":"0",...e})},reportMoreSkillsShow:t=>{(0,u.trackEvent)("chat_action_bar_show",{skill_name:"skills",show_position:"default",is_top:"0",position:t,...e})},reportSkillPinShow:()=>{(0,u.trackEvent)("chat_action_bar_show",{skill_name:"change_index",show_position:"more",is_top:"0",position:(0,d.getDisplaySkills)().length,...e})},reportMoreSkillClick:t=>{(0,u.trackEvent)("chat_action_bar_click",{skill_name:"skills",show_position:"default",is_top:"0",position:t,...e})},reportSkillPinClick:()=>{(0,u.trackEvent)("chat_action_bar_click",{skill_name:"change_index",show_position:"more",is_top:"0",position:(0,d.getDisplaySkills)().length,...e})}}),S=e=>{let{reportSkillShow:t,reportMoreSkillsShow:l,reportSkillPinShow:i,reportMoreSkillClick:n,reportSkillPinClick:o}=h(e);return{reportSkillShow:t,reportMoreSkillsShow:l,reportSkillPinShow:i,reportMoreSkillClick:n,reportSkillPinClick:()=>{o(),(0,u.trackEvent)("skill_switch_click",{button_name:"skill_setting"})},reportSkillSwitchClick:e=>{let{skillType:t}=e;(0,u.trackEvent)("skill_switch_click",{button_name:(0,s.getSkillTeaNameByType)(t)})}}}},412777:function(e,t,l){l.d(t,{checkIsSkillBarVisible:function(){return v.checkIsSkillBarVisible},useChatSkillBarData:function(){return f.useChatSkillBarData},useChatSkillPopover:function(){return T.useChatSkillPopover},SkillActionBtn:function(){return P.SkillActionBtn},useSkillBarShowReport:function(){return v.useSkillBarShowReport},useSkillsTrackParams:function(){return v.useSkillsTrackParams},ChatSkillBar:function(){return O},ChatSkillBarUI:function(){return L},getTeaRecommendNameByTag:function(){return p.getTeaRecommendNameByTag},useAISpaceAttachment:function(){return D.useAISpaceAttachment},SkillIcon:function(){return N.SkillIcon},SkillBarBtnClassName:function(){return v.SkillBarBtnClassName},useSelectSkill:function(){return T.useSelectSkill},useSelectSkillSwitchReport:function(){return v.useSelectSkillSwitchReport},ChatSkillBarGlueComposer:function(){return F},SkillActionBtnWithPlugin:function(){return P.SkillActionBtnWithPlugin},SkillBarActionButton:function(){return P.SkillBarActionButton},useSkillsReport:function(){return v.useSkillsReport},SkillsShowPosition:function(){return v.SkillsShowPosition}});var i=l(713738),n=l(217957),o=l(956801),a=l(922851),r=l(334312),s=l(777422),u=l(690600),c=l(270061),d=l(165994),m=l(239980),k=l(366119),p=l(188355),v=l(162188),f=l(149339),h=l(4137),S=l(812650),_=l.n(S),g=l(695422),b=l(915299),w=l(863733),y=l(559891),x=l(643404),C=l(525029),B=l(356064),N=l(612470),I=l(306080),P=l(566037),T=l(491649),j=l(408470),A=l(10597),R={"chat-footer-action-wrapper":"chat-footer-action-wrapper-jnLqQY",invisible:"invisible-3vuyk7",divider:"divider-j2wxFK"},E=l(345660);let M=(0,y.withSuspense)((0,i.lazy)(()=>(0,x.retryLoadWithFallBack)({fn:()=>Promise.all([l.e("77970"),l.e("13221")]).then(l.bind(l,587901)).then(e=>({default:e.SkillPinModal}))}))),L=(0,i.forwardRef)(function(e,t){var l;let{displaySkills:n,recommendSkills:o,visible:a,trackParams:r,isNarrowMode:s=!1,before:u,bottomSlot:c,enableSkillPin:d,onMoreButtonMouseUp:m,onMoreButtonShow:k,onClickSkillPin:p,onSkillPinShow:f,onSkillShow:S,onClickRecommendClose:y}=e,x=(0,b.useTranslateFn)(),L=(0,i.useRef)(null),D=(0,w.default)(L),{onClickGuestDisabled:F}=(0,A.useGuestInteract)({source:"unlog_click_skills",checkNewGuidanceAb:!0}),{selectSkill:O,reportSelectSkill:U}=(0,T.useSelectSkill)({trackParams:r}),{setMoreVis:G,popoverProps:V}=(0,T.useChatSkillPopover)({width:null==D?void 0:D.width,scene:"skills_menu",bottomSlot:c,trackParams:r,reportSelectSkill:U,selectSkill:O}),[z,H]=(0,i.useState)(!1),[W,q]=(0,i.useState)(!1),K=()=>{q(!0),H(!1),null==p||p()},Q=(0,j.useRecommendSkillbarItem)({skill:null==o?void 0:o[0],recommendTag:null==o?void 0:null===(l=o[0])||void 0===l?void 0:l.tag,onClickRecommendClose:y}),Y=(e,t,l,i)=>{var n;let o={skillType:e.skill_type,skillFrom:g.SkillFrom.ClickSkill,recommendTag:null==i?void 0:i.recommendTag,showPosition:"default",position:t,sticky:null==e?void 0:e.sticky};return(0,E.jsx)(P.SkillActionBtnWithPlugin,{itemClassName:null==i?void 0:i.itemClassName,index:t,skill:e,isNarrowMode:s,onMouseUp:()=>{O(o)},onPluginMouseUp:e=>{let{onClick:t,keepMorePopover:l}=e;U(o),null==t||t(),l||H(!1)},customNode:null==i?void 0:i.customNode,hasTestId:!0},null!==(n=e.skill_type)&&void 0!==n?n:t)};return(0,i.useEffect)(()=>{G(!1)},[a,null==D?void 0:D.width]),(0,v.useSkillBarShowReport)({visible:a,displaySkills:n}),(0,E.jsxs)("div",{ref:e=>{L.current=e,"function"==typeof t?t(e):t&&(t.current=e)},className:_()(R["chat-footer-action-wrapper"],{[R.invisible]:!a}),"data-testid":"chat_footer_skill_bar",children:[(0,E.jsx)(C.SamanthaPopover,{...V,children:(0,E.jsxs)("div",{className:"flex-1 min-w-0 pt-10 pl-8 outline-none flex",children:[null==u?void 0:u(),(null==o?void 0:o.length)?(0,E.jsxs)(E.Fragment,{children:[Y(o[0],-1,o,Q),(0,E.jsx)("div",{className:R.divider})]}):null,(0,E.jsx)(B.OverflowList,{items:n,minVisibleItems:1,overflowRenderer:e=>{if(!(null==D?void 0:D.width)||0===e.length)return;null==k||k(e);let t=(0,E.jsx)(P.SkillBarActionButton,{className:"pr-8",text:x("skills_more_button_title"),icon:(0,E.jsx)(N.SkillIcon,{}),onMouseUp:async()=>{await F()&&(d?H(!0):G(!0),null==m||m())},testId:"skill_bar_button_more"}),l=n.length-e.length;return(0,E.jsx)("div",{className:"flex-shrink-0",children:d?(0,E.jsx)(C.SamanthaPopover,{trigger:"custom",visible:z,position:"topLeft",className:"!rounded-s-radius-xs p-4 min-w-180",content:(0,E.jsx)(I.MoreSkillsSmallContent,{className:"max-h-290 flow-scrollbar overflow-auto",items:e,isNarrowMode:s,onSelectSkill:(e,t,i,n,o)=>{let a={skillType:e,skillFrom:t,showPosition:"more",position:(0,h.default)(n)?void 0:n+l,sticky:o};(null==i?void 0:i.onlyReportEvent)?U(a):O(a),(null==i?void 0:i.keepMorePopover)||H(!1)},onSkillPinShow:f,onClickSkillPin:K,onSkillShow:S}),onClickOutSide:()=>H(!1),children:t}):t})},visibleItemRenderer:(e,t)=>Y(e,t),collapseFrom:"end"})]})}),a&&(0,E.jsx)(M,{visible:W,footerWidth:null==D?void 0:D.width,onCancel:()=>q(!1),onOk:()=>q(!1),reportParams:{show_from:null==r?void 0:r.show_scene}})]})});var D=l(41431);let F=(e,t)=>l=>{let f=t(l),{displaySkills:h,recommendSkills:S,visible:_}=f,{chatId:g,trackParams:b}=l,w=(0,v.useSkillsTrackParams)({chatId:g}),y={show_scene:"bottom_bar",...b,...w},{reportMoreSkillClick:x,reportMoreSkillsShow:C,reportSkillPinClick:B,reportSkillPinShow:N,reportSkillShow:I}=(0,v.useSkillsReport)(y),P=(0,u.default)(),T=(0,i.useRef)(null),[j]=(0,c.default)(T),A=(0,i.useRef)(),R=(0,i.useRef)(),M=(0,i.useRef)(Promise.resolve()),L=(0,d.default)(_);_!==L&&(M.current=Promise.race([new Promise(e=>R.current=e),new Promise(e=>setTimeout(e,3e3))]));let D=(0,i.useRef)(!1);(0,m.default)(()=>{if(!((0,n.default)(null==y?void 0:y.bot_id)||(0,n.default)(null==y?void 0:y.conversation_type))&&h.length&&_&&j){if(!D.current)(async()=>{var e;if(D.current=!0,await M.current,P.current){D.current=!1;return}let t=null!==(e=A.current)&&void 0!==e?e:[];h.forEach(e=>{!t.map(e=>e.skill_type).includes(e.skill_type)&&I(e)}),C(h.length-t.length),D.current=!1})()}},[_,g,h,y,j]),(0,m.default)(()=>{if(!((0,n.default)(null==y?void 0:y.bot_id)||(0,n.default)(null==y?void 0:y.conversation_type))&&(null==S?void 0:S.length)&&_&&j){var e;let t=S[0];(0,s.trackEvent)("chat_action_bar_show",{skill_id:null==t?void 0:null===(e=t.skill_type)||void 0===e?void 0:e.toString(),skill_name:(0,r.getSkillTeaNameByType)(null==t?void 0:t.skill_type),is_recommended:(0,p.getTeaRecommendNameByTag)(t.tag),is_top:"0",show_position:"recommend",...y})}},[_,g,S,y,j]);let{run:F}=(0,k.default)(()=>{var e;null===(e=R.current)||void 0===e||e.call(R)},{wait:300,leading:!1});return(0,i.useEffect)(()=>{_&&0!==h.length&&o.useTracingStore.getState().addDurationPoint("chat_skill_bar_mount")},[_,h]),(0,E.jsx)(e,{ref:T,...f,trackParams:y,onMoreButtonMouseUp:()=>{var e,t;x(h.length-(null!==(t=null===(e=A.current)||void 0===e?void 0:e.length)&&void 0!==t?t:0))},onMoreButtonShow:e=>{A.current=e,F()},onClickSkillPin:()=>{B()},onSkillPinShow:()=>{N()},onSkillShow:e=>{I(e,v.SkillsShowPosition.More)},onClickRecommendClose:e=>{let t=null==e?void 0:e.skill_type;t&&((0,a.getChatService)("chatInputStoreService").then(e=>{null==e||e.disableRecommendSkill(t)}),(0,s.trackEvent)("chat_action_bar_close",{skill_id:null==t?void 0:t.toString(),skill_name:(0,r.getSkillTeaNameByType)(t),is_recommended:(0,p.getTeaRecommendNameByTag)(e.tag),...y}))}})},O=F(L,f.useChatSkillBarData)},734690:function(e,t,l){l.d(t,{InputBottomGuidanceCenterSkillBarShowAllSkillsPlaceholder:function(){return Y},InputBottomGuidanceCenterSkillBarUI:function(){return q},InputBottomGuidanceCenterSkillBarShowAllSkillsPreview:function(){return Q},InputBottomGuidanceCenterSkillBar:function(){return K}});var i=l(713738),n=l(302958),o=l(351415),a=l(251913),r=l(436114),s=l(812650),u=l.n(s),c=l(695422),d=l(956801),m=l(698392),k=l(915299),p=l(198660),v=l(643404),f=l(792642),h=l(863733),S=l(580622),_=l(559891),g=l(525029),b=l(178230),w=l(408470),y=l(306080),x=l(162188),C=l(612470),B=l(566037),N=l(412777),I=l(149339),P=l(10597),T=l(44502),j=l(162771),A=l(229079),R=l(803147),E=l(689368),M=l(165994),L=l(366119),D=l(640380),F=l(491649);let O=e=>{let{trackParams:t}=e,{selectSkill:l,reportSelectSkill:i,onClickGuestDisabled:n}=(0,F.useSelectSkill)({trackParams:t}),o=(0,D.useNavigate)(),a=(0,m.useChatSlice)("launcherRawSettingStore",e=>{let{settingData:t}=e;return(0,A.default)(t,"ab_config.ab_results.guidance_input_skill_behaivior")}),r=(0,M.default)(a),s=a||r,{run:u}=(0,L.default)(async e=>{if(await n()){if("to_landing_page"===s){let t=await (0,E.getSkillBarItemPlugin)(e.skillType);if(null==t?void 0:t.landingPageRoute)return e.skipReport||i(e),o(t.landingPageRoute,{state:{from:R.SkillGuidancePageFrom.CHAT_ACTION_BAR}})}l(e)}},{leading:!0,trailing:!1});return{selectSkill:u,reportSelectSkill:i}};var U=l(754100),G=l(828438),V={"chat-footer-action-wrapper":"chat-footer-action-wrapper-Y8Gz6b",invisible:"invisible-rytTw2","action-button-bottom":"action-button-bottom-PvPF8L","action-button-bottom-round":"action-button-bottom-round-hXvfbZ","action-button-more":"action-button-more-FTaQAS","first-row":"first-row-fmQSE5"},z=l(345660);let H=e=>{let{className:t,onClickSkillPin:l,onSkillPinShow:n}=e,o=(0,k.useTranslateFn)(),a=(0,p.useIsLoggedIn)(),{ref:r,inView:s}=(0,G.useInView)();return(0,i.useEffect)(()=>{s&&(null==n||n())},[s]),a?(0,z.jsx)(B.SkillBarActionButton,{ref:r,onClick:l,itemClassName:u()(V["action-button-bottom"],V["action-button-bottom-round"]),className:u()("pr-0",x.SkillBarBtnClassName,t),text:void 0,icon:(0,z.jsx)(U.default,{}),testId:"skill_bar_button_pin_setting",tooltip:o("web_chat_skill_btn_settings")},"pin_skills_setting"):null},W=(0,_.withSuspense)((0,i.lazy)(()=>(0,v.retryLoadWithFallBack)({fn:()=>Promise.all([l.e("77970"),l.e("13221")]).then(l.bind(l,587901)).then(e=>({default:e.SkillPinModal}))}))),q=(0,i.forwardRef)(function(e,t){var l;let{displaySkills:r,recommendSkills:s,visible:v,trackParams:_,isNarrowMode:N=!1,showAllSkills:I,onSkillShow:T,onSkillPinShow:A,onClickSkillPin:R,onMoreButtonMouseUp:E,onMoreButtonShow:M,onClickRecommendClose:L}=e,D=(0,k.useTranslateFn)(),F=(0,p.useIsLoggedIn)(),{onClickGuestDisabled:U}=(0,P.useGuestInteract)({source:"unlog_click_skills",checkNewGuidanceAb:!0}),G=(0,i.useRef)(null),q=(0,h.default)(G),{selectSkill:K,reportSelectSkill:Y}=O({trackParams:_}),{trimSkills:J}=(0,j.useTrimSkillsHidden)(),$=(0,m.useChatSlice)("chatGuidanceStore",e=>{var t;return!J&&null!==(t=e.hideSkillBarInLandingPage)&&void 0!==t&&t}),[X,Z]=(0,i.useState)(I),[ee,et]=(0,i.useState)(!1),el=(null==s?void 0:s[0])?-1:0,ei=(0,i.useRef)(null),en=(0,f.useIsNarrowScreen)(),[eo,ea]=(0,i.useState)(!1),[er,es]=(0,i.useState)(0),[eu,ec]=(0,i.useState)(0),ed=r.slice(0,er+1+el),em=eo?en?X?r.slice(er+1+el):r.slice(er+1+el,eu+el):X?r:r.slice(0,er+el):r,ek=en?r.slice(eu):r.slice(er),ep=()=>{if(ei.current){var e,t;let l=[...ei.current.children].map((e,t)=>({top:e.getBoundingClientRect().top,index:t}));if(0===l.length)return;let i=Object.entries((0,n.default)(l,"top"));i.sort((e,t)=>Number(e[0])-Number(t[0]));let o=null==i?void 0:null===(e=i[0])||void 0===e?void 0:e[1];(null==o?void 0:o.length)&&(ea(!0),es(o[o.length-1].index));let a=null==i?void 0:null===(t=i[1])||void 0===t?void 0:t[1];(null==a?void 0:a.length)&&ec(a[a.length-1].index)}};(0,i.useEffect)(()=>{ep()},[ei.current,null==s?void 0:s[0],r.length]);let ev=(0,i.useCallback)((0,o.default)(()=>ep(),400),[]);(0,i.useEffect)(()=>{ev()},[null==q?void 0:q.width]),(0,i.useEffect)(()=>(window.addEventListener("resize",ev),()=>window.removeEventListener("resize",ev)),[]);let ef=(0,S.default)(ek),eh=e=>{var t;let{skill:l,index:i,recommendData:n,hasTestId:o,isSkeleton:a}=e,r=!!ek.find(e=>e.skill_type===l.skill_type),s={skillType:l.skill_type,skillFrom:c.SkillFrom.ClickSkill,showPosition:r?"more":"default",position:i,recommendTag:null==n?void 0:n.recommendTag,sticky:null==l?void 0:l.sticky};return(0,z.jsx)(B.SkillActionBtnWithPlugin,{className:"!pr-0",itemClassName:u()(V["action-button-bottom"],null==n?void 0:n.itemClassName),colorful:!0,index:i,skill:l,from:a?void 0:"guidance_center",isNarrowMode:N,onMouseUp:()=>K(s),pluginOnClick:()=>K({...s,skipReport:!0}),onPluginMouseUp:e=>{let{onClick:t}=e;Y(s),null==t||t()},customNode:null==n?void 0:n.customNode,hasTestId:o},-1===i?"recommend":null!==(t=l.skill_type)&&void 0!==t?t:i)},eS=F?(0,z.jsx)(H,{isNarrowMode:N,className:"!-ml-52",onClickSkillPin:()=>{et(!0),null==R||R()},onSkillPinShow:A}):null;(0,x.useSkillBarShowReport)({visible:v,displaySkills:r});let e_=(0,i.useCallback)((0,a.default)(()=>{b.logger.persist.success({eventName:"guidance_page_show",meta:{success:"1",new_guidance:"1",is_skill_bar_bottom:"1"}})}),[]);(0,i.useEffect)(()=>{v&&0!==r.length&&(d.useTracingStore.getState().addDurationPoint("guidance_group_mount"),setTimeout(()=>{(0,x.checkIsSkillBarVisible)()&&e_()},300))},[v,r]);let eg=u()({invisible:$},"flex-1 min-w-0 outline-none flex justify-center gap-12 flex-wrap"),eb=(0,w.useRecommendSkillbarItem)({skill:null==s?void 0:s[0],recommendTag:null==s?void 0:null===(l=s[0])||void 0===l?void 0:l.tag,onClickRecommendClose:L}),ew=(null==s?void 0:s[0])?(0,z.jsxs)("div",{className:"flex flex-shrink-0 items-center",children:[eh({skill:null==s?void 0:s[0],index:-1,recommendData:eb}),(0,z.jsx)("div",{className:"ml-12 h-16 w-1 flex-shrink-0 bg-s-color-border-tertiary"})]}):null;return(0,z.jsxs)("div",{ref:e=>{G.current=e,"function"==typeof t?t(e):t&&(t.current=e)},className:u()(V["chat-footer-action-wrapper"],{[V.invisible]:!v,"!h-0 invisible":$}),"data-testid":"chat_footer_skill_bar",children:[(0,z.jsxs)("div",{ref:ei,className:u()(eg,"absolute opacity-0 select-none pointer-events-none z-0"),children:[ew,r.map((e,t,l)=>eh({skill:e,index:t,recommendData:t===l.length-1&&eS?{itemClassName:"!mr-52"}:void 0,isSkeleton:!0}))]}),en&&(0,z.jsxs)("div",{className:u()(eg,"overflow-hidden -mt-12 pt-12 h-54 mb-12",V["first-row"]),children:[ew,ed.map((e,t)=>eh({skill:e,index:t,hasTestId:!0}))]}),X?(0,z.jsxs)("div",{className:eg,children:[!en&&ew,em.map((e,t,l)=>eh({skill:e,index:t,recommendData:t===l.length-1&&eS?{itemClassName:"!mr-52"}:void 0,hasTestId:!0})),eS]}):(0,z.jsxs)("div",{className:u()(eg,"-mt-12 pt-12 h-54 overflow-hidden"),children:[!en&&ew,em.map((e,t)=>eh({skill:e,index:t,hasTestId:!0})),(()=>{if(!(null==q?void 0:q.width)||0===ek.length)return;null==M||M(ek);let e={className:x.SkillBarBtnClassName,itemClassName:u()(V["action-button-bottom"],V["action-button-more"]),text:D("skills_more_button_title"),icon:(0,z.jsx)(C.SkillIcon,{}),testId:"skill_bar_button_more"},t=(0,z.jsx)(B.SkillBarActionButton,{...e,onMouseUp:async()=>{await U()&&(J||(Z(!0),ef.current.map(e=>null==T?void 0:T(e))),null==E||E())}});return J?(0,z.jsx)(g.SamanthaPopover,{position:"topLeft",trigger:"click",className:"p-4",content:(0,z.jsx)(y.MoreSkillsSmallContent,{className:`
                flow-scrollbar max-h-290 w-160 overflow-auto pr-[calc(7px-var(--scrollbar-width))]
              `,items:ek,onSkillShow:T,onSelectSkill:(e,t,l,i)=>{let n={skillType:e,skillFrom:t,showPosition:"more",position:i,skipReport:null==l?void 0:l.skipReport};(null==l?void 0:l.onlyReportEvent)?Y(n):K(n)}}),children:(0,z.jsx)("div",{children:t})}):t})()]}),X&&(0,z.jsx)(W,{InLandingPageAndEnableToggleSkillbar:!0,visible:ee,footerWidth:null==q?void 0:q.width,onCancel:()=>et(!1),onOk:()=>et(!1),PreviewContent:Q,reportParams:{show_from:null==_?void 0:_.show_scene}})]})}),K=(0,N.ChatSkillBarGlueComposer)(q,I.useChatSkillBarData);function Q(e){let{className:t=u()("pointer-events-none"),containerClassName:l,displaySkills:i}=e,n=(0,f.useIsNarrowScreen)(),o=(e,t)=>{var l;return(0,z.jsx)(B.SkillActionBtnWithPlugin,{className:u()("!pr-0"),itemClassName:V["action-button-bottom"],colorful:!0,index:t,skill:e,isNarrowMode:n,onPluginMouseUp:r.default},null!==(l=e.skill_type)&&void 0!==l?l:t)};return(0,z.jsx)("div",{className:u()(V["chat-footer-action-wrapper"],t),children:(0,z.jsx)("div",{className:u()("flex-1 min-w-0 outline-none flex justify-center flex-wrap gap-12",l),children:null==i?void 0:i.map((e,t)=>o(e,t))})})}let Y=e=>{let{className:t,containerClassName:l}=e,i=(0,T.useDisplaySkills)();return(0,z.jsx)(Q,{displaySkills:i,className:t,containerClassName:l})}},162771:function(e,t,l){l.d(t,{useTrimSkillsHidden:function(){return r}});var i=l(865607),n=l(229079),o=l(368107),a=l(698392);let r=()=>{let[e,t,l,r]=(0,a.useChatSlice)("launcherRawSettingStore",e=>{let{settingData:t,settingStatus:l}=e;return[l===o.LaunchStatus.Loading,(0,n.default)(t,"ab_config.ab_results.trim_landing_page_skills"),(0,n.default)(t,"ab_config.ab_results.trim_landing_page_skill_names"),"1"===(0,n.default)(t,"ab_config.ab_results.trim_landing_page_nav_new_doc_name")]},i.shallow);return{loading:e,trimSkills:t,trimSkillNames:l,navNewDocName:r}}},408470:function(e,t,l){l.d(t,{useRecommendSkillbarItem:function(){return c}}),l(713738);var i=l(430261),n=l(345660),o=(0,i.IconFactory)((0,n.jsx)(e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11-4.925 11-11 11M8 11a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2z"})}),{})),a=l(915299),r=l(710733),s=l(214902),u={"recommend-action-button":"recommend-action-button-HYXBgc","recommend-close":"recommend-close-wuMO57","recommend-tag":"recommend-tag-ugkVmd"};let c=e=>{let{skill:t,recommendTag:l,onClickRecommendClose:i}=e,c=!!l,d=(0,a.useTranslateFn)(),m=l===r.RecommendSkillTag.New?d("input_skillbar_promote_tag_new"):l===r.RecommendSkillTag.Recommend?d("input_skillbar_promote_tag_recommend"):l===r.RecommendSkillTag.Upgrade?d("image_entry_tag_upgrade"):"";if(t&&l)return{isRecommend:c,recommendTag:l,itemClassName:c?u["recommend-action-button"]:void 0,customNode:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:u["recommend-tag"],children:m}),(0,n.jsx)(s.SamanthaTooltip,{content:d("input_skillbar_promote_remove_tooltip"),children:(0,n.jsx)("button",{className:u["recommend-close"],onClick:e=>{null==i||i(t),e.stopPropagation()},onMouseUp:e=>e.stopPropagation(),children:(0,n.jsx)(o,{})})})]}):void 0}}},700086:function(e,t,l){l.d(t,{isDocPage:function(){return i}});let i=()=>{var e;return!!(null===(e=location.pathname)||void 0===e?void 0:e.startsWith("/doc/"))}},801880:function(e,t,l){l.d(t,{useEnableSuperTaskAB:function(){return v},useIsClaudeChain:function(){return f}});var i=l(713738),n=l(251913),o=l(913821),a=l(214071),r=l(165482),s=l(38848),u=l(42869),c=l(700086);let d="super-task-config-key",m=()=>(0,r.parseJSON)(s.FlowLocalStorage.getItem(d),void 0),k=e=>{s.FlowLocalStorage.setItem(d,e?(0,r.stringifyJSON)(e):"")},p=(0,n.default)(()=>{let e=e=>{let{taskAbConfig:t,setSuperTaskAbConfig:l}=u.useSuperTaskStore.getState(),i=m();!(0,o.default)(t,i)&&((0,a.default)(t)?e&&i&&!(0,a.default)(i)&&l(i):k(t))};e(!0),u.useSuperTaskStore.subscribe((t,l)=>{t.taskAbConfig===l.taskAbConfig||(0,o.default)(t.taskAbConfig,l.taskAbConfig)||e(!1)})}),v=()=>{let{taskAbConfig:e}=(0,u.useSuperTaskStore)(e=>({taskAbConfig:e.taskAbConfig})),t=(0,i.useMemo)(()=>m(),[]);(0,i.useEffect)(()=>{p()},[]);let l=(0,a.default)(e)?t:e;return{loading:!l,enableSuperTask:!!(null==l?void 0:l.enable)&&!(0,c.isDocPage)(),enableClaude:!!(null==l?void 0:l.route_flowpc)}},f=()=>{let e=v();return{loading:e.loading,value:e.enableClaude}}},816295:function(e,t,l){l.d(t,{afterAppInitLazyComponent:function(){return u},afterAppInitLazyExec:function(){return d},afterAppInitLazyLoad:function(){return c}});var i=l(713738),n=l(201272),o=l(643404),a=l(39199);let r=()=>{if("undefined"==typeof window)return!1;let{appRouteFilterFn:e}=a.usePerfStore.getState();return!!e&&e(location.pathname)},s=e=>{let t;return new Promise(l=>{if(!r())return l(!0);if(a.usePerfStore.getState().appInitEventEmitted){l(!0);return}function i(){clearTimeout(t),l(!0)}t=setTimeout(()=>{n.DeprecatedFlowEvent.off("app.init",i),l(!0)},e),n.DeprecatedFlowEvent.once("app.init",i)})},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return i.lazy(async()=>(await s(t),(0,o.retryLoadWithFallBack)({fn:e})))},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return await s(t),e()},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;await s(t),e()}}}]);
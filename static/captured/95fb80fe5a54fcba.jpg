"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["31437"],{682830:function(e,t,a){a.d(t,{isCodeLink:function(){return u},isSSHLink:function(){return d},isValidGithubUrl:function(){return r}});let n=/^https?:\/\/(www\.)?github\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,i=/^git@github\.com:[a-zA-Z0-9_-]+\/[a-zA-Z0-9_.-]+\.git$/,r=e=>n.test(e)||i.test(e),o=/^https?:\/\/(www\.)?gitee\.com\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,l=/^https?:\/\/(www\.)?gitcode\.net\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,s=/^https?:\/\/(www\.)?gitlink\.org\.cn\/[\w\-]+(\/[\w\-\.]+)?(\/.*)?$/,u=e=>o.test(e)||l.test(e)||s.test(e),c=/^git@[\w\.\-]+:[\w\-]+(\/[\w\-\.]+)?(\.git)?$/,d=e=>c.test(e)&&!i.test(e)},761835:function(e,t,a){a.d(t,{attachmentStatesSelector:function(){return h},getAttachmentStates:function(){return S},getAttachments:function(){return p},getPreGeneratedLocalMessageIdWithDefault:function(){return C},useAttachmentActions:function(){return I},useAttachmentKeys:function(){return f},useAttachmentStates:function(){return m},useAttachmentUploadConfig:function(){return g},useAttachments:function(){return v},usePreGeneratedLocalMessageId:function(){return A}});var n=a(453157),i=a(913821),r=a(144993),o=a(698392),l=a(922851),s=a(682830),u=a(249254),c=a(165876);let d=(e,t)=>{var a,n,i;let{chatId:r,skillType:o="default"}=t;return null!==(i=null===(n=e.attachmentsMap)||void 0===n?void 0:null===(a=n[r])||void 0===a?void 0:a[`_${o}`])&&void 0!==i?i:[]},p=e=>d((0,o.getChatSlice)("attachmentsStore"),e),v=e=>(0,o.useChatSlice)("attachmentsStore",t=>d(t,e)),h=(e,t)=>e.map(e=>{var a,n,i,o,l,d;let p=(0,c.isLink)(e)&&(0,s.isValidGithubUrl)(e.url)&&e.localKey;if((0,c.isLink)(e)&&!p)return{type:"link",fileName:e.url,fileKey:"",url:e.url,uploadPercent:100,status:r.AttachmentStatus.Normal};if((0,c.isRemote)(e))return{type:"remote",fileName:e.fileName,fileKey:e.key,size:e.size,uploadPercent:100,status:r.AttachmentStatus.Normal};let v=t.preprocessTaskMap[e.localKey]||t.preprocessDirTaskMap[e.localKey];if(!v)return{type:"file",fileName:(0,u.pickAsString)("name")(e.file),fileKey:"",uploadPercent:0,status:r.AttachmentStatus.Retry};let h=v.key||"",S=[{key:h,image_thumb:{url:null!==(l=null==v?void 0:v.blobUrl)&&void 0!==l?l:"",width:0,height:0,format:""},image_ori:{url:null!==(d=null==v?void 0:v.blobUrl)&&void 0!==d?d:"",width:0,height:0,format:""},feedback:"",request_id:"",description:""}],m=(null===(a=e.file)||void 0===a?void 0:a.size)||(null==e?void 0:e.size),{fileName:g}=e||{},{type:f}=e;return{type:f,fileName:"string"==typeof g?g:"directory"===f?e.dirName:p?(0,u.pickAsString)("name")(v.repoInfo||{}):(0,u.pickAsString)("name")(e.file),fileKey:h,isRepo:v.isRepo,repoInfo:v.repoInfo,size:m,imageList:S,uploadPercent:v.percent,status:v.failed?r.AttachmentStatus.Retry:v.loading?r.AttachmentStatus.Uploading:r.AttachmentStatus.Normal,parseState:v.parseState,parsePercent:v.parsePercent,reviewState:v.reviewState,uploadWay:null===(n=v.ctx)||void 0===n?void 0:n.uploadWay,localKey:v.localKey,md5:v.md5,imageWidth:null===(i=v.uploadResult)||void 0===i?void 0:i.ImageWidth,imageHeight:null===(o=v.uploadResult)||void 0===o?void 0:o.ImageHeight,parsedCharCount:v.parsedCharCount}}),S=e=>h(p(e),(0,o.getChatSlice)("attachmentUploadStore")),m=e=>{let t=v(e);return(0,o.useChatSlice)("attachmentUploadStore",e=>h(t,e),i.default)},g=()=>(0,o.useChatSlice)("attachmentUploadStore",e=>e.attachmentUploadConfig,n.shallow),f=e=>{let t=v(e);return(0,o.useChatSlice)("attachmentUploadStore",e=>t.map(t=>{if((0,c.isLink)(t))return;if((0,c.isRemote)(t))return t.key;let a=e.preprocessTaskMap[t.localKey];return(null==a?void 0:a.key)||void 0}),n.shallow)},A=e=>{let{chatId:t,skillType:a="default"}=e;return(0,o.useChatSlice)("attachmentUploadStore",e=>{var n;return null===(n=e.preGeneratedLocalMessageIdMap[t])||void 0===n?void 0:n[`_${a}`]},n.shallow)},_=e=>{var t;let{chatId:a,skillType:n="default"}=e;return null===(t=(0,o.getChatSlice)("attachmentUploadStore").preGeneratedLocalMessageIdMap[a])||void 0===t?void 0:t[`_${n}`]},C=async e=>{if(!_(e)){let t=await (0,l.getChatService)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)}return _(e)},I=e=>{let t=t=>async a=>{var n;let i=await (0,l.getChatService)("attachmentsStoreService");return null==i?void 0:null===(n=i[t])||void 0===n?void 0:n.call(i,{...e,...a})};return{clearAttachments:t("clearAttachments"),addAttachment:t("addAttachment"),addDirAttachment:t("addDirAttachment"),addLink:t("addLink"),addGitHubLink:t("addGitHubLink"),addRemoteAttachment:t("addRemoteAttachment"),clearAllAttachments:t("clearAllAttachments"),clearChatAttachments:t("clearChatAttachments"),deleteAttachment:t("deleteAttachment"),replaceLink:t("replaceLink"),reuploadAttachment:t("reuploadAttachment"),getPreGeneratedLocalMessageId:()=>C(e),updatePreGeneratedLocalMessageId:async()=>{let t=await (0,l.getChatService)("attachmentUploadStoreService");null==t||t.updatePreGeneratedLocalMessageId(e)},addAttachmentDirectly:t("addAttachmentDirectly")}}},94396:function(e,t,a){a.d(t,{eventEmitter:function(){return n}});let n=new(a(154922)).default},338354:function(e,t,a){a.d(t,{sendMessageEndPromisify:function(){return r}});var n=a(94396),i=a(382757);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((a,r)=>{var o,l;let s=null===(o=e[0])||void 0===o?void 0:o.localConversationId,u=null===(l=e[0])||void 0===l?void 0:l.conversationId;(0,i.sendSupportedMessage)(e,t).then(()=>n.eventEmitter.on("on_send_message_end",e=>{(u===e.conversation_id||s===e.local_conversation_id)&&a(e)})).catch(e=>{r(e)})})}},884962:function(e,t,a){a.d(t,{useOpenCodeCanvas:function(){return l}});var n=a(713738),i=a(57392),r=a(666196),o=a(698392);let l=()=>{let e=(0,o.useChatSlice)("chatViewCoreStore",e=>{var t;return(null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId)||""}),t=(0,r.useChatService)("chatViewService"),a=(0,n.useRef)(0);return{openFileByKey:(n,r,o,l)=>{let{attachments:s=[],messageId:u="",conversationId:c="",activePath:d}=r||{};t.openCanvasPanel({messageId:u,conversationId:c,canvasLayoutState:i.CanvasLayoutState.CANVAS_ONLY,fileKey:n,attachments:s,isCodeFile:!0,activePath:d,canvasVersion:a.current,chatId:e,teaCtx:o},l),a.current+=1},openCodeContent:(a,n,r,o,l)=>{let{messageId:s="",conversationId:u="",autoRun:c,autoQuote:d=!0}=r||{};t.openCanvasPanel({messageId:s,conversationId:u,canvasLayoutState:i.CanvasLayoutState.CANVAS_ONLY,fileKey:"",attachments:[],modelGenContent:{code:a,language:n},isCodeFile:!0,chatId:e,autoQuote:d,teaCtx:o,autoRun:c},l)},openRepo:(n,r,o)=>{let{id:l,name:s,url:u,activePath:c}=n||{};t.openCanvasPanel({messageId:"",conversationId:"",canvasLayoutState:i.CanvasLayoutState.CANVAS_ONLY,fileKey:l,canvasVersion:a.current,activePath:c,attachments:[{key:l,type:"link",identifier:l,local_key:l,name:s,url:u,repo_id:l}],isCodeFile:!0,chatId:e,teaCtx:r},o),a.current+=1},openArtifact:(e,a,n,r,o,l)=>{let{messageId:s="",conversationId:u="",isAutoOpen:c}=r||{},{version:d}=n||{};t.openCanvasPanel({conversationId:u,messageId:s,artifactId:e,artifactKey:a,defaultArtifacts:void 0,isCodeFile:!0,canvasLayoutState:i.CanvasLayoutState.CANVAS_ONLY,chatId:u,version:d,isAutoOpen:c,artifactMeta:n,teaCtx:o},l,c)}}}},85736:function(e,t,a){var n;a.d(t,{DeepThinkingActiveType:function(){return i},getDeepThinkingActiveType:function(){return r}});let i=((n={}).Auto="2",n.On="1",n.Off="0",n),r=(e,t)=>{let{deepThinkingAutoCotMode:a,deepThinkingSwitchUseAutoCot:n,deepThinkingSwitchValue:r,showDeepThinkingBinaryMode:o}=e;return t?i.Off:("optional"===a&&n||"hidden_force"===a)&&!o?i.Auto:r?i.On:i.Off}},698897:function(e,t,a){a.d(t,{useParseUrlActions:function(){return E}});var n=a(713738),i=a(453157),r=a(85736),o=a(884962),l=a(42869),s=a(830599),u=a(845647),c=a(956801),d=a(666196),p=a(698392),v=a(922851),h=a(275821),S=a(761835),m=a(604889),g=a(524129),f=a(165482),A=a(640380),_=a(64206),C=a(227587),I=a(178230),y=a(949932),k=a(828246),w=a(228494);async function P(e){return Promise.resolve(!1)}var T=a(226982),L=a(47563);let R={matcher:e=>w.EUrlActionName.Send_Message===e,handler:async function(e){var t,a,n;let{payload:i,sendMessage:r,toggleDeepThink:o,options:l,updateActiveSkillTypeMap:u,openReadCanvasByFile:c,openReadCanvasByLink:d,openCodingCanvasByKey:p,openCodingCanvasByRepo:h,updateRefContents:S,toggleSuperTask:m}=e;if(!i)return;let g=Array.isArray(i)?i:[i];if(((null==l?void 0:l.deepThinkingSwitchValue)!==void 0||(null==l?void 0:l.deepThinkingActiveType)!==void 0)&&await o({deepThinkingSwitchValue:l.deepThinkingSwitchValue,deepThinkingActiveType:l.deepThinkingActiveType}),g.some(e=>{var t;let a=(0,f.parseJSON)(null==e?void 0:null===(t=e.extraExt)||void 0===t?void 0:t.input_skill,{}),n=T.SkillType.DesExtSkillSuperTask;return(null==a?void 0:a.skill_type)===n||(null==a?void 0:a.skill_type)===`${n}`})){let e=null==l?void 0:null===(n=l.superTaskStatus)||void 0===n?void 0:n.safeToken;if(!(e&&await P(e))){L.SamanthaToast.error("\u68C0\u6D4B\u5230\u8C46\u5305\u8D85\u80FD\u6A21\u5F0F\u975E\u6B63\u5E38\u8BBF\u95EE\uFF0C\u8BF7\u6CE8\u610F\u6D4F\u89C8\u7684\u7F51\u7AD9\u662F\u5426\u5B89\u5168"),I.logger.persist.error({eventName:"super_task_attack_risk",error:Error("super_task_attack_risk"),meta:{token:e}}),(0,v.getChatService)("chatNavigateService").then(e=>null==e?void 0:e.navigateToChatGuidancePage());return}}if((null==l?void 0:l.superTaskStatus)&&m(l.superTaskStatus||{switchValue:s.ChatInputModeEnum.SuperTask,taskMode:s.SuperTaskModeEnum.Simple}),(null==l?void 0:l.activeSkill)&&(null==l?void 0:l.activeSkill.skillId)&&(null==l?void 0:l.activeSkill.skillId)&&(null==l?void 0:l.activeSkill.skillFrom)&&u(null==l?void 0:l.activeSkill.skillId,null==l?void 0:l.activeSkill.skillFrom),null==l?void 0:l.openReadCanvas){let{link:e,fileName:t,uri:a}=l.openReadCanvas;a&&t?c(a,{fileName:t}):e&&d(e)}if(null==l?void 0:l.openCodingCanvas){let{key:e,repoId:t,repoName:a,repoUrl:n,type:i}=l.openCodingCanvas;e?p(e,{attachments:[{type:i,key:e}]}):t&&a&&n&&h({id:t,name:a,url:n})}if((null==l?void 0:null===(t=l.setRefContent)||void 0===t?void 0:t.skillId)&&Array.isArray(null==l?void 0:null===(a=l.setRefContent)||void 0===a?void 0:a.refContents)){let e=l.setRefContent.refContents.map(e=>{let{type:t,fileKey:a,fileName:n,link:i,text:r}=e;return{type:t,fileKey:a,fileName:n,link:i,text:r}});S(l.setRefContent.skillId,e)}r(g)}};var D=a(339641),M=a(506979);let N=e=>/\/chat(\/\d*)?$/.test(e);function E(e){var t;let{onReadyToParse:a=()=>Promise.resolve(),isLazy:w=!1,plugins:P,phase2StartTime:T,resolveLocalConversationId:L,sendMessage:E}=e,O=(0,A.useNavigate)(),V=(0,p.useChatSlice)("chatViewCoreStore",e=>{var t,a,n,i;return{chatId:null!==(n=null===(t=e.currentChatViewConfig)||void 0===t?void 0:t.chatId)&&void 0!==n?n:"",chatType:null!==(i=null===(a=e.currentChatViewConfig)||void 0===a?void 0:a.chatType)&&void 0!==i?i:u.ChatType.ThreadLocalConversation}},i.shallow),F=(0,d.useChatService)("chatMessageService"),$=(0,d.useChatService)("chatViewService"),U=(0,d.useChatService)("chatInputService"),{openFileByKey:b,openRepo:K,openArtifact:G}=(0,o.useOpenCodeCanvas)(),{openFileByKey:B,openFileByLink:z}=(0,h.useOpenPdfImmersive)({chatViewConfig:V}),{openImageCanvas:H}=function(){let e=(0,d.useChatService)("chatViewService");return{openImageCanvas:t=>{var a;let{image:n,canvasLayoutState:i,imageCanvasInitStatus:r}=t,{uri:o,url:l,name:s,width:u,height:c,initialEditTool:d}=n||{};I.logger.persist.info({eventName:"UrlAction_OpenImageCanvasStart"});let p={url:l,format:(0,y.getFileExt)(s||""),width:null!=u?u:200,height:null!=c?c:200},v={key:o,image_raw:p,image_ori:p,feedback:"",request_id:"",description:""};null==e||null===(a=e.openCanvasPanel)||void 0===a||a.call(e,{conversationId:"",messageId:"",canvasLayoutState:i,imageEditorProps:{imageCanvasInitStatus:r,image:v,autoScrollIntoViewMessageId:void 0,initialEditTool:d||"default",imageList:[v],editImageConfig:{},isLocalUploadImage:!0,skillId:g.SkillType.ImageGeneration.toString(),skillName:"images_generation",onClose:()=>{null==e||e.closeCanvasPanel()}}})}}}(),[x,W]=(0,_.useSearchParams)(),J=(0,n.useRef)(!1),Y=(0,n.useRef)(""),q=null===(t=x.get("action"))||void 0===t?void 0:t.trim(),Z=x.get("preSendId"),j=(0,n.useRef)(Date.now()),Q=(0,n.useRef)(),X=(0,n.useRef)(),ee=()=>{if(N(Y.current)){let{pfTrackParams:e,pluginId:t}=X.current||{};e&&c.useTracingStore.setState({urlActionDuration:{urlActionNavEndTime:Date.now(),urlActionCanvasEventName:e.phaseCanvasRenderEventName||`urlparseplugin_canvasrender_duration${t?`_${t}`:""}`}})}},et={...$,openCanvasPanel:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];$.openCanvasPanel(...t),ee()}},ea=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];B(...t),ee()},en=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];z(...t),ee()},ei=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];b(...t),ee()},er=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];K(...t),ee()},eo=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];G(...t),ee()},el=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];Q.current||(Q.current=Date.now());let n=null==t?void 0:t[0];if("string"==typeof n){let e=n.split("?"),a=e[0],i=new URLSearchParams(e[1]||""),r=new URLSearchParams(x);for(let[e,t]of(r.delete("action"),i))r.set(e,t);t[0]=`${a}?${r.toString()}`}return O(...t)},es=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return Q.current||(Q.current=Date.now()),(null!=E?E:F.sendMessage)(...t)},eu=e=>{let{deepThinkingSwitchValue:t,deepThinkingActiveType:a}=e,n={deepThinkingSwitchValue:"boolean"==typeof t?t:a===r.DeepThinkingActiveType.On,deepThinkingSwitchUseAutoCot:a===r.DeepThinkingActiveType.Auto};return new Promise(e=>{let t=(0,p.getChatStore)("deepThinkingControlStore");if("persist"in t&&!t.persist.hasHydrated()){var a;let i=!0;null===(a=t.persist)||void 0===a||a.onFinishHydration(()=>{i&&t.setState(n),i=!1,e(!0)});return}t.setState(n),e(!0)})},ec=e=>{e&&l.useSuperTaskStore.getState().setStatusByConvId("",{taskModeValue:e.taskMode||s.SuperTaskModeEnum.Simple,switchValue:e.switchValue||s.ChatInputModeEnum.Base})},ed=(e,t)=>{let a=(0,p.getChatStore)("chatInputStore").getState();L&&a.updateActiveSkillTypeMap(L,e,t)},{addAttachmentDirectly:ep}=(0,S.useAttachmentActions)({chatId:null!=L?L:""}),ev=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,p.getChatStore)("chatViewCoreStore").setState({currentLocalConversationId:L}),ep(...t)},eh=(e,t)=>{L&&(0,v.getChatService)("refContentStoreService").then(a=>{null==a||a.setRefContents({refContents:t,channel:`skill_${e}`},L)})};(0,n.useEffect)(()=>{let e=(0,f.parseJSON)(q,null);if(!e)return;let{pfTrackParams:t,pluginId:a}=e;return t&&!w&&I.logger.persist.info({eventName:t.phase1EventName||`urlparseplugin_phase1_duration_${a}`,meta:{duration:Date.now()-t.startJumpTime,isLazy:!!w,pluginId:a}}),t&&w&&T&&I.logger.persist.info({eventName:t.phase2EventName||`urlparseplugin_phase2_duration_${a}`,meta:{duration:Date.now()-T,isLazy:!!w,pluginId:a}}),()=>{!N(Y.current)&&(t&&Q.current&&I.logger.persist.info({eventName:t.phaseNavEventName||`urlparseplugin_phasenav_duration${a?`_${a}`:""}`,meta:{duration:Date.now()-Q.current,isLazy:!!w}}),t&&c.useTracingStore.setState({urlActionDuration:{urlActionNavEndTime:Date.now(),urlActionChatRenderEventName:t.phaseChatRenderEventName||`urlparseplugin_chatrender_duration${a?`_${a}`:""}`,urlActionCanvasEventName:t.phaseCanvasRenderEventName||`urlparseplugin_canvasrender_duration${a?`_${a}`:""}`}}))}},[]);let eS=(0,C.useLocation)();(0,n.useEffect)(()=>{Y.current?Y.current!==eS.pathname&&(J.current=!1):Y.current=eS.pathname},[eS]);let em=()=>{x.delete("action"),["/chat/new-thread","/chat/url-action"].includes(Y.current)||W(x,{replace:!0})};return(0,n.useEffect)(()=>{if(!q||J.current)return;let e=(0,f.parseJSON)(q,null);if(X.current=e,J.current=!0,!e.pluginId){I.logger.persist.info({eventName:"UrlParser_actionDataInvalid"});return}let{pluginId:t,payload:n}=e,i=[...P||[],R].find(e=>e.matcher(t));if(!i)return;let{prehandler:r=()=>Promise.resolve(void 0)}=i;(Z?(0,k.receivePreSendMessageConversationId)(Z):Promise.resolve()).then(async t=>{let o=null==t?void 0:t.conversationId;o||await a(),J.current=!0,Promise.all([r({payload:n,preSendConversationId:o})]).then(t=>{let[a]=t;!function(e,t,a,n){let{pluginId:i,payload:r,pfTrackParams:o,options:l}=e;i.startsWith("AISpace")&&(0,D.setVisitPage)(M.VisitPage.AI_SPACE),setTimeout(async()=>{null==n||n();try{var e;let n=Date.now();await (null==t?void 0:null===(e=t.handler)||void 0===e?void 0:e.call(t,{payload:r,options:l,...a,phase3EndTime:Date.now()})),I.logger.persist.info({eventName:o.phase4EventName||`urlparseplugin_phase4_duration${i?`_${i}`:""}`,meta:{duration:Date.now()-n}})}catch(e){I.logger.persist.info({eventName:`UrlParser_PluginFail_${i}`,meta:{pluginId:i}})}})}(e,i,{prehandlerData:a,navigate:el,openImageCanvas:H,sendMessage:es,openReadCanvasByFile:(e,t)=>{let{fileName:a,originUri:n}=t;null==ea||ea(e,"PDF",{pdf:{fileName:a,realFileKey:n}},{skillType:g.SkillType.ReadPDF})},openReadCanvasByLink:e=>{null==en||en(e,{attchmentType:"pdf"},{skillType:g.SkillType.ReadPDF})},chatInputService:U,chatViewService:et,getChatSlice:p.getChatSlice,getChatService:v.getChatService,useChatRef:m.useChatRef,toggleDeepThink:eu,updateActiveSkillTypeMap:ed,openCodingCanvasByKey:ei,openCodingCanvasByRepo:er,updateRefContents:eh,openCodingArtifact:eo,toggleSuperTask:ec,addAttachmentDirectly:ev,preSendConversationId:o},()=>{em();let{pfTrackParams:t,pluginId:a}=e;t&&I.logger.persist.info({eventName:t.phase3EventName||`urlparseplugin_phase3_duration_${a}`,meta:{duration:Date.now()-j.current,isLazy:!!w,pluginId:a}})})})})},[q]),null}},828246:function(e,t,a){a.d(t,{preSendMessageHelper:function(){return i},receivePreSendMessageConversationId:function(){return r}});var n=a(338354);let i=async(e,t,a)=>{let i=await (0,n.sendMessageEndPromisify)(t,a);if((null==i?void 0:i.conversation_id)&&"function"==typeof BroadcastChannel){let t=new BroadcastChannel(e),a=0,n=setInterval(()=>{t.postMessage({conversationId:i.conversation_id}),++a>60&&(clearInterval(n),t.close())},50);t.onmessage=a=>{var i;(null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.receivedId)===e&&(clearInterval(n),t.close())}}return null==i?void 0:i.conversation_id},r=e=>new Promise(t=>{if("function"==typeof BroadcastChannel){let a=new BroadcastChannel(e);a.onmessage=n=>{var i;let r=null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.conversationId;r&&"undefined"!==r?t({conversationId:n.data.conversationId}):t({}),a.postMessage({receivedId:e}),a.close()},setTimeout(()=>{a.close(),t({})},3e3)}else t({})})},228494:function(e,t,a){a.d(t,{EUrlActionName:function(){return n}});var n={Send_Message:"Send_Message",AISpace_FileAIRead:"AISpace_FileAIRead",AISpace_WordFileAIRead:"AISpace_WordFileAIRead",AISpace_LinkAIRead:"AISpace_LinkAIRead",AISpace_ImageAskDoubao:"AISpace_ImageAskDoubao",AISpace_ImageCreate:"AISpace_ImageCreate",AISpace_ImageEdit:"AISpace_ImageEdit",AISpace_FileAskDoubao:"AISpace_FileAskDoubao",AISpace_LinkAskDoubao:"AISpace_LinkAskDoubao",AISpace_ExcelCodeInterpreter:"AISpace_ExcelCodeInterpreter",AISpace_ExcelAIRead:"AISpace_ExcelAIRead",AISpace_DocCanvasOpen:"AISpace_DocCanvasOpen",PC_ImageCanvasOpen:"PC_ImageCanvasOpen",PC_ChatOpen:"PC_ChatOpen",Code_Artifacts_Share:"Code_Artifacts_Share",Code_Artifacts:"Code_Artifacts",Code_Canvas_Open_Repo:"Code_Canvas_Open_Repo",AISpace_MinuteMettingOpen:"AISpace_MinuteMettingOpen",AISpace_VideoRead:"AISpace_VideoRead",AISpace_AudioRead:"AISpace_AudioRead",AISpace_VideoSummary:"AISpace_VideoSummary",AISpace_AudioSummary:"AISpace_AudioSummary",AISpace_VideoMindMap:"AISpace_VideoMindMap",AISpace_AudioMindMap:"AISpace_AudioMindMap",ReadPDF_LatestReading:"ReadPDF_LatestReading",PptCanvasOpen:"PptCanvasOpen",AISpace_Coding_File:"AISpace_Coding_File",AISpace_Coding_Dir:"AISpace_Coding_Dir",AISpace_Coding_Artifact:"AISpace_Coding_Artifact",SuperTask_DuplicateStyle:"SuperTask_DuplicateStyle",AISPace_ImageEditorAction:"AISPace_ImageEditorAction",Credit_AutoOpenCreditPanel:"Credit_AutoOpenCreditPanel"}}}]);
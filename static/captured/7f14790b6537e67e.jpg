"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["50182"],{616339:function(e,t){t.default={container:"container-QrxCka","custom-area-wrapper":"custom-area-wrapper-e6UKsv",customAreaWrapper:"custom-area-wrapper-e6UKsv",placeholder:"placeholder-Kgrpqi","editor-container":"editor-container-yj5w_H",editorContainer:"editor-container-yj5w_H","editor-wrapper":"editor-wrapper-AdiwSu",editorWrapper:"editor-wrapper-AdiwSu","bottom-wrapper":"bottom-wrapper-PqK2vl",bottomWrapper:"bottom-wrapper-PqK2vl",editor:"editor-u_GcDR","left-tools-wrapper":"left-tools-wrapper-INTHKl",leftToolsWrapper:"left-tools-wrapper-INTHKl","right-tools-wrapper":"right-tools-wrapper-HlP9ga",rightToolsWrapper:"right-tools-wrapper-HlP9ga","tools-placeholder":"tools-placeholder-QV9wFb",toolsPlaceholder:"tools-placeholder-QV9wFb","input-content-container":"input-content-container-zs4WWA",inputContentContainer:"input-content-container-zs4WWA","input-popover":"input-popover-_eegNS",inputPopover:"input-popover-_eegNS","container-v2":"container-v2-DjA1C3",containerV2:"container-v2-DjA1C3"}},342857:function(e,t,o){o.d(t,{default:function(){return n}}),o(713738);var r=o(430261),a=o(345660),n=(0,r.IconFactory)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"m3.543 8.883 7.042-7.047a2 2 0 0 1 2.828 0l7.043 7.046a1 1 0 0 1 0 1.415l-.701.701a1 1 0 0 1-1.414 0L13.3 5.956v15.792a1 1 0 0 1-1 1h-.99a1 1 0 0 1-1-1V6.342l-4.654 4.656a1 1 0 0 1-1.414 0l-.7-.7a1 1 0 0 1 0-1.415"})}),{}))},456602:function(e,t,o){o.d(t,{default:function(){return n}}),o(713738);var r=o(430261),a=o(345660),n=(0,r.IconFactory)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M9.218 17.41 19.83 6.796a.99.99 0 1 1 1.389 1.415c-3.545 3.425-4.251 4.105-11.419 11.074a.997.997 0 0 1-1.375.018c-1.924-1.801-3.709-3.568-5.573-5.43a.999.999 0 0 1 1.414-1.413z"})}),{}))},816651:function(e,t,o){o.d(t,{default:function(){return n}}),o(713738);var r=o(430261),a=o(345660),n=(0,r.IconFactory)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M5.5 11.75a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M13.725 11.75a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M22 11.75a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0"})}),{}))},275259:function(e,t,o){o.d(t,{SamanthaDropdown:function(){return h}});var r,a,n=o(456602),i=o(713738),l=o(812650),s=o.n(l),u=o(949627),d=o(506234),c=o(9905),p=o(201153),v={"samantha-dropdown":"samantha-dropdown-V3IVHj","icon-tick":"icon-tick-mlfokD",active:"active-ltSD3D"},f=o(345660);let h=i.forwardRef(function(e,t){return(0,f.jsx)(u.default,{...e,type:"primary",ref:t,className:s()(v["samantha-dropdown"],e.className),children:e.children})});h.Menu=d.default,h.Item=(r=c.default,a=e=>{if(!i.isValidElement(e))return e;if("menuitem"===e.props.role&&-1!==e.props.className.indexOf("semi-dropdown-item-withTick")){let t=-1!==e.props.className.indexOf("semi-dropdown-item-active");return i.cloneElement(e,{...e.props,children:[...e.props.children.slice(1),(0,f.jsx)(n.default,{className:s()(v["icon-tick"],{[v.active]:t})})]})}return e},class extends r{render(){return function e(t,o){return i.Children.map(t,t=>i.isValidElement(t)?(t.props.children&&(t=i.cloneElement(t,{...t.props,children:e(t.props.children,o)})),o(t)):t)}(super.render(),a)}}),h.Divider=p.default,h.Title=u.default.Title},155853:function(e,t,o){o.d(t,{ChatPerfHtmlLoaded:function(){return a}});var r=o(345660);let a=e=>{let{name:t}=e;return(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:`<script>window.${t}=(window.${t} || performance.now());</script>`}})}},628338:function(e,t,o){o.d(t,{hasPreprocessTask:function(){return p},refContentsSelector:function(){return u},useEnableRefContents:function(){return c},useRefContents:function(){return d}});var r=o(713738),a=o(214071),n=o(913821),i=o(698392),l=o(568388),s=o(165876);let u=(e,t)=>{let o=e.refContentMap[t];if(!(!o||(0,a.default)(o.refContents)))return o},d=e=>{let t=(0,i.useChatSlice)("refContentStore",t=>u(t,e),n.default),o=(0,i.useChatSlice)("attachmentUploadStore",e=>e.preprocessTaskMap,n.default);return(0,r.useMemo)(()=>{if(!t||(0,a.default)(t.refContents))return;let e=t.refContents.filter(e=>{if("attachment"!==e.type)return!0;for(let t in o)if(o[t].key===e.fileKey)return o[t].reviewState!==l.ReviewState.ReviewState_NotCompliant;return!0});return{...t,refContents:e}},[t,o])},c=e=>{let t=d(e);return(0,r.useMemo)(()=>({...t,refContents:(null==t?void 0:t.refContents)?(0,s.filterEnableRefContents)(t.refContents):void 0}),[t])},p=e=>!!(0,i.getChatSlice)("attachmentUploadStore").preprocessTaskMap[e]},249458:function(e,t,o){o.d(t,{ChatKitPage:function(){return en}});var r=o(713738),a=o(865607),n=o(385093),i=o(40680),l=o(812650),s=o.n(l),u=o(506979),d=o(739036),c=o(30999),p=o(633161),v=o(301302),f=o(156272),h=o(690743),g=o(266655),m=o(659896),C=o(848514),S=o(559613),_=o(615747),w=o(87109),b=o(364756);let y=e=>{let{slots:t}=e,{ChatView:o,ChatInput:r,ChatHeader:a,ErrorFallback:n,ChatPageEmptySkeleton:i,...l}=t,s=(0,C.composeSlotsToMessageList)({slots:{...l}}),u=(0,S.createBizWithSlots)(o,{MessageListSlot:s}),d=(0,S.createBizWithSlots)(_.ChatPage,{ChatViewSlot:u,ChatHeaderSlot:null!=a?a:null,ErrorFallbackSlot:n,ChatInputSlot:r,ChatPageEmptySkeletonSlot:i});return(0,w.withChatProviderContext)((0,b.withChatRefProviderContext)(d))};var T=o(345660);let E=(0,r.forwardRef)(function(e,t){let{bizSlots:o,baseSlots:a,...n}=e,i=(0,r.useMemo)(()=>y({slots:o}),(0,g.default)(o)),l=(0,r.useMemo)(()=>a,(0,g.default)(a));return(0,T.jsx)(m.BaseSlotsProvider,{value:l,children:(0,T.jsx)(i,{ref:t,...n})})});var P=o(761473),k=o(701355),I=o(198660),M=o(690619),R=o(441259),x=o(460821),B=o(712980),D=o(227587),L=o(640380),$=o(501108),H=o(701514),j=o(178230),A=o(393896),F=o(845647),N=o(992528),O=o(393752),W=o(619352),V=o(32212);let U=(0,r.forwardRef)((e,t)=>{let{chatId:o,MessageListSlot:r,chatType:a}=e,{idInParams:n}=(0,N.useChat)();return((0,W.useChatView)(t,{conversationId:o}),!n||(0,O.isNumeric)(n)||(0,O.isNumeric)(null==n?void 0:n.replace("local_","")))?(0,T.jsx)(r,{conversationId:o,enableLoadMore:a===F.ChatType.Conversation}):(0,T.jsx)(V.NavigateToFirstChat,{})});var K=o(722925),G=o(693261),Z=o(273737),z=o(496910),q=o(388240),Q=o(367612),J=o(220197);let X={SectionDivider:G.SectionDivider,MessageList:Z.MessageList,MessageListLoadMore:z.MessageListLoadMore,ChatView:U,LargeAvatar:q.LargeAvatar,ChatHeader:void 0,ChatInput:Q.ChatInput,ErrorFallback:J.BizChatCommonErrorFallback,ChatPageEmptySkeleton:K.ChatSkeleton};var Y=o(944720),ee=o(754495),et=o(755846),eo=o(557298);let er=e=>{let{url:t}=e;window.open((0,eo.filterUrlModule)(t,null,{logType:"js.window.location",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRP$2xr$0%1d1ltM$dlb%41T1d0-$dFSj$Xb*RP-%dSSFZtdE1WMD$2$1Zo%mRHTkhSbT$h$XpsNlkyM%5kb*t5T1hSalJ6bDFXb*MxT%dON%9Xc*hSMFl3$EZkM*NH%kRNW*Ra$jJSc1RESk9jMkZ-$*5KT$-wWjZZW*t4ZDFsWFpHeE1ibEo2$1ZoS2Jt%ll%$DA9"}))},ea=()=>({}),en=(0,r.forwardRef)(function(e,t){var o,l,g;let{chatViewConfig:m,className:C,style:S,innerClassName:_,bizSlots:w,baseSlots:b,children:y,...F}=e,N=(0,D.useLocation)(),O=(0,L.useNavigate)();(0,h.useSyncChatViewConfig)(m);let{mobileSidebarVisible:W}=(0,p.useMobile)({optionalProvider:!0}),{id:V}=(0,$.useParams)(),U=(0,ee.useConversationDisabledParams)(m),K=(0,f.getLoginSourceQuery)(N),G=null===(o=N.state)||void 0===o?void 0:o.from_visit_page,Z={current_page:u.VisitPage.CHAT,previous_page:K||G||u.VisitPage.OTHER},{handleChatPageDestroy:z,handleChatPageLoaded:q}=(0,ee.useHandleChatPageHooks)(Z),{initCreateConversation:Q}=(0,A.useCreateBotConversationHelper)(),J=(0,x.useCompareMemo)({...N.state,showSkeleton:(null===(l=N.state)||void 0===l?void 0:l.showSkeleton)||(null===(g=(0,B.parseHashOrQuery)(N.search))||void 0===g?void 0:g.showSkeleton)},a.shallow),eo=async e=>{let{botId:t,localConversationId:o,token:r,createFrom:a}=e,{newLocalConversationId:n,createConversationForBot:i}=Q({botId:t,token:r,localConversationId:o,createFrom:a,reportProps:{eventName:"create_conversation",meta:{from:"url_new"}}});return{conversation:await i(),newLocalConversationId:n}},{toChatPage:en}=(0,ee.useToChatPage)(O);(0,r.useEffect)(()=>{let e=(e,t)=>(t.forEach(e=>{e.extraExt={...e.extraExt,...ea()}}),t);return d.appMessageEventBus.on("processMessageBefore",e),()=>{d.appMessageEventBus.off("processMessageBefore",e)}},[]);let ei=(0,et.useGuestOnlyChatPageProps)(m);return(0,P.useDeprecatedChatEventEffect)("chat.message.click-ask-page-ref",er),(0,P.useDeprecatedChatEventEffect)("chat.user.logoutToSignIn",e=>{!(0,I.getIsGuest)()&&(0,M.getFlowAccount)().passportApi.logout({loginRoute:`${N.pathname}?ghh=1`,navigate:O,reason:null==e?void 0:e.reason})}),(0,T.jsx)(H.LoggerContext.Provider,{value:j.logger,children:(0,T.jsx)("div",{"data-testid":"immersive_side_bar_chat",className:s()("flex relative w-full h-full overflow-hidden justify-center",C),style:S,"sidebar-visible":String(W),dir:(0,k.getLanguageDirection)(),children:(0,T.jsx)(E,{className:_,ref:e=>{(0,n.default)(t)?t(e):t&&(t.current=e)},bizSlots:(0,i.default)(w,X),baseSlots:(0,i.default)(b,Y.ChatPageBaseSlots),toChatPage:en,toUserProfile:e=>{let{userId:t,enterFrom:o}=e;O(`${c.PROFILE_PAGE_ROUTE}/${t}`,{state:{enter_from:o}})},onChatPageLoaded:q,onChatPageDestroy:z,onConversationChatPageVisibilityChange:e=>{let{visible:t,chatInputRef:o}=e;if(t&&!(0,R.getIsMobileOrIPad)()&&v.useChatLayoutStore.getState().activeKey!==(null==m?void 0:m.chatId)){var r;null===(r=o.current)||void 0===r||r.focus()}},onCreateConversationByBot:eo,chatViewConfig:m,conversationDisabledParams:U,locationState:J,locationKey:N.key,idInParams:V,...ei,...F,children:y})})})})},755846:function(e,t,o){o.d(t,{useGuestOnlyChatPageProps:function(){return m}});var r=o(30999),a=o(746904),n=o(953423),i=o(512523),l=o(501461),s=o(156272),u=o(845647),d=o(761473),c=o(198660),p=o(297547),v=o(366119),f=o(640380),h=o(754495);let g={landing:{type:i.GuestLandingType.CHAT_CAN_USE},trackInfo:{source:l.LoginOpenSource.OTHER}},m=e=>{let t=(0,c.useIsGuest)(),{openLoginModal:o}=(0,n.useLoginModal)(),m=(0,f.useNavigate)(),C=(0,p.default)((e,r)=>{if(!t)return;let n={...g};e&&(n.trackInfo={source:e}),r&&(n.loginNavigateQuery=r),o({onSuccess:a.openSidebarIfDid,...n})}),S=(0,p.default)(r=>{t&&(null==e?void 0:e.chatType)===u.ChatType.Bot&&o({landing:{type:i.GuestLandingType.CHAT,botId:(null==e?void 0:e.chatId)||""},trackInfo:{source:r},onSuccess:a.openSidebarIfDid})}),{toChatPage:_}=(0,h.useToChatPage)(m),{run:w}=(0,v.default)(function(){let{backToRoot:e=!1,bot:t=!1,source:o=l.LoginOpenSource.OTHER,loginNavigateQuery:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?m((0,s.addHideHomepageUrl)(r.CHAT_PAGE_ROUTE),{replace:!0}):t?S(o):C(o,a)},{leading:!0,trailing:!1,wait:250});return(0,d.useDeprecatedChatEventEffect)("chat.guest.login",w),{...t?{toChatPage:_}:{}}}},754495:function(e,t,o){o.d(t,{useConversationDisabledParams:function(){return y},useHandleChatPageHooks:function(){return b},useToChatPage:function(){return T}});var r=o(713738),a=o(865607),n=o(459735),i=o(217957),l=o(506979),s=o(30999),u=o(783477),d=o(156272),c=o(244848),p=o(442571),v=o(212183),f=o(230932),h=o(721118),g=o(777422),m=o(915299),C=o(888130),S=o(712980),_=o(227587),w=o(669986);let b=e=>{let t=(0,_.useLocation)(),o=(0,r.useRef)(0),a=(0,r.useRef)(""),{initDesktopSendMessage:n}=(0,w.useDesktopInitMessageFromState)();return{handleChatPageDestroy:e=>{var r,a,n;let{conversationId:i}=e,s=(null==t?void 0:null===(r=t.state)||void 0===r?void 0:r.enter_from)==="bot_discover",{botInfo:d}=(0,v.getInfoByConversationId)(i),c=Date.now()-(null!==(n=null==t?void 0:null===(a=t.state)||void 0===a?void 0:a.page_start_time)&&void 0!==n?n:o.current),p=(0,v.getBotIdByConversationId)(i,!0);(0,g.trackEvent)("leave_chat_page",{current_page:l.VisitPage.CHAT,bot_id:p,duration:String(c),stay_time:c,chat_type:(0,v.getChatTypeForTea)((0,C.getUserId)(),i,d),user_id:s?(0,C.getUserId)():void 0,req_id:s?null===u.getRequestIdByBotId||void 0===u.getRequestIdByBotId?void 0:(0,u.getRequestIdByBotId)(p):void 0,recommend_from:s?"bot_list_discover":void 0})},handleChatPageLoaded:r=>{var i,s,c,p,f,h;let{conversationId:m,botId:S}=r;n({conversationId:m,botId:S});let{botInfo:_,conversation:w}=(0,v.getInfoByConversationId)(m),b=(null==t?void 0:null===(i=t.state)||void 0===i?void 0:i.enter_from)==="bot_discover";if((!(null==t?void 0:null===(s=t.state)||void 0===s?void 0:s.create_chat_type)||"chat_with_bot"!==t.state.create_chat_type)&&a.current!==m){a.current=m,o.current=Date.now();let r=(0,v.getBotIdByConversationId)(m,!0),n=(0,d.getLoginSourceQuery)(t),i={...e,page:l.VisitPage.CHAT,current_page:l.VisitPage.CHAT,bot_id:r,is_tts:0,conversation_id:m,conversation_type:null==w?void 0:w.conversation_type,enter_method:null!==(f=null==t?void 0:null===(c=t.state)||void 0===c?void 0:c.enter_from)&&void 0!==f?f:"other",bot_position:null!==(h=String(null==t?void 0:null===(p=t.state)||void 0===p?void 0:p.bot_position))&&void 0!==h?h:"other",is_from_ug:"0",chat_type:(0,v.getChatTypeForTea)((0,C.getUserId)(),m,_),user_id:b?(0,C.getUserId)():void 0,req_id:b?null===u.getRequestIdByBotId||void 0===u.getRequestIdByBotId?void 0:(0,u.getRequestIdByBotId)(r):void 0,recommend_from:b?"bot_list_discover":void 0,...n?{previous_page:n}:{}};(0,g.trackEvent)("enter_page",i)}}}},y=function(){var e;let{chatType:t,chatId:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,m.useTranslateFn)(),n=(0,p.isBotChat)(t),i=(0,f.useFeedStore)(e=>{var t;return null===(t=(0,h.conversationSelector)(e,o))||void 0===t?void 0:t.bot_id}),l=n?o:i,s=e=>{if(null==e?void 0:e.disabled_tag)return({[c.DisabledTag.Reviewing]:r("bot_ban_under_review"),[c.DisabledTag.Ban]:r("bot_disabled_profile"),[c.DisabledTag.Delete]:r("disable_input_del_bot"),[c.DisabledTag.Private]:r("chat_page_notice")})[e.disabled_tag]||(null==e?void 0:e.disabled_desc)},d=e=>n?[c.DisabledTag.Ban,c.DisabledTag.Reviewing].includes(null==e?void 0:e.disabled_tag):!!(null==e?void 0:e.disabled),v=e=>{let t=l&&e.botMap[l];if(t)return{isDisabled:d(t),disabledText:s(t)}},g=(0,u.useBotStore)(v,a.shallow),C=(0,u.useGuestBotStore)(v,a.shallow);return null!==(e=null!=g?g:C)&&void 0!==e?e:{isDisabled:!1}},T=e=>({toChatPage:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{conversationId:o,query:r,...a}=t,l=`${s.CHAT_PAGE_ROUTE}${null!=o?o:""}`,u=r?(0,S.toURL)(l,(0,n.default)(r,e=>!(0,i.default)(e))):l;null==e||e(u,a)}})},944720:function(e,t,o){o.d(t,{ChatPageBaseSlots:function(){return r}});let r={Tooltip:o(214902).SamanthaTooltip}},393896:function(e,t,o){o.d(t,{useCreateBotConversationHelper:function(){return g}});var r=o(713738),a=o(301302),n=o(783477),i=o(230932),l=o(389174),s=o(777422),u=o(915299),d=o(133693),c=o(769783),p=o(233486),v=o(856392),f=o(345660);let h=e=>{let{onClick:t,text:o}=e;return p.default.error({content:(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{children:o}),(0,f.jsx)("a",{className:"retry-button-SLk6Vr",onClick:t,children:(0,u.getUnreactiveTranslate)("retry")})]}),duration:8,showClose:!0})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useRef)(),o=(0,u.useTranslateFn)();return{initCreateConversation:r=>{let{conversationId:u,messageId:f,token:g,botId:m,localConversationId:C,localConversationInfo:S,reportProps:_,scene:w,createFrom:b,click_from:y=e.click_from}=r,T=(0,v.createReportEvent)(_),E=C||i.useFeedStore.getState().addNewLocalConversation({reportEvent:T,conversation:S,conversationId:C});m&&n.useBotStore.getState().setLocalConversationIdForBot({botId:m,localConversationId:E});let P=e=>{if(t.current&&p.default.close(t.current),u){let t=i.useFeedStore.getState().conversationMap[u];if(!t||!(0,l.isCocoConversation)(t)){let t=Error("expect coco conversation but not found");return e.error({error:t,reason:"non_coco_conversation"}),p.default.error({content:o("system_error_toast"),showClose:!1}),Promise.reject(t)}(0,s.trackEvent)("create_new_chat",{click_from:y,conversation_id:u,bot_id:t.bot_id})}return i.useFeedStore.getState().fetchConversationAndUpdateLocalStatusForBot({conversationId:u,messageId:f,localConversationId:E,token:g,botId:m,scene:w,createFrom:b}).then(e=>(a.useChatLayoutStore.getState().setActiveKey(void 0),e)).catch(e=>{var r,a;let n=o("create_new_chat_failed");throw(0,d.isApiErrorWithI18n)(e)&&(null==e?void 0:null===(r=e.errorOption)||void 0===r?void 0:r.message)&&(n=null==e?void 0:null===(a=e.errorOption)||void 0===a?void 0:a.message),c.isApiError,t.current=h({text:n,onClick:()=>{P((0,v.createReportEvent)({eventName:_.eventName,meta:{..._.meta,retry:!0}}))}}),e})};return{newLocalConversationId:E,createConversationForBot:()=>P(T)}}}}},669986:function(e,t,o){o.d(t,{DesktopSendMessageScene:function(){return d},DesktopSendMessageSecScene:function(){return c},useDesktopInitMessageFromState:function(){return p}});var r,a,n=o(678669),i=o(845647),l=o(382757),s=o(227587),u=o(640380);let d=((r={}).GlobalLauncher="global_launcher",r.TextSelectionBar="text_selection_bar",r),c=((a={}).SuggestedPrompt="suggested_prompt",a),p=()=>{let e=(0,s.useLocation)(),t=(0,u.useNavigate)();return{initDesktopSendMessage(o){var r;let{message:a,scene:s,sec_scene:u}=null!==(r=e.state)&&void 0!==r?r:{};if(!a||![d.TextSelectionBar,d.GlobalLauncher].includes(s))return;let c={text:String(a),reportParams:{scene:s,sec_scene:u},chatType:i.ChatType.Conversation,botType:"Main",...o};(0,l.sendSupportedMessage)([c]);let p=(0,n.default)(e.state,"message","scene");e.state=p,t(`${e.pathname}${e.search}`,{replace:!0,state:p})}}}},244848:function(e,t,o){var r,a;o.d(t,{BOT_DISCOVER_ROUTE:function(){return s},BotItemFromPage:function(){return i},CHAT_PAGE_ROUTE:function(){return u},CREATE_BOT_ROUTE:function(){return l},DisabledTag:function(){return n}});let n=((r={}).Reviewing="reviewing",r.Ban="ban",r.Delete="delete",r.Private="private",r.Rollback="rollback",r),i=((a={}).Discover="discover",a.Profile="profile",a),l="/chat/bot/create",s="/chat/bot/discover",u="/chat/"},633161:function(e,t,o){o.d(t,{MobileProvider:function(){return l},mobileContext:function(){return i},useMobile:function(){return s}});var r=o(713738),a=o(436114),n=o(345660);let i=(0,r.createContext)(null),l=e=>{let{children:t}=e,[o,a]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>({mobileSidebarVisible:o,setMobileSidebarVisible:a}),[o,a]);return(0,n.jsx)(i.Provider,{value:l,children:t})},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{optionalProvider:t=!1}=e,o=(0,r.useContext)(i);if(!o){if(t)return{mobileSidebarVisible:!1,setMobileSidebarVisible:a.default};throw Error("Expect mobileContext")}return o}},301302:function(e,t,o){o.d(t,{TemplatePageStatus:function(){return l},useChatLayoutCurrentState:function(){return d},useChatLayoutStore:function(){return u}});var r,a=o(321647),n=o(229079),i=o(746479);let l=((r={}).CLOSE="close",r.OPEN="open",r),s={routesStack:[],routesStateMap:{},payload:{},activeKey:void 0,state:"replace",lastShowStatus:{},mode:""},u=(0,a.create)()(e=>({...s,changeMode:t=>e(()=>({mode:t})),setPayload:t=>e(()=>({payload:t})),setStack:function(t){for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];e(()=>({routesStack:t,state:"replace",routesStateMap:(0,i.produce)({},e=>{for(let o=0;o<Math.min(r.length,t.length);o+=1)e[o]=r[o]})}))},setActiveKey:t=>e(()=>({activeKey:t||void 0})),goBack:()=>e(e=>{let{routesStack:t,routesStateMap:o}=e;return{routesStack:[...t.slice(0,-1)],state:"pop",routesStateMap:(0,i.produce)(o,e=>{delete e[t.length-1]})}}),push:function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{state:r}=o;e(e=>{let{routesStack:o,routesStateMap:a}=e;return{routesStack:[...o,t],state:"push",routesStateMap:(0,i.produce)(a,e=>{r&&(e[o.length]=r)})}})},setLastShowStatus:(t,o)=>e(e=>({lastShowStatus:{...e.lastShowStatus,[t]:o}}))})),d=()=>{var e;let{routesStateMap:t,routesStack:o}=u(e=>{let{routesStateMap:t,routesStack:o}=e;return{routesStateMap:t,routesStack:o}});return null!==(e=(0,n.default)(t,o.length-1))&&void 0!==e?e:{}}},739036:function(e,t,o){o.d(t,{appMessageEventBus:function(){return r}});let r=new(o(603110)).ChatMessageLifeCycleEventBus}}]);
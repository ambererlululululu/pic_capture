"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["99898"],{649898:function(e,t,a){a.d(t,{default:function(){return V}});var n=a(351415),s=a(996406),r=a(217957),l=a(385093),i=a(678669),o=a(436114),d=a(713738),h=a(812650),u=a.n(h),p=a(362269),f=a.n(p),g=a(218679),c=a(344417),b=a(135410);let y=null,m={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},x=e=>{Object.keys(m).forEach(t=>{e.style.setProperty(t,m[t],"important")})},v=(e,t)=>{let a=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?a+t.borderSize:a-t.paddingSize};var C=a(762707);let _=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];var w=e=>{let t=window.getComputedStyle(e);if(null===t)return null;let a=(0,C.default)(t,_),{boxSizing:n}=a;if(""===n)return null;let s=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop),r=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:s,borderSize:r}};class L extends b.default{static get textAreaDefaultAdapter(){return{notifyChange:o.default,setValue:o.default,toggleFocusing:o.default,toggleHovering:o.default,notifyFocus:o.default,notifyBlur:o.default,notifyKeyDown:o.default,notifyEnterPress:o.default}}constructor(e){super(Object.assign(Object.assign({},L.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var e;let{height:t}=this.getStates(),{rows:a,autosize:n}=this.getProps(),s=this._adapter.getRef(),r=w(s);if(!r)return;let[l,i]=null!==n&&"object"==typeof n?[null!==(e=null==n?void 0:n.minRows)&&void 0!==e?e:a,null==n?void 0:n.maxRows]:[a],o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;y||((y=document.createElement("textarea")).setAttribute("tab-index","-1"),y.setAttribute("aria-hidden","true"),x(y)),null===y.parentNode&&document.body.appendChild(y);let{paddingSize:s,borderSize:r,sizingStyle:l}=e,{boxSizing:i}=l;Object.keys(l).forEach(e=>{y.style[e]=l[e]}),x(y),y.value=t;let o=v(y,e);y.value="x";let d=v(y,e)-s-r,h=d*a;"border-box"===i&&(h=h+s+r),o=Math.max(h,o);let u=d*n;return"border-box"===i&&(u=u+s+r),o=Math.min(u,o)}(r,s.value||s.placeholder||"x",l,i);if(t!==o){this._adapter.notifyHeightUpdate(o),s.style.height=`${o}px`;return}}}init(){this.setInitValue()}destroy(){}setInitValue(){let{defaultValue:e,value:t}=this.getProps(),a=e;this._isControlledComponent()&&(a=t),this._adapter.setValue(a)}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){let{maxLength:a,minLength:n,getValueLength:s}=this._adapter.getProps(),r=e;a&&(0,l.default)(s)&&(r=this.handleVisibleMaxLength(e)),n&&(0,l.default)(s)&&this.handleVisibleMinLength(r),this._isControlledComponent()||this._adapter.setValue(r),this._adapter.notifyChange(r,t)}handleVisibleMinLength(e){let{minLength:t,getValueLength:a}=this._adapter.getProps(),{minLength:n}=this._adapter.getStates();if((0,c.default)(t)&&t>=0&&(0,l.default)(a)&&(0,g.default)(e)){let s=a(e);if(s<t){let a=e.length+(t-s);a!==n&&this._adapter.setMinLength(a)}else n!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){let{maxLength:t,getValueLength:a}=this._adapter.getProps();if((0,c.default)(t)&&t>=0&&(0,g.default)(e)){if((0,l.default)(a)){if(a(e)>t)return this.handleTruncateValue(e,t)}else if(e.length>t)return e.slice(0,t);return e}}handleTruncateValue(e,t){let{getValueLength:a}=this._adapter.getProps();if(!(0,l.default)(a))return e.slice(0,t);{let n="";for(let s=1,r=e.length;s<=r;s++){let r=e.slice(0,s);if(a(r)>t)break;n=r}return n}}handleFocus(e){let{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){let{value:t}=this.getStates(),{maxLength:a}=this.getProps(),n=t;a&&(n=this.handleVisibleMaxLength(t))!==t&&(this._isControlledComponent()||this._adapter.setValue(n),this._adapter.notifyChange(n,e)),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(n,e)}handleKeyDown(e){this._adapter.notifyKeyDown(e),13===e.keyCode&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){let{value:e,isFocus:t,isHover:a}=this._adapter.getStates(),{showClear:n,disabled:s,readonly:r}=this._adapter.getProps();return e&&n&&!s&&(t||a)&&!r}handleClear(e){let{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var S=a(67924),E=a(526675),R=a(334302),z=a(615853),O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a};let F=S.cssClasses.PREFIX;class P extends E.default{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.setRef=e=>{this.libRef.current=e;let{forwardRef:t}=this.props;"function"==typeof t?t(e):t&&"object"==typeof t&&(t.current=e)},this.state={value:"",isFocus:!1,isHover:!1,height:0,minLength:e.minLength},this.focusing=!1,this.foundation=new L(this.adapter),this.libRef=d.createRef(),this.throttledResizeTextarea=(0,n.default)(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){let a={};return e.value!==t.cachedValue&&(a.value=e.value,a.cachedValue=e.value),a}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&(null===(t=null===(e=this.throttledResizeTextarea)||void 0===e?void 0:e.cancel)||void 0===t||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){let{showClear:e}=this.props,t=this.foundation.isAllowClear(),a=u()(`${F}-clearbtn`,{[`${F}-clearbtn-hidden`]:!t});return e?d.createElement("div",{className:a,onClick:this.handleClear},d.createElement(R.default,null)):null}renderCounter(){let e,t,a,n;let{showCounter:s,maxCount:r,getValueLength:i}=this.props;if(s||r){let{value:s}=this.state;t=s?(0,l.default)(i)?i(s):s.length:0,a=r||null,n=u()(`${F}-textarea-counter`,{[`${F}-textarea-counter-exceed`]:t>a}),e=d.createElement("div",{className:n},t,a?"/":null,a)}else e=null;return e}render(){let e=this.props,{autosize:t,placeholder:a,onEnterPress:n,onResize:o,disabled:h,readonly:p,className:f,showCounter:g,validateStatus:c,maxCount:b,defaultValue:y,style:m,forwardRef:x,getValueLength:v,maxLength:C,minLength:_,showClear:w,borderless:L,autoFocus:S}=e,E=O(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:R,value:P,minLength:V}=this.state,j=u()(f,`${F}-textarea-wrapper`,{[`${F}-textarea-borderless`]:L,[`${F}-textarea-wrapper-disabled`]:h,[`${F}-textarea-wrapper-readonly`]:p,[`${F}-textarea-wrapper-${c}`]:!!c,[`${F}-textarea-wrapper-focus`]:R}),D=u()(`${F}-textarea`,{[`${F}-textarea-disabled`]:h,[`${F}-textarea-readonly`]:p,[`${F}-textarea-autosize`]:(0,s.default)(t)?(0,r.default)(null==t?void 0:t.maxRows):t,[`${F}-textarea-showClear`]:w}),T=Object.assign(Object.assign({},(0,i.default)(E,"insetLabel","insetLabelId","getValueLength","onClear","showClear")),{autoFocus:S||this.props.autofocus,className:D,disabled:h,readOnly:p,placeholder:a||null,onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e.nativeEvent),onKeyDown:e=>this.foundation.handleKeyDown(e),value:null==P?"":P});return(0,l.default)(v)||(T.maxLength=C),V&&(T.minLength=V),d.createElement("div",{className:j,style:m,onMouseEnter:e=>this.foundation.handleMouseEnter(e),onMouseLeave:e=>this.foundation.handleMouseLeave(e)},t?d.createElement(z.default,{onResize:this.throttledResizeTextarea},d.createElement("textarea",Object.assign({},T,{ref:this.setRef}))):d.createElement("textarea",Object.assign({},T,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}P.propTypes={autosize:f().oneOfType([f().bool,f().object]),borderless:f().bool,placeholder:f().string,value:f().string,rows:f().number,cols:f().number,maxCount:f().number,onEnterPress:f().func,validateStatus:f().string,className:f().string,style:f().object,showClear:f().bool,onClear:f().func,onResize:f().func,getValueLength:f().func},P.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:o.default,onChange:o.default,onBlur:o.default,onFocus:o.default,onKeyDown:o.default,onResize:o.default,onClear:o.default};var V=d.forwardRef((e,t)=>d.createElement(P,Object.assign({},e,{forwardRef:t})))}}]);
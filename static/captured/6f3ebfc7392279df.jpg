"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["62869"],{536641:function(e,t,r){r.d(t,{handleEventSubmitBefore:function(){return a}});var n=r(340002),l=r(776140);let i=(e,t,r,i)=>{let a="1"===n.default.get("is_google_channel"),o="1"===n.default.get("is_microsoft_channel"),{header:u,events:_}=(null==e?void 0:e[0])||{};_.forEach(e=>{var n,_,s,c;if(a&&t.includes(e.event)){let t=JSON.parse(e.params),r={...u,...t};null===(_=window)||void 0===_||null===(n=_.gtag)||void 0===n||n.call(_,"event",e.event,r)}if(o&&r.includes(e.event)){let t=JSON.parse(e.params),r={...u,...t};null===(c=window)||void 0===c||null===(s=c.uetq)||void 0===s||s.push("event",e.event,r)}i&&(0,l.handleServerReportChannels)(i,e.event)})},a=(e,t,r,n)=>{i(e,t,r,n)}},776140:function(e,t,r){r.d(t,{handleServerReportChannels:function(){return f},reportOCPC:function(){return c},reportUetWebRegisterEvent:function(){return d}});var n=r(340002),l=r(696557),i=r(257029),a=r(910214),o=r(712980),u=r(178230);let _=e=>{try{return!!new URL(e).searchParams.get("channel")}catch(e){return!1}},s=()=>["ug_apk_token","ug_utm_source"].some(e=>(0,o.getUrlParams)(e)),c=async e=>{let t="download"===e,r=t?location.href:(0,l.loadTeaLandingUrl)();if(!t&&!_(r)||t&&!s())return;let{tea_uuid:n}=await g({needUid:!1});a.notifyApiService.ReportOCPCEvent({landing_page_url:r,app_id:"482431",event_name:e,event_ts:String(Math.floor(Date.now()/1e3))},{overrideParams:{device_id:n}}).catch(e=>{u.logger.persist.error({message:"error when report ocpc",error:e})})};function d(e){try{let t=e.new_user,r="1"===n.default.get("is_microsoft_channel");t&&r&&window.uetq.push("event","web_register",{})}catch(e){u.logger.persist.error({error:e,eventName:"uetq_web_register_event_error"})}}let g=e=>{let{needUid:t=!0}=e;return new Promise(e=>{let r=setInterval(()=>{let n=(0,i.getUuidAndWebIdFromTeaConfig)().uuid,l=(0,i.getUidFromTeaConfig)();n&&(l||!t)&&(clearInterval(r),e({tea_uid:String(l),tea_uuid:String(n)}))},500);setTimeout(()=>{clearInterval(r)},1e4)})},v=["channel","360_xxl","wangyi","bilibili_xxl","bilibili_xxl_hy","bilibili_xxl_ly","baidu_xxl","360","baidu_sem","gdt_sem","gdt_xxl","zhihu_xxl","youku_xxl"],h=(e,t)=>e.filter(e=>e===t).length>0,f=(e,t)=>{if(h(e,t))try{let e=new URLSearchParams(window.location.search).get("channel");e&&v.includes(e)&&c(t)}catch(e){u.logger.persist.error({error:e,eventName:"server_report_ocpc_event_error"})}}}}]);
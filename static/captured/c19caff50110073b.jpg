"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["71548"],{385962:function(e,t,n){n.d(t,{default:function(){return a}}),n(713738);var r=n(430261),i=n(345660),a=(0,r.IconFactory)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.042 1.706a1 1 0 0 0-1.392.245l-4.74 6.77-4.74-6.77A1 1 0 0 0 5.53 3.098l5.158 7.366-2.715 3.878a4.002 4.002 0 0 0-3.697 7.023 4 4 0 0 0 5.335-5.876l2.297-3.281 2.298 3.28a4.002 4.002 0 0 0 5.335 5.877 4 4 0 0 0-3.697-7.023l-2.715-3.878 5.158-7.366a1 1 0 0 0-.246-1.392M8.21 19.236a2 2 0 1 0-3.277-2.294 2 2 0 0 0 3.277 2.294m7.4 0a2 2 0 1 1 3.277-2.295 2 2 0 0 1-3.276 2.295",clipRule:"evenodd"})}),{}))},471541:function(e,t,n){n.d(t,{default:function(){return a}}),n(713738);var r=n(430261),i=n(345660),a=(0,r.IconFactory)((0,i.jsx)(e=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 32 32",...e,children:[(0,i.jsx)("path",{fill:"url(#icon_filetype_colorful_pdf_svg__a)",fillRule:"evenodd",d:"M7.283 6.42C7 6.976 7 7.704 7 9.16v13.68c0 1.456 0 2.184.283 2.74a2.6 2.6 0 0 0 1.137 1.137C8.976 27 9.704 27 11.16 27h9.68c1.456 0 2.184 0 2.74-.283a2.6 2.6 0 0 0 1.137-1.137c.283-.556.283-1.284.283-2.74V11l-6-6h-7.84c-1.456 0-2.184 0-2.74.283A2.6 2.6 0 0 0 7.283 6.42",clipRule:"evenodd"}),(0,i.jsx)("path",{fill:"#fff",fillOpacity:.55,d:"m19 5 6 6h-1.84c-1.456 0-2.184 0-2.74-.283a2.6 2.6 0 0 1-1.137-1.137C19 9.024 19 8.296 19 6.84z"}),(0,i.jsx)("path",{fill:"#5A150F",d:"M20.115 19.97a3.8 3.8 0 0 1-2.2-.891 21.3 21.3 0 0 0-3.538 1.13c-.921 1.635-1.783 2.467-2.527 2.467-.148 0-.327-.03-.446-.119a.88.88 0 0 1-.505-.802c0-.268.06-1.011 2.884-2.23a21 21 0 0 0 1.575-3.687c-.356-.713-1.13-2.467-.594-3.36.178-.326.535-.505.921-.475.298 0 .595.149.773.387.387.535.357 1.665-.148 3.33a9 9 0 0 0 1.843 2.378c.624-.12 1.249-.208 1.873-.208 1.397.03 1.605.683 1.576 1.07 0 1.01-.982 1.01-1.487 1.01m-8.324 1.844.089-.03c.416-.148.743-.446.981-.832a2.35 2.35 0 0 0-1.07.862m3.954-8.919h-.09c-.029 0-.088 0-.118.03-.12.505-.03 1.04.178 1.516.178-.505.178-1.04.03-1.546m.208 4.31-.03.06-.03-.03a25 25 0 0 1-.891 2.022l.06-.03v.06a17 17 0 0 1 2.02-.595l-.029-.03h.09a9 9 0 0 1-1.19-1.456m4.043 1.577c-.267 0-.505 0-.773.059.297.149.595.208.892.238.208.03.416 0 .595-.06 0-.089-.12-.237-.714-.237"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"icon_filetype_colorful_pdf_svg__a",x1:25,x2:3.556,y1:27,y2:22.867,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EE5872"}),(0,i.jsx)("stop",{offset:1,stopColor:"#FF7033"})]})})]}),{}))},254228:function(e,t,n){n.d(t,{default:function(){return a}}),n(713738);var r=n(430261),i=n(345660),a=(0,r.IconFactory)((0,i.jsx)(e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.22 3.78a6.076 6.076 0 0 0-8.592 0l-1.105 1.104A1.008 1.008 0 0 0 11.95 6.31l1.105-1.105a4.06 4.06 0 1 1 5.74 5.74l-1.177 1.179a1.008 1.008 0 0 0 1.426 1.425l1.178-1.177a6.076 6.076 0 0 0 0-8.592m-6.616 15.208a1.008 1.008 0 1 0-1.426-1.425l-1.232 1.232a4.059 4.059 0 1 1-5.74-5.74l1.159-1.16a1.008 1.008 0 0 0-1.426-1.426l-1.16 1.16a6.076 6.076 0 0 0 8.593 8.592zm-5.147-4.8a1.008 1.008 0 0 0 1.426 1.426l5.79-5.79a1.008 1.008 0 0 0-1.426-1.426z",clipRule:"evenodd"})}),{}))},870693:function(e,t,n){n.d(t,{retryLoad:function(){return r}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise((i,a)=>{e().then(i).catch(l=>{setTimeout(()=>{if(1===t){a(l);return}r(e,t-1,n).then(i,a)},n)})})}},912161:function(e,t,n){n.d(t,{DisabledTag:function(){return r},WritingSkillTemplateType:function(){return a}});let r=((i={}).Reviewing="reviewing",i.Ban="ban",i.Delete="delete",i.Private="private",i.Rollback="rollback",i);var i,a={Compose:"compose",Reply:"reply"}},204454:function(e,t,n){n.d(t,{isBetaEnv:function(){return r}});let r=!1},943493:function(e,t,n){n.d(t,{useUploadConfig:function(){return u}});var r=n(865607),i=n(144993),a=n(698392),l=n(922851),o=n(212183);let u=e=>{var t,n,u,s,c;let{config:d}=e,h=null==d?void 0:d.localKey,f=null==d?void 0:d.file,p=(0,a.useChatSlice)("attachmentUploadStore",e=>h?e.preprocessTaskMap[h]:void 0,r.shallow),m=null==p?void 0:p.key,v=(null==p?void 0:p.failed)?i.AttachmentStatus.Retry:(null==p?void 0:p.loading)?i.AttachmentStatus.Uploading:i.AttachmentStatus.Normal,S=null==p?void 0:p.percent,g=m||(null===(t=(0,a.getChatStore)("attachmentUploadStore").getState().preprocessTaskMap[null!=h?h:""])||void 0===t?void 0:t.key),k={file_name:f&&"name"in f&&(null==f?void 0:f.name)||"",key:g||""};return{image:{imageList:[{key:g||"",image_thumb:{url:null!==(n=null==p?void 0:p.blobUrl)&&void 0!==n?n:"",width:0,height:0,format:""},image_ori:{url:null!==(u=null==p?void 0:p.blobUrl)&&void 0!==u?u:"",width:0,height:0,format:""},feedback:"",request_id:"",description:""}],uri:null!==(s=null==p?void 0:p.key)&&void 0!==s?s:"",url:null!==(c=null==p?void 0:p.blobUrl)&&void 0!==c?c:""},fileContent:k,upload:{status:v,percent:S},reUpload:e=>{(0,l.getChatService)("attachmentUploadStoreService").then(t=>{var n;null==t||t.reUpload(null!=h?h:"",null!==(n=(0,o.getBotIdByConversationId)(e))&&void 0!==n?n:"")})},cancel:()=>{p&&(0,l.getChatService)("attachmentUploadStoreService").then(e=>{null==e||e.cancel(p.fileKey)})}}}},935366:function(e,t,n){n.d(t,{defaultChatInputFacade:function(){return i}});var r=n(154635);let i={focus:()=>{r.defaultChatInputController.focusOnInput()}}},379520:function(e,t,n){n.d(t,{DefaultChatInputService:function(){return i}});var r=n(154635);class i{focusOnEditor(){r.defaultChatInputController.focusOnInput()}updateEditorValue(){}clearEditorValue(){}}},91482:function(e,t,n){n.d(t,{useDisabledInputTipsData:function(){return h},DisabledInputTips:function(){return f},DisabledInputTipsGlueComposer:function(){return d}});var r=n(970377),i=n(971857),a=n(912161),l=n(773289),o=n(198660),u=n(6917),s={"disabled-tips":"disabled-tips-WksGmv"},c=n(345660);let d=e=>function(t){let{chatId:n,chatType:r}=t,{isDisabled:i,disabledText:a}=e({chatId:n,chatType:r});return i?(0,c.jsx)("div",{className:s["disabled-tips"],children:a}):null},h=e=>{let{chatId:t}=e,n=(0,i.useConversation)(t),s=(null==n?void 0:n.bot_id)||t,c=u.chatInputServiceContainer.get("chatBotService"),d=(null==c?void 0:c.useBotInfoHook(s))||{},h=(0,o.useIsLoggedIn)(),f=(0,r.useConversationDisabled)();return(()=>{let e=(null==d?void 0:d.bot_mode)===l.BotMode.subject;return!!h&&d.disabled_tag!==a.DisabledTag.Ban&&(d.disabled_tag!==a.DisabledTag.Rollback||!e)})()?f:{isDisabled:!1}},f=d(h)},207252:function(e,t,n){n.d(t,{ScreenshotButtonUI:function(){return s}});var r=n(385962);n(713738);var i=n(217957),a=n(812650),l=n.n(a),o=n(214902),u=n(345660);let s=e=>{let{className:t="",onClickScreenshot:n,tooltipContent:a}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.SamanthaTooltip,{content:a,className:l()({"!hidden":(0,i.default)(a)}),children:(0,u.jsx)("div",{className:`
            wrapper-sdben9
            ${t}
          `,onClick:n,"data-testid":"screenshot-button",children:(0,u.jsx)(r.default,{className:"screenshotIcon-M7WJ10"})})})})}},167804:function(e,t,n){n.d(t,{ScrollTabs:function(){return s},TabPane:function(){return o.default}});var r=n(812650),i=n.n(r),a=n(250953),l=n(552148),o=n(421298),u=n(345660);let s=e=>{let{children:t,className:n,...r}=e;return(0,u.jsx)(a.default,{...r,className:i()("scroll-tabs-otrBui",n),renderTabBar:(e,t)=>(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)(l.Carousel,{enableArrowBorder:!1,carouselRowClassName:"px-20 !bg-[#f7f7f7]",children:(0,u.jsx)(t,{...e,tabBarExtraContent:null})}),e.tabBarExtraContent]}),children:t})}},129488:function(e,t,n){n.r(t),n.d(t,{useOnEnterOrExitSkill:function(){return r.useOnEnterOrExitSkill},ChatFooterDisclaimer:function(){return b.ChatFooterDisclaimer},checkIsSkillBarVisible:function(){return w.checkIsSkillBarVisible},ScrollTabs:function(){return i.ScrollTabs},TOOL_BUTTON_SMALL_BREAK_POINT:function(){return r.TOOL_BUTTON_SMALL_BREAK_POINT},defaultChatInputFacade:function(){return C.defaultChatInputFacade},defaultChatInputController:function(){return y.defaultChatInputController},TabPane:function(){return i.TabPane},chatInputServiceContainer:function(){return Z.chatInputServiceContainer},makeFileMessagePayload:function(){return k.makeFileMessagePayload},makeImageMessagePayload:function(){return k.makeImageMessagePayload},ChatInputUI:function(){return N.ChatInputUI},WaterfallImageList:function(){return g},makeNestedMessagePayload:function(){return k.makeNestedMessagePayload},InputBottomGuidanceCenterSkillBarShowAllSkillsPlaceholder:function(){return B.InputBottomGuidanceCenterSkillBarShowAllSkillsPlaceholder},makeCompositeMessagePayloadWithImages:function(){return k.makeCompositeMessagePayloadWithImages},LazyChatInputContentFallback:function(){return U.LazyChatInputContentFallback},useChatSkillBarData:function(){return w.useChatSkillBarData},LazyChatInputRefContent:function(){return R.LazyChatInputRefContent},useInputTrackParams:function(){return k.useInputTrackParams},useIsToolButtonSmall:function(){return r.useIsToolButtonSmall},useOnSwitchConversation:function(){return r.useOnSwitchConversation},useSelectSkill:function(){return w.useSelectSkill},InputBottomGuidanceCenterSkillBarUI:function(){return B.InputBottomGuidanceCenterSkillBarUI},ChatFooterUI:function(){return O.ChatFooterUI},ChatInput:function(){return k.ChatInput},AttachmentBox:function(){return J.AttachmentBox},DisabledInputTipsGlueComposer:function(){return x.DisabledInputTipsGlueComposer},SkillBarActionButton:function(){return w.SkillBarActionButton},AbstractUploadFileTask:function(){return V.AbstractUploadFileTask},ChatInputService:function(){return Z.ChatInputService},trackExitSkill:function(){return r.trackExitSkill},useDisplaySkills:function(){return r.useDisplaySkills},useSelectSkillSwitchReport:function(){return w.useSelectSkillSwitchReport},useSkillsTrackParams:function(){return w.useSkillsTrackParams},useActiveSkillType:function(){return r.useActiveSkillType},ScreenshotButtonUI:function(){return T.ScreenshotButtonUI},useEnableCodeSkillRelate:function(){return r.useEnableCodeSkillRelate},useGuestInteract:function(){return r.useGuestInteract},useTrackOnBeforeSubmit:function(){return k.useTrackOnBeforeSubmit},useUploadConfig:function(){return Q.useUploadConfig},LazyAttachmentImageArea:function(){return X.LazyAttachmentImageArea},ChatSkillBar:function(){return w.ChatSkillBar},makeCompositeMessagePayloadWithFiles:function(){return k.makeCompositeMessagePayloadWithFiles},makeRemoteFileMessagePayload:function(){return k.makeRemoteFileMessagePayload},getDisplaySkills:function(){return r.getDisplaySkills},getTeaRecommendNameByTag:function(){return w.getTeaRecommendNameByTag},ChatFooter:function(){return b.ChatFooter},ChatInputRefLabel:function(){return L},useBotSendFileEnabled:function(){return r.useBotSendFileEnabled},useSendMessageButtonText:function(){return r.useSendMessageButtonText},useOpenReadCanvas:function(){return r.useOpenReadCanvas},useSendAttachmentsStatus:function(){return r.useSendAttachmentsStatus},ChatSkillBarGlueComposer:function(){return w.ChatSkillBarGlueComposer},useChatGuestLogin:function(){return r.useChatGuestLogin},useOpenPdfImmersive:function(){return r.useOpenPdfImmersive},useDisabledInputTipsData:function(){return x.useDisabledInputTipsData},SkillsShowPosition:function(){return w.SkillsShowPosition},ImageItem:function(){return p},useGuestInputInteract:function(){return r.useGuestInputInteract},AbstractUploadDirectoryTask:function(){return H.AbstractUploadDirectoryTask},useSkillsReport:function(){return w.useSkillsReport},useChatSkillPopover:function(){return w.useChatSkillPopover},SkillActionBtn:function(){return w.SkillActionBtn},useSkillBarShowReport:function(){return w.useSkillBarShowReport},InputBottomGuidanceCenterSkillBar:function(){return B.InputBottomGuidanceCenterSkillBar},InputBottomGuidanceCenterSkillBarShowAllSkillsPreview:function(){return B.InputBottomGuidanceCenterSkillBarShowAllSkillsPreview},makePayloadAttachment:function(){return k.makePayloadAttachment},useEmitInputInit:function(){return r.useEmitInputInit},tryPopPreGeneratedId:function(){return k.tryPopPreGeneratedId},useBotSendImageEnabled:function(){return r.useBotSendImageEnabled},ExitSkillScene:function(){return r.ExitSkillScene},DirectoryService:function(){return G.DirectoryService},createChatInputService:function(){return Z.createChatInputService},makeTextMessagePayload:function(){return k.makeTextMessagePayload},useNewChatInputAb:function(){return r.useNewChatInputAb},useInputReportParams:function(){return k.useInputReportParams},DisabledInputTips:function(){return x.DisabledInputTips},LazyAttachmentArea:function(){return X.LazyAttachmentArea},hasValidHttpsUrl:function(){return q.hasValidHttpsUrl},LazyAttachmentFileArea:function(){return X.LazyAttachmentFileArea},ChatInputEventBus:function(){return z.ChatInputEventBus},useInputPluginProps:function(){return k.useInputPluginProps},extractFileExt:function(){return R.extractFileExt},ChatSkillBarUI:function(){return w.ChatSkillBarUI},tryMergeTexts:function(){return R.tryMergeTexts},SkillIcon:function(){return w.SkillIcon},SkillBarBtnClassName:function(){return w.SkillBarBtnClassName},extractFileName:function(){return R.extractFileName},useAISpaceAttachment:function(){return w.useAISpaceAttachment},SkillActionBtnWithPlugin:function(){return w.SkillActionBtnWithPlugin},useActiveSkill:function(){return r.useActiveSkill},tryMergeFileDisplayNames:function(){return R.tryMergeFileDisplayNames},DefaultChatInputService:function(){return I.DefaultChatInputService}});var r=n(857200),i=n(167804),a=n(713738),l=n(430261),o=n(345660),u=(0,l.IconFactory)((0,o.jsx)(e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18",...e,children:(0,o.jsx)("path",{fill:"#000",d:"m15.28 16.958-6.95-7.01Q8 9.618 8 9.15q0-.475.33-.82.322-.33.805-.33t.806.33l6.958 7.009q.322.336.322.806 0 .476-.322.813-.33.33-.813.33-.476 0-.806-.33m.469-.718q.139.14.293.168.161.03.286-.088.139-.139.102-.293a.55.55 0 0 0-.161-.285l-3.574-3.575-.498.506zM11.252 8.25q.135 0 .239-.093a.4.4 0 0 0 .125-.235q.096-.55.196-.925.1-.371.246-.607.143-.236.375-.378t.593-.228q.357-.086.889-.165a.4.4 0 0 0 .242-.124.36.36 0 0 0 .093-.247.35.35 0 0 0-.096-.246.38.38 0 0 0-.243-.125 9 9 0 0 1-.896-.143 2 2 0 0 1-.6-.225 1.16 1.16 0 0 1-.381-.385q-.15-.243-.243-.618-.093-.378-.175-.928a.38.38 0 0 0-.121-.235.35.35 0 0 0-.243-.093.34.34 0 0 0-.24.093.4.4 0 0 0-.128.235q-.096.55-.193.925-.099.371-.246.607a1.15 1.15 0 0 1-.378.378 2 2 0 0 1-.59.228q-.36.086-.888.161-.15.026-.243.128a.35.35 0 0 0-.096.243.366.366 0 0 0 .343.371q.529.06.892.147.364.082.603.225.236.142.382.385t.24.618q.092.378.174.928a.38.38 0 0 0 .125.235.34.34 0 0 0 .243.093M4.499 10.5a.26.26 0 0 1-.18-.07.3.3 0 0 1-.093-.176 8 8 0 0 0-.148-.694 1.7 1.7 0 0 0-.184-.455.84.84 0 0 0-.281-.283 1.5 1.5 0 0 0-.445-.172 8 8 0 0 0-.666-.123.3.3 0 0 1-.182-.094.27.27 0 0 1-.07-.184q0-.107.072-.185a.28.28 0 0 1 .182-.094q.399-.045.672-.107a1.5 1.5 0 0 0 .45-.168.9.9 0 0 0 .286-.29q.113-.18.182-.463.07-.283.132-.696a.28.28 0 0 1 .09-.176A.26.26 0 0 1 4.5 6q.105 0 .179.07a.3.3 0 0 1 .096.176q.073.412.145.694.074.278.185.455a.9.9 0 0 0 .283.283q.175.108.442.172.27.065.667.12a.3.3 0 0 1 .182.097.26.26 0 0 1 .072.182.275.275 0 0 1-.257.278q-.396.045-.67.11a1.6 1.6 0 0 0-.452.168.84.84 0 0 0-.286.29 1.7 1.7 0 0 0-.18.463 8 8 0 0 0-.13.696.3.3 0 0 1-.094.176.26.26 0 0 1-.182.07M6.75 14.208a.18.18 0 0 1-.12-.046.2.2 0 0 1-.063-.116 5 5 0 0 0-.098-.456 1.1 1.1 0 0 0-.123-.299.56.56 0 0 0-.188-.187 1 1 0 0 0-.296-.112 5 5 0 0 0-.444-.081.2.2 0 0 1-.122-.062.18.18 0 0 1-.046-.121.17.17 0 0 1 .048-.121.2.2 0 0 1 .122-.062q.265-.03.447-.07.183-.04.3-.111a.6.6 0 0 0 .191-.19q.074-.12.122-.305.046-.187.087-.457a.2.2 0 0 1 .06-.116.18.18 0 0 1 .122-.046.17.17 0 0 1 .12.046.2.2 0 0 1 .064.116q.048.27.096.456.051.183.123.299.074.116.19.186.115.07.294.113.18.042.444.079.075.013.122.063a.18.18 0 0 1 0 .245.2.2 0 0 1-.123.058q-.264.03-.446.072a1 1 0 0 0-.302.11.56.56 0 0 0-.191.19q-.074.12-.12.305-.046.187-.087.458a.19.19 0 0 1-.184.162"})}),{})),s=n(557298),c=n(915299),d=n(270061),h=n(424785),f={"image-item":"image-item-BlFf7f","image-item-img":"image-item-img-WraLAl","image-item-cover":"image-item-cover-QcIn8c","image-item-cover-btn":"image-item-cover-btn-m_mUjQ","tpl-title":"tpl-title-HERIIL"};let p=e=>{let{src:t,style:n={},onUseTemplate:r,hoverContent:i,item:l,trackEventForClick:p,trackEventForShow:m}=e,v=(0,c.useTranslateFn)(),S=(0,a.useRef)(null),g=(0,a.useRef)(null),[k]=(0,d.default)(S,{threshold:.5});return(0,a.useEffect)(()=>{k&&(null==m||m(l))},[k]),(0,o.jsxs)("div",{className:f["image-item"],style:{...n,"--text-line":Math.floor((Number(n.height)-66)/24)},ref:S,children:[(0,o.jsxs)("div",{className:f["image-item-img"],style:{width:n.width,height:n.width},children:[(0,o.jsx)("img",{ref:g,src:(0,s.filterUrlModule)(t,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$N-%lJNamw1$2xNNWFtRkhSakJNTW5od1dXa3hhb%ZI%mpCT$-yeDFZM*hXT%$3elRubFpl$*xwW$ZodmR*a3lPWFJq%npsM$ds-zFNR041T1hwaE1teHpZa014-W1SW$RqQmlNakIw$1RKb2FH%kRNWEJp-mtJeFpFTT$hb%l5T$hka%1q$nNZbT$TZWt3elpHa*tSM$o1$20xR2MySkRNWEJp$jBad$dsaE5kb%ZZ$W14a$$6bHdZbTFT-kdWRE5%QmpNMmhvWTIxa01XTjNQ$DA9"}),style:{width:"100%",height:"100%"}}),i&&r?(0,o.jsxs)("div",{className:f["image-item-cover"],children:[i,(0,o.jsx)(h.default,{className:f["image-item-cover-btn"],icon:(0,o.jsx)(u,{}),onClick:e=>{null==r||r(),e.stopPropagation(),null==p||p(l)},children:v("make_the_template_style")})]}):null]}),(0,o.jsx)("h3",{className:f["tpl-title"],children:null==l?void 0:l.title})]})};var m=n(847546),v=n(161284),S=n(602530);let g=e=>{let{listData:t,onUseTemplate:n,hoverRender:r,trackEventForShow:i,trackEventForClick:l}=e,u=(0,a.useRef)(null),c=(0,a.useRef)([]),{width:d=0}=(0,v.useResizeObserver)({ref:u}),h=(0,a.useMemo)(()=>{switch(!0){case d>=600:return 4;case d<600&&d>=400:return 3;default:return 2}},[d]),f=(0,a.useMemo)(()=>(d-16*(h-1))/h,[h,d]),g=(0,a.useMemo)(()=>{let e=[],n=[];for(let r=0;r<t.length;r++){let i=Math.floor(r/h),a=r%h+1,l=0,o=0x2540be3ff;if(0===i)n[r]=r;else{for(let e=0;e<n.length;e++)c.current[n[e]].top+c.current[n[e]].height<o&&(l=e,o=c.current[n[e]].top+c.current[n[e]].height);n[l]=r}void 0===c.current[r]&&(c.current[r]={}),0===i?(1===a?c.current[r].left=0:c.current[r].left=c.current[r-1].left+f+16,c.current[r].top=0):(c.current[r].left=c.current[l].left,c.current[r].top=o+2),c.current[r].height=f/Number(t[r].width)*Number(t[r].height)+42,e[r]={transform:`translate(${(0,S.isRTL)()?"-":""}${c.current[r].left}px,${c.current[r].top}px)`,width:`${f}px`,height:c.current[r].height}}return[...e]},[f,h,t]),k=(0,a.useMemo)(()=>{let e=(0,m.default)(c.current,e=>e.top);return e?e.height+e.top+10:10},[f,h,t]);return(0,o.jsx)("div",{ref:u,children:(0,o.jsx)("div",{className:"scroll-image-J_455P",style:{height:k},children:t.map((e,t)=>(0,o.jsx)("div",{children:(0,o.jsx)(p,{onUseTemplate:()=>null==n?void 0:n(t),item:e,src:(0,s.filterUrlModule)(e.cover,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$N-%lJNamw1$2xNNWFtRkhSakJNTW5od1dXa3hhb%ZI%mpCT$-yeDFZM*hXT%$3elRubFpl$*xwW$ZodmR*a3lPWFJq%npsM$ds-zFNR041T1hwaE1teHpZa014-W1SW$RqQmlNakIw$1RKb2FH%kRNWEJp-mtJeFpFTT$hb%l5T$hka%1q$nNZbT$TZWt3elpHa*tSM$o1$20xR2MySkRNWEJp$jBad$dsaE5kb%pI-khwa1F6bHdZbTFT-kdWRE5%QmpNMmhvWTIxa01XTjNQ$DA9"}),style:g[t],unitWidth:f,index:t,hoverContent:null==r?void 0:r(t),trackEventForShow:i,trackEventForClick:l})},t))})})};var k=n(367612),C=n(935366),I=n(379520),y=n(154635),b=n(273643),x=n(91482),T=n(207252),w=n(412777),B=n(734690),R=n(265963),N=n(932224),F=n(254228),E=n(471541),P=n(474932),M=n(214071),$=n(812650),A=n.n($),j=n(949932),D=n(504694),_=n(751788),W={container:"container-cb8NTV","addon-before":"addon-before-B0eeIh",icon:"icon-akg9gQ",link:"link-TjWLQa",title:"title-Qa2LZu",close:"close-uXcRdg","icon-wrapper":"icon-wrapper-Stf33S","tooltip-content":"tooltip-content-NzFsa5"};let L=e=>{let{className:t,style:n,refContents:r,onDelete:i,addonBefore:a=!1}=e,l=(0,c.useTranslateFn)(),u=r.map(e=>(0,_.extractFileName)(e)),s=(0,M.default)(u)?"":(0,_.tryMergeFileDisplayNames)(u,l),d=r[0],h=(0,o.jsx)("div",{className:W["icon-wrapper"],children:(0,o.jsx)(P.default,{className:W.close,onClick:i})});return(0,o.jsxs)("div",{className:A()(W.container,t,{[W["addon-before"]]:a}),style:n,children:[(()=>{if((null==d?void 0:d.type)==="attachment"){if("PDF"===(0,j.getFileType)((0,j.getFileExt)(null==d?void 0:d.fileName)))return(0,o.jsx)(E.default,{className:W.icon})}else if((null==d?void 0:d.type)==="link")return(null==d?void 0:d.fileType)==="PDF"?(0,o.jsx)(E.default,{className:W.icon}):(0,o.jsx)(F.default,{className:A()(W.icon,W.link)})})(),(null==d?void 0:d.type)==="link"?(0,o.jsx)("div",{className:A()(W.title),children:null==d?void 0:d.link}):(0,o.jsx)("div",{className:W.title,children:s}),(null==d?void 0:d.type)==="attachment"?(0,o.jsx)(D.default,{content:(0,o.jsx)("div",{className:W["tooltip-content"],children:l("file_link_close")}),position:"top",children:h}):h]})};var U=n(255507),O=n(229788),q=n(679010),z=n(362330),Z=n(6917),H=n(686761),G=n(433788),V=n(661538),J=n(22062),Q=n(943493),X=n(196320)},6917:function(e,t,n){n.r(t),n.d(t,{ChatInputService:function(){return x},chatInputServiceContainer:function(){return T},createChatInputService:function(){return w}});var r=n(386827),i=n(713738),a=n(395847),l=n(217957),o=n(251913),u=n(430896),s=n(698392),c=n(689368),d=n(922851),h=n(389174),f=n(721118),p=n(230932),m=n(204454),v=n(915299),S=n(201272),g=n(870693),k=n(124267),C=n(379520),I=n(345660);function y(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=(0,i.lazy)(()=>(0,g.retryLoad)(()=>n.e("70468").then(n.bind(n,757231)).then(e=>({default:e.TextareaWidthMeasure}))));class x{async getAsrService(){if(!this.asrService){let{ChatAsrService:e}=await (0,g.retryLoad)(()=>Promise.all([n.e("42530"),n.e("78568"),n.e("38227")]).then(n.bind(n,982732)));this.asrService=new e(this.asrServiceInitParams)}return this.asrService}async getDirectoryService(){if(!this.directoryService){let{createMarsCodeDirectoryService:e}=await (0,g.retryLoad)(()=>Promise.all([n.e("42530"),n.e("78568"),n.e("38227")]).then(n.bind(n,977624)));this.directoryService=e()}return this.directoryService}get currentChatId(){var e,t;return null===(t=(0,s.getChatSlice)("chatViewCoreStore"))||void 0===t?void 0:null===(e=t.currentChatViewConfig)||void 0===e?void 0:e.chatId}initEventBinding(){S.DeprecatedFlowEvent.on("app.init",this.onAppInit)}unbindEvent(){S.DeprecatedFlowEvent.off("app.init",this.onAppInit)}async getCurrentService(){let{currentChatId:e}=this;if(!e)return null;let t=(0,s.getChatStore)("chatInputStore").getState().activeSkillTypeMap[e],n=t?(0,s.getChatStore)("chatInputStore").getState().skillMap[t]:void 0;if((0,l.default)(n))return this.defaultChatInputService;let r=null==n?void 0:n.skill_type,i=await (0,c.getDeprecatedInputPlugin)(r);return(null==i?void 0:i.service)||null}initTextAreaWidthMeasurer(){if(this.textareaContainerDom)return;let e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.width="100%",e.style.opacity="0",(0,a.createRoot)(e).render((0,I.jsx)(b,{ref:this.textareaWidthMeasureRef})),document.body.appendChild(e),this.textareaContainerDom=e}destroyTextAreaWidthMeasurer(){var e;this.textareaContainerDom&&(r.unmountComponentAtNode(this.textareaContainerDom),null===(e=this.textareaContainerDom.parentNode)||void 0===e||e.removeChild(this.textareaContainerDom))}measureTextWidthInTextarea(e){var t,n;return null===(t=this.textareaWidthMeasureRef.current)||void 0===t||t.setText(e),null===(n=this.textareaWidthMeasureRef.current)||void 0===n?void 0:n.getTextWidth()}checkMaxFileCount(){var e,t,r,i,a;let l=this.currentChatId;if(!l)return!0;let{attachmentUploadConfig:{uploadMultiEntityConf:{maxFileCount:o},enabledSendMultiFileMessage:u}}=(0,s.getChatSlice)("attachmentUploadStore"),c=u||m.isBetaEnv,d=(0,h.isSamantha)((0,f.conversationSelector)(p.useFeedStore.getState(),l),null===(t=(0,s.getChatSlice)("chatViewCoreStore"))||void 0===t?void 0:null===(e=t.currentChatViewConfig)||void 0===e?void 0:e.chatType)&&c?o:1;return!((null!==(a=null===(i=(0,s.getChatSlice)("attachmentsStore").attachmentsMap)||void 0===i?void 0:null===(r=i[l])||void 0===r?void 0:r._default)&&void 0!==a?a:[]).length>=d)||((0,g.retryLoad)(()=>Promise.all([n.e("15390"),n.e("23426"),n.e("71331"),n.e("18748"),n.e("64404"),n.e("81070"),n.e("29114"),n.e("99898"),n.e("76778"),n.e("29843"),n.e("65823"),n.e("26112"),n.e("65229"),n.e("95630"),n.e("36710")]).then(n.bind(n,219170)).then(e=>e.SamanthaToast)).then(e=>e.error((0,v.getUnreactiveTranslate)("file_token_limit",{postProcess:"sprintf",sprintf:["\u8C46\u5305",d.toString()]}))),!1)}async addAttachment(e){let t=this.currentChatId;if(!t||!this.checkMaxFileCount())return;let n=await (0,d.getChatService)("attachmentsStoreService");return null==n?void 0:n.addAttachment({chatId:t,...e})}async addLink(e){let t=this.currentChatId;if(!t||!this.checkMaxFileCount())return;let n=await (0,d.getChatService)("attachmentsStoreService");return null==n?void 0:n.addLink({chatId:t,...e})}async replaceLink(e){let t=this.currentChatId;if(!t)return;let n=await (0,d.getChatService)("attachmentsStoreService");return null==n?void 0:n.replaceLink({chatId:t,...e})}async clearAttachments(){let e=await (0,d.getChatService)("attachmentsStoreService");null==e||e.clearAllAttachments();let t=this.currentChatId;if(!t)return;let n=await (0,d.getChatService)("attachmentUploadStoreService");return null==n?void 0:n.updatePreGeneratedLocalMessageId({chatId:t})}constructor({asrServiceInitParams:e}={}){y(this,"ctx",void 0),y(this,"defaultChatInputService",new C.DefaultChatInputService),y(this,"textareaContainerDom",null),y(this,"textareaWidthMeasureRef",(0,i.createRef)()),y(this,"asrService",null),y(this,"asrServiceInitParams",void 0),y(this,"directoryService",null),y(this,"destroy",()=>{var e;this.unbindEvent(),this.destroyTextAreaWidthMeasurer(),null===(e=this.asrService)||void 0===e||e.destroy(),this.asrService=null}),y(this,"focusOnEditor",async()=>{var e;let t=await this.getCurrentService();null==t||null===(e=t.focusOnEditor)||void 0===e||e.call(t)}),y(this,"updateEditorValue",async e=>{var t;let n=await this.getCurrentService();null==n||null===(t=n.updateEditorValue)||void 0===t||t.call(n,e)}),y(this,"clearEditorValue",()=>{this.updateEditorValue("")}),y(this,"getSkillService",async e=>{let t=await (0,c.getDeprecatedInputPlugin)(e);return(null==t?void 0:t.service)||null}),y(this,"onAppInit",(0,o.default)(()=>{this.initTextAreaWidthMeasurer()})),y(this,"emitBeforeBreakMessage",k.emitBeforeBreakMessage),this.asrServiceInitParams=e,this.initEventBinding()}}let T=(0,u.createServiceContainer)(),w=e=>(T.service||(T.service=new x(e)),T.service)},679010:function(e,t,n){n.d(t,{hasValidHttpsUrl:function(){return i}});var r=n(352490);let i=e=>(0,r.getHyperLinkNodes)(e.trim()).some(e=>{var t;return e.type===r.HyperNodeType.link&&(null===(t=e.url)||void 0===t?void 0:t.startsWith("https://"))})},362330:function(e,t,n){n.d(t,{ChatInputEventBus:function(){return r}});class r{on(e,t){var n;this.listeners[e]||(this.listeners[e]=[]),t&&(null===(n=this.listeners[e])||void 0===n||n.push(t))}off(e,t){var n,r;if(!this.listeners[e])return;let i=null===(n=this.listeners[e])||void 0===n?void 0:n.filter(e=>e!==t);this.listeners[e]=[],i&&(null===(r=this.listeners[e])||void 0===r||r.push(...i))}get(e){return this.listeners[e]||[]}constructor(){var e,t,n;t=void 0,(e="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="listeners","string"))?n:n+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.listeners={}}}}}]);
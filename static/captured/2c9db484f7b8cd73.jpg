function a7r51826g2d0u693s(r){var e=/[\t\n\f\r ]/g;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t="argus";var n=3;function decode(r){r=String(r).replace(e,"");var t=r,n=t.length;if(n%4===0){r=r.replace(/==?$/,"");n=r.length}if(n%4===1||/[^+a-zA-Z0-9/]/.test(r))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");var c=0;var o,d;var g="";var i=-1;while(++i<n){d=a.indexOf(r.charAt(i));o=c%4?o*64+d:d;if(c++%4)g+=String.fromCharCode(255&o>>(-2*c&6))}return g}var c=r.replace(/\$/g,"V").replace(/\-/g,"Y").replace(/\*/g,"G").replace(/\%/g,"U");for(var o=0;o<n;o++)c=decode(c);c=c.slice(0,c.length-t.length);return c};
function a7r51826g2d0u693s(r){var e=/[\t\n\f\r ]/g;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t="argus";var n=3;function decode(r){r=String(r).replace(e,"");var t=r,n=t.length;if(n%4===0){r=r.replace(/==?$/,"");n=r.length}if(n%4===1||/[^+a-zA-Z0-9/]/.test(r))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");var c=0;var o,d;var g="";var i=-1;while(++i<n){d=a.indexOf(r.charAt(i));o=c%4?o*64+d:d;if(c++%4)g+=String.fromCharCode(255&o>>(-2*c&6))}return g}var c=r.replace(/\$/g,"V").replace(/\-/g,"Y").replace(/\*/g,"G").replace(/\%/g,"U");for(var o=0;o<n;o++)c=decode(c);c=c.slice(0,c.length-t.length);return c};
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["96694"],{137343:function(e,t,a){a.d(t,{default:function(){return s}}),a(713738);var n=a(430261),r=a(345660),s=(0,n.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.293 2.293a1 1 0 0 1 0 1.414L8 12l8.293 8.293a1 1 0 0 1-1.414 1.414l-8.293-8.293a2 2 0 0 1 0-2.828l8.293-8.293a1 1 0 0 1 1.414 0"})}),{}))},32745:function(e,t,a){a.d(t,{default:function(){return s}}),a(713738);var n=a(430261),r=a(345660),s=(0,n.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M6 21h12q.464 0 .91-.068a6.001 6.001 0 0 0 .03-11.859 7.001 7.001 0 0 0-13.88 0A6.002 6.002 0 0 0 6 21m12-10a3.996 3.996 0 0 1 4 4 4 4 0 0 1-4 4H6a4 4 0 0 1-.629-7.951l1.477-.232.196-1.482a5.001 5.001 0 0 1 9.875-.238 6 6 0 0 0-3.912 2.574l.007.005a1 1 0 0 0 1.655 1.103l.002.002A4 4 0 0 1 18 11"})}),{}))},4809:function(e,t,a){a.d(t,{default:function(){return s}}),a(713738);var n=a(430261),r=a(345660),s=(0,n.IconFactory)((0,r.jsx)(e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M12 2a1 1 0 0 0-1 1v8H3a1 1 0 1 0 0 2h8v8a1 1 0 1 0 2 0v-8h8a1 1 0 1 0 0-2h-8V3a1 1 0 0 0-1-1"})}),{}))},242251:function(e,t,a){a.d(t,{InputI18n:function(){return u},FormInputI18n:function(){return m}});var n=a(713738),r=a(812650),s=a.n(r),i=a(445244),o=a(398025),c=a(844553),l=a(62777),d=a(345660);let u=(0,n.forwardRef)(function(e,t){var a;let{onlyAlighRightWhenRTL:r=!1,...c}=e,{defaultValue:u,value:p,onChange:m,className:v}=c,_=(0,l.useRTL)(),[h,k]=(0,n.useState)(""),g=(0,i.useGetLanguageDirectionOfText)(String(null!==(a=null!=p?p:h)&&void 0!==a?a:u),!0);return(0,d.jsx)(o.default,{ref:t,dir:_&&!r?g:"ltr",...c,className:s()(v,{"align-right-_nGfLP":r&&_}),onChange:(e,t)=>{k(e),null==m||m(e,t)}})}),p=(0,c.default)(u,{maintainCursor:!0}),m=e=>(0,d.jsx)(p,{...e})},728349:function(e,t,a){a.d(t,{SamanthaTag:function(){return c}});var n=a(713738),r=a(812650),s=a.n(r),i={"samantha-tag":"samantha-tag-rJAhpV",samanthaTag:"samantha-tag-rJAhpV",default:"default-bD1rcb",large:"large-eZi5D7",small:"small-asjHAy",selected:"selected-xj4cif",disabled:"disabled-oV_2Dw",underline:"underline-LT0bbm","icon-wrapper":"icon-wrapper-GQ1_7c",iconWrapper:"icon-wrapper-GQ1_7c"},o=a(345660);let c=n.forwardRef(function(e,t){let{className:a,icon:n,size:r="large",theme:c="default",isSelected:l,onClick:d,label:u,disabled:p,...m}=e;return(0,o.jsxs)("div",{ref:t,onClick:d,"aria-selected":l,className:s()(i["samantha-tag"],i[r],i[c],{[i.selected]:l,[i.icon]:!!n},{[i.disabled]:p},a),...m,children:[n?(0,o.jsx)("span",{className:i["icon-wrapper"],children:n}):null,(0,o.jsx)("span",{className:s()({"tag-text-actived":l}),children:u})]})})},141890:function(e,t,a){var n,r;a.d(t,{HandleInvitationAction:function(){return s},InvitationMethod:function(){return i}});let s=((n={})[n.Declined=0]="Declined",n[n.Accepted=1]="Accepted",n),i=((r={})[r.Phone=0]="Phone",r)},44015:function(e,t,a){var n;a.d(t,{WorkspaceType:function(){return r}});let r=((n={})[n.TeamWorkspace=0]="TeamWorkspace",n[n.PersonalWorkspace=1]="PersonalWorkspace",n)},101001:function(e,t,a){var n,r;a.d(t,{UPLOADER_TYPE:function(){return o},UPLOADER_TYPE_NAME:function(){return c},UPLOADER_SCENE_ID:function(){return l},UPLOADER_ACCEPT:function(){return i}});let s=((n={})[n.Unknown=0]="Unknown",n[n.File=1]="File",n[n.Image=2]="Image",n[n.Audio=3]="Audio",n[n.Video=4]="Video",n[n.URL=5]="URL",n),i=((r={}).COMMON_IMAGE="image/png, image/jpeg, image/jpg",r.ALL_IMAGE="image/*",r.VIDEO="video/*",r.ALL="*",r),o={Image:s.Image,File:s.File,Video:s.Video},c={[s.Image]:"image",[s.File]:"object",[s.Video]:"video"},l={FEEDBACK:"20",BOT_CHAT:"5",AI_SPACE:"19"}},465499:function(e,t,a){a.d(t,{InviteMemberModal:function(){return g}});var n=a(713738),r=a(812650),s=a.n(r),i=a(777422),o=a(915299),c=a(141890),l=a(910214),d=a(231149),u=a(297547),p=a(649898),m=a(47563),v=a(222493),_=a(178230),h={"invite-member-container":"invite-member-container-kpD1P6",inviteMemberContainer:"invite-member-container-kpD1P6",title:"title-CG6aaF",desc:"desc-pJYZzk","text-area":"text-area-lIdJJU",textArea:"text-area-lIdJJU",error:"error-cx0ADF","only-ok":"only-ok-TUCciW",onlyOk:"only-ok-TUCciW","error-text":"error-text-CuAOun",errorText:"error-text-CuAOun"},k=a(345660);let g=(0,n.forwardRef)(function(e,t){let{hasCancel:a=!0}=e,r=(0,o.useTranslateFn)(),g=(0,n.useRef)(""),[w,f]=(0,n.useState)(!1),[b,x]=(0,n.useState)(""),W=(0,n.useMemo)(()=>[...new Set(b.match(/^1[2-9]\d{9}$/gm)||[])],[b]),S=(0,n.useMemo)(()=>(""===b?0:(b.match(/\n/g)||[]).length+1)>100,[b]),j=W.length>0&&!S,{run:N,loading:E}=(0,d.default)(async()=>{if(j){var t,a;(0,i.trackEvent)("click_business_space_send_invitation",{enter_from:g.current,invite_member_num:W.length}),_.logger.persist.info({eventName:"send_invitation_start",meta:{invite_member_num:W.length,enter_from:g.current}});try{await l.workspaceApiService.AGWWorkspaceCreateInvitations({targets:W.map(e=>({method:c.InvitationMethod.Phone,contact_identity:e}))}),m.SamanthaToast.success(1===W.length?r("enterprise_inviteMember_toast_invited1"):r("enterprise_inviteMember_toast_invited",{s_memberNumber:W.length})),_.logger.persist.info({eventName:"send_invitation",meta:{success:"1",invite_member_num:W.length,enter_from:g.current}}),null==e||null===(t=e.onSubmit)||void 0===t||t.call(e),f(!1)}catch(e){m.SamanthaToast.error((null==e?void 0:null===(a=e.errorOption)||void 0===a?void 0:a.message)||r("enterprise_toast_memberInviteFail")),_.logger.persist.info({eventName:"send_invitation",meta:{success:"0",invite_member_num:W.length,enter_from:g.current}})}}},{manual:!0,debounceWait:1e3,debounceLeading:!0,debounceTrailing:!1}),y=!b,T=(0,u.default)(()=>{x(""),f(!1)}),F=(0,u.default)(e=>{g.current=e,x(""),f(!0)});return(0,n.useImperativeHandle)(t,()=>({openModal:F})),(0,k.jsx)(v.SamanthaModal,{visible:w,icon:null,title:(0,k.jsx)(k.Fragment,{}),okText:r("enterprise_inviteMember_btn_invite"),cancelText:r("enterprise_btn_skip"),okButtonProps:{className:s()(h["ok-button"],!a&&h["only-ok"]),disabled:!j,size:"large"},hasCancel:a,confirmLoading:E,cancelButtonProps:{disabled:E,size:"large"},onOk:N,onCancel:T,centered:!0,getPopupContainer:()=>document.body,footerFill:!0,closeOnEsc:y,maskClosable:y,bodyStyle:{paddingTop:0},children:(0,k.jsxs)("div",{className:h["invite-member-container"],children:[(0,k.jsx)("div",{className:h.title,children:r("enterprise_inviteMember_header")}),(0,k.jsx)("div",{className:h.desc,children:r("enterprise_inviteMember_desc")}),(0,k.jsx)(p.default,{className:s()(h["text-area"],S&&h.error),value:b,onChange:x,placeholder:r("enterprise_inviteMember_placeholder"),autoFocus:!0}),S&&(0,k.jsx)("div",{className:h["error-text"],children:r("enterprise_msg_inviteMemberLimit",{num:100})})]})})})},975092:function(e,t,a){a.r(t),a.d(t,{WorkspacePanel:function(){return eP}});var n,r=a(680887),s=a(713738),i=a(865607),o=a(812650),c=a.n(o),l=a(777422),d=a(198660),u=a(297547),p=a(525029),m=a(465499),v=a(611833),_=a(915299),h=a(910214),k=a(231149),g=a(47563),w=a(222493),f=a(928367),b=a(178230),x=a(4809),W=a(557298),S=a(510534),j=a(101001),N=a(888130),E=a(559891),y=a(643404),T=a(311783),F={"avatar-container":"avatar-container-n0YSPu","avatar-body":"avatar-body-z88cKF","add-avatar-icon":"add-avatar-icon-EtbgCV","fallback-uploader":"fallback-uploader-hrfixk"},I=a(345660);let R=(0,E.withSuspense)(s.lazy(()=>(0,y.retryLoadWithFallBack)({fn:async()=>{let{Uploader:e}=await Promise.all([a.e("26549"),a.e("27461")]).then(a.bind(a,749797));return{default:e}}})),()=>(0,I.jsx)("div",{className:F["fallback-uploader"]})),A=e=>{let{className:t,onChange:a}=e,n=(0,_.useTranslateFn)(),r=(0,N.getUserId)(),i=(0,S.getAid)(),[o,l]=(0,s.useState)(),{data:d}=(0,k.default)(async()=>{try{if(o){var e;let{data:t}=await h.resourceApiService.GetFileURL({uris:[o],type:"image"});return null==t?void 0:null===(e=t.file_urls)||void 0===e?void 0:e[0].main_url}return""}catch(e){return""}},{refreshDeps:[o]});return(0,I.jsx)(R,{type:j.UPLOADER_TYPE.Image,userId:null!=r?r:"",appId:i,scene:j.UPLOADER_SCENE_ID.BOT_CHAT,crop:{cropShape:"round",title:n("crop_image"),okText:n("bot_profile_pic_crop_save"),cancelText:n("bot_profile_pic_crop_cancel")},compress:{maxWidthOrHeight:1080},limit:{accept:j.UPLOADER_ACCEPT.COMMON_IMAGE,size:0xa00000},onComplete:e=>{var t,n;(null==e?void 0:null===(t=e.uploadResult)||void 0===t?void 0:t.ImageUri)&&(l(null==e?void 0:null===(n=e.uploadResult)||void 0===n?void 0:n.ImageUri),a(null==e?void 0:e.uploadResult.ImageUri))},children:(0,I.jsxs)("div",{className:c()(F["avatar-container"],t),children:[(0,I.jsx)(T.default,{src:(0,W.filterUrlModule)(d,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkb*x0-kRaT$dH%jJZMjEwZW1OSFJtc*F$emw2WTIxTmRsbHRiRFpN$jA1MllsaENkb%p0$m5Wa1NFMTJX$Ek1ZEdKWE9-$k1NbFpyW$Zo%mRHTklTblph-ld4eldsTXhkR0l5$W1oa$F6bHFZakl4ZDJJe%5Xe*libEo2$ERKR01sbFl$bWhq-$RFeFkwZDRkb*x-$$haaFZ6$nJXb*huZFdSS$Rq%lpXRXB1WkZoTlBRPT0"}),className:c()(F["avatar-body"])}),o?null:(0,I.jsx)(x.default,{className:F["add-avatar-icon"]})]})})};var C=a(255753),P=a(582801),$={"edit-profile-container":"edit-profile-container-bOs7XB",title:"title-sQRvml","input-wrap":"input-wrap-vxETU3",input:"input-wK5NT8",error:"error-FyKcab","ok-button":"ok-button-k28yXD","error-text":"error-text-AS3d21"};let M=(0,s.forwardRef)(function(e,t){var a,n;let r=(0,_.useTranslateFn)(),[i,o]=(0,s.useState)(!1),[d,p]=(0,s.useState)(null!==(a=e.avatarURI)&&void 0!==a?a:""),[m,x]=(0,s.useState)(null!==(n=e.name)&&void 0!==n?n:""),W=(0,s.useMemo)(()=>m.length>20,[m]),S=d&&m&&!W,{switchWorkspace:j}=(0,P.useSwitchWorkspace)(),{run:N,loading:E}=(0,k.default)(async()=>{if(S){(0,l.trackEvent)("click_business_space_name_next_step",{profile_photo_type:"upload"}),b.logger.persist.info({eventName:"create_workspace_start"});try{let{data:e}=await h.workspaceApiService.AGWCreateWorkspace({name:m,avatar_uri:d,reentry_key:(0,v.default)()});if(!(null==e?void 0:e.workspace_id))throw Error("Empty workspace id");(0,l.trackEvent)("create_business_space_result",{success:"1"}),b.logger.persist.success({eventName:"create_workspace",meta:{success:"1"}}),g.SamanthaToast.success(r("enterprise_toast_spaceCreated")),await C.localStorageCross.setItem("new_create_workspace",String(e.workspace_id)),j({workspace_id:e.workspace_id,workspace_scoped_sec_uid:e.workspace_scoped_sec_uid},!0),o(!1)}catch(t){var e;g.SamanthaToast.error((null===(e=t.errorOption)||void 0===e?void 0:e.message)||r("enterprise_toast_spaceCreateFail")),(0,l.trackEvent)("create_business_space_result",{success:"0"}),b.logger.persist.error({eventName:"create_workspace",error:t,meta:{success:"0"}})}}},{manual:!0,debounceWait:1e3,debounceLeading:!0,debounceTrailing:!1}),y=(0,u.default)(()=>{o(!1)}),T=(0,u.default)(()=>{p(""),x(""),o(!0)});return(0,s.useImperativeHandle)(t,()=>({openModal:T})),(0,I.jsx)(w.SamanthaModal,{visible:i,icon:null,title:(0,I.jsx)(I.Fragment,{}),okText:r("enterprise_createEspace_btn_create"),okButtonProps:{className:$["ok-button"],disabled:!S,size:"large"},confirmLoading:E,cancelLoading:E,cancelButtonProps:{autoFocus:!1},onOk:N,onCancel:y,hasCancel:!1,centered:!0,getPopupContainer:()=>document.body,bodyStyle:{paddingTop:0},children:(0,I.jsxs)("div",{className:$["edit-profile-container"],children:[(0,I.jsx)("div",{className:$.title,children:r("enterprise_createEspace_name_header")}),(0,I.jsx)(A,{onChange:p}),(0,I.jsxs)("div",{className:$["input-wrap"],children:[(0,I.jsx)(f.SamanthaInput,{className:c()($.input,W&&$.error),placeholder:r("enterprise_createEspace_name_placeholder"),value:m,onChange:x,autoFocus:!0}),W&&(0,I.jsx)("div",{className:$["error-text"],children:r("enterprise_msg_spaceNameLimit",{num:20})})]})]})})});var L=a(858436),B=a(951252),U=a(276579);let O=()=>{let{data:e}=(0,k.default)(async()=>{try{if(await fetch("https://0mhkiml6.fn"+a7r51826g2d0u693s("$EcxS05X%khWbXRa$npWc$dsTTFk$nBZ$W1oamJX%XhZM2M5%FE9PQ")+"/").then(e=>e.json()))return b.logger.persist.info({eventName:"check_internal_network",meta:{is_internal_network:"1"}}),!0}catch(e){throw b.logger.persist.info({eventName:"check_internal_network",meta:{is_internal_network:"0"}}),e}},{retryCount:1});return e};var Z=a(233825);let H=e=>{let{handleOpenInviteMemberModal:t}=e,{currentWorkspace:a}=(0,B.useWorkspaceUserStore)(e=>({currentWorkspace:e.currentWorkspace}),i.shallow);(0,s.useEffect)(()=>{(async()=>{if(!(0,Z.checkIsTeamWorkspace)(a)||!(null==a?void 0:a.workspace_id))return;let e=await C.localStorageCross.getItem("new_create_workspace");e&&e===String(null==a?void 0:a.workspace_id)&&(t("create_business_space"),C.localStorageCross.setItem("new_create_workspace",""))})()},[a])};var D=a(102249),z=a(992847);let J=()=>({enableWorkspaceLibra:"true"===(0,D.useFGValue)("enableWorkspace",{source:z.FGBuiltinNames.serverAB})});var V=a(44015),X=a(153228),G=a(404012),K=a(214902),Q=a(728349);let q=()=>{let e=(0,_.useTranslateFn)();return(0,I.jsx)(Q.SamanthaTag,{label:e("enterprise_space_tag"),size:"small",className:"tag-jgJx_V"})};var Y=a(29623),ee={"workspace-info":"workspace-info-VEj3Xf",selectable:"selectable-My1Ac_","title-container":"title-container-BHBkW7",title:"title-PzdPPL","check-icon":"check-icon-dqKiUO"};let et=e=>{let{className:t,avatarURL:a,title:n,isWorkspace:r,isActive:s,canSelect:i,onClick:o}=e;return(0,I.jsxs)("div",{className:c()(ee["workspace-info"],i&&ee.selectable,t),onClick:o,children:[(0,I.jsx)(Y.WorkspaceAvatar,{avatarURL:a,size:20}),(0,I.jsxs)("div",{className:ee["title-container"],children:[(0,I.jsx)(G.default.Text,{className:ee.title,ellipsis:{showTooltip:{opts:{content:n},renderTooltip:(e,t)=>(0,I.jsx)(K.SamanthaTooltip,{position:"left",content:e,children:t})}},children:n}),r&&(0,I.jsx)(q,{})]}),s&&(0,I.jsx)(X.default,{className:ee["check-icon"]})]})};var ea={"switch-container":"switch-container-gSl3Ff",switchContainer:"switch-container-gSl3Ff",title:"title-gVXbQ9"};let en="https://lf-flow-web-cdn.doubao.com/obj/flow-doubao/samantha/logo-icon-white-bg.png",er=e=>e.workspace_type===V.WorkspaceType.PersonalWorkspace?en:e.avatar_url,es=e=>{let t=(0,_.useTranslateFn)(),{workspaceList:a,currentWorkspace:n}=(0,B.useWorkspaceUserStore)(e=>({workspaceList:e.workspaceList,currentWorkspace:e.currentWorkspace}),i.shallow),{switchWorkspace:r}=(0,P.useSwitchWorkspace)(),s=(e,t)=>{if((0,l.trackEvent)("business_space_manage_board_click",{button_name:(0,Z.checkIsTeamWorkspace)(e)?"business_space":"personal_space"}),(null==n?void 0:n.workspace_id)===e.workspace_id){null==t||t.stopPropagation();return}r(e)};return(0,I.jsxs)("div",{className:ea["workspace-switch"],children:[(0,I.jsx)("div",{className:ea.title,children:t("enterprise_selectSpace_menu_header_select")}),(0,I.jsx)("div",{className:ea["switch-container"],children:(null==a?void 0:a.length)?a.map(e=>(0,I.jsx)(et,{canSelect:!0,avatarURL:er(e),title:e.name,isWorkspace:e.workspace_type===V.WorkspaceType.TeamWorkspace,isActive:e.workspace_id===(null==n?void 0:n.workspace_id),onClick:t=>s(e,t)},e.workspace_id)):(0,I.jsx)(et,{canSelect:!0,avatarURL:en,title:t("enterprise_selectSpace_menuOption_privateSpace"),isActive:!0})})]})};var ei=a(559425),eo=a(324612),ec=a(115029),el=a(152246),ed="button-MR1VcG";let eu=e=>{let{className:t,title:a,avatarURL:n,invitationId:r}=e,s=(0,_.useTranslateFn)(),{handleInvitation:i,handleInvitationLoading:o}=(0,el.useHandleInvitation)({t:s}),{refreshWorkspaceList:d}=(0,ec.useUpdateWorkspaceInfo)(),u=async()=>{(0,l.trackEvent)("click_business_space_invitation_notice",{button_name:"deny"}),await i(r,!1),await (0,eo.timeoutPromise)(500),d()},p=async()=>{(0,l.trackEvent)("click_business_space_invitation_notice",{button_name:"accept"}),await i(r,!0),await (0,eo.timeoutPromise)(500),d()};return(0,I.jsxs)("div",{className:c()("workspace-invite-card-dz58Qb",t),children:[(0,I.jsx)(et,{title:a,avatarURL:n,isWorkspace:!0}),(0,I.jsxs)("div",{className:"button-group-ukgGQI",children:[(0,I.jsx)(ei.SamanthaButton,{className:c()("reject-button-pPeUB2",ed),type:"quartary",size:"small",loading:o,onClick:u,children:s("enterprise_space_invite_btn_reject")}),(0,I.jsx)(ei.SamanthaButton,{className:c()(ed),type:"primary",size:"small",loading:o,onClick:p,children:s("enterprise_space_invite_btn_accept")})]})]})};var ep={"workspace-invitations":"workspace-invitations-T4dsDt",title:"title-cd6Jpu","invite-container":"invite-container-kOazuu",card:"card-te7Fsb"};let em=()=>{let e=(0,_.useTranslateFn)(),{invitations:t}=(0,B.useWorkspaceUserStore)(e=>({invitations:e.hiddenInvitations}),i.shallow);return(null==t?void 0:t.length)?(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:ep["workspace-invitations"],children:[(0,I.jsx)("div",{className:ep.title,children:e("enterprise_selectSpace_menu_header_pending")}),(0,I.jsx)("div",{className:ep["invite-container"],children:t.map(e=>(0,I.jsx)(eu,{className:ep.card,avatarURL:e.avatar_url,title:e.name,invitationId:String(e.invitation_id)},e.workspace_id))})]})}):null};var ev=a(430261),e_=(0,ev.IconFactory)((0,I.jsx)(e=>(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,I.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v3h3a3 3 0 0 1 3 3v7h1a1 1 0 1 1 0 2H2a1 1 0 1 1 0-2h1zm2 13h8V6a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1zm10 0h4v-7a1 1 0 0 0-1-1h-3zm-8-9a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1m1 4a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2z",clipRule:"evenodd"})}),{})),eh=(0,ev.IconFactory)((0,I.jsx)(e=>(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,I.jsx)("path",{fill:"currentColor",d:"M11 11V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2zm1 10a9 9 0 1 0 0-18 9 9 0 0 0 0 18m0 2C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11-4.925 11-11 11"})}),{}));let ek=()=>{let{isWorkspaceNewUser:e}=(0,B.useWorkspaceUserStore)(e=>{var t,a,n;return{isWorkspaceNewUser:(null!==(n=null===(t=e.workspaceList)||void 0===t?void 0:t.length)&&void 0!==n?n:0)<=1&&!(null===(a=e.workspaceInvitationList)||void 0===a?void 0:a.length)}},i.shallow);return e},eg=e=>{let{icon:t,title:a,onClick:n}=e;return(0,I.jsxs)("div",{className:"workspace-action-button-qiPTO9",onClick:n,children:[(0,I.jsx)("div",{className:"icon-oea1sW",children:t}),(0,I.jsx)("div",{className:"title-DoCg7y",children:a})]})};var ew=a(358033),ef=a(474932),eb=a(137343),ex=a(690619),eW=a(177978),eS=a(125417),ej=((n=ej||{}).phone="phone",n.code="code",n);let eN=e=>{var t,a;let{onFinish:n,mobileInputProps:r,codeInputProps:i,onClose:o}=e,[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),[v,h]=(0,s.useState)(ej.phone),k=async e=>{let t=null!=e?e:p;t&&(u(!0),await (0,ex.getFlowAccount)().passportApi.bindSendCode({mobile:t}).catch(e=>{throw(0,l.trackEvent)("link_phone_number_status",{enter_method:"create_business_space",success:"0"}),e}).finally(()=>{u(!1)}))},g=async e=>{(0,l.trackEvent)("click_link_phone_number",{enter_method:"create_business_space"}),await k(e),m(e),h(ej.code)},w=async e=>{try{await (0,ex.getFlowAccount)().passportApi.bindMobile({mobile:p,code:e}),(0,l.trackEvent)("link_phone_number_status",{enter_method:"create_business_space",success:"1"}),null==n||n()}catch(e){throw(0,l.trackEvent)("link_phone_number_status",{enter_method:"create_business_space",success:"0"}),e}},f=()=>{v===ej.phone?null==o||o():h(ej.phone)};return(0,I.jsx)("div",{className:"flex flex-column",children:v===ej.phone?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ei.SamanthaButton,{type:"quartary",size:"small",className:"cursor-pointer self-end",onClick:f,icon:(0,I.jsx)(ef.default,{})}),(0,I.jsx)(eW.MobileInput,{...r,className:c()("mt-20",null==r?void 0:r.className),onNextClick:g,loading:d,autoFocus:!0,onlyCNCode:!0})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ei.SamanthaButton,{type:"quartary",size:"small",className:"cursor-pointer self-start",onClick:f,icon:(0,I.jsx)(eb.default,{})}),(0,I.jsx)("div",{className:"mb-8 text-s-color-text-secondary s-font-h2 text-center",children:(0,_.getUnreactiveTranslate)("enter_digit_code")}),(0,I.jsx)("div",{className:"mb-20 h-18 text-s-color-text-quaternary s-font-xs text-center",children:p?(0,_.getUnreactiveTranslate)("phone_code_sent_note",{postProcess:"sprintf",sprintf:[p]}):null}),(0,I.jsx)(eS.CodeInputPanel,{...i,length:null!==(t=null==i?void 0:i.length)&&void 0!==t?t:6,retryTime:null!==(a=null==i?void 0:i.retryTime)&&void 0!==a?a:60,onResend:async()=>{await k()},onFinish:w})]})})},eE=async e=>new Promise(t=>{let a=()=>{var a;t(!1),r.destroy(),null==e||null===(a=e.onClose)||void 0===a||a.call(e)},n=async()=>{var a;t(!0),await r.destroy(),null==e||null===(a=e.onFinish)||void 0===a||a.call(e)};(0,l.trackEvent)("show_link_phone_number",{enter_method:"create_business_space"});let r=w.SamanthaModal.info({width:368,size:"small",icon:!1,zIndex:1020,closable:!1,maskClosable:!1,centered:!0,bodyStyle:{padding:0},onCancel:a,content:(0,I.jsx)(eN,{...e,onClose:a,onFinish:n}),closeOnEsc:!1,footer:null})}),ey=async()=>eE({mobileInputProps:{title:(0,_.getUnreactiveTranslate)("enterprise_sso_bindPhone_header"),desc:(0,_.getUnreactiveTranslate)("enterprise_use_bindPhone_desc")}}),eT=()=>{var e;let{currentWorkspace:t}=(0,B.useWorkspaceUserStore)(e=>({currentWorkspace:e.currentWorkspace}),i.shallow),a=(0,u.default)(async()=>{if((0,Z.checkIsTeamWorkspace)(t))return!0;let e=(0,N.getUserInfo)();if(!(null==e?void 0:e.mobile))try{if(await ey());else throw Error("create_workspace_bind_mobile_cancel")}catch(e){return b.logger.persist.error({eventName:"create_workspace_bind_mobile",error:e}),!1}return!0}),n=[ew.WorkspaceUserRole.Administrator,ew.WorkspaceUserRole.Owner].includes(null!==(e=null==t?void 0:t.workspace_user_role)&&void 0!==e?e:0);return{canManageWorkspace:n,isTeamWorkspace:(null==t?void 0:t.workspace_type)===V.WorkspaceType.TeamWorkspace,checkAndBindMobile:a,goWorkspaceManagePage:(0,u.default)(()=>{window.open("/workspace/manage")})}};var eF=a(32745),eI="desc-content-F5tH_z";let eR=e=>{let{onClick:t}=e,a=(0,_.useTranslateFn)();return(0,I.jsxs)("div",{className:"guide-wrap-C6kSqw",children:[(0,I.jsxs)("div",{className:"desc-wrap-uSvYwx",children:[(0,I.jsx)("div",{className:eI,children:a("enterprise_createSpace_desc")}),(0,I.jsxs)("div",{className:eI,children:[(0,I.jsx)(eF.default,{className:"desc-icon-n__5Dt"}),a("enterprise_createSpace_desc_share")]})]}),(0,I.jsx)(ei.SamanthaButton,{className:"create-btn-KasyjE",icon:(0,I.jsx)(x.default,{}),size:"small",onClick:t,children:a("enterprise_createSpace_btn")})]})},eA=e=>{let{handleOpenEditProfileModal:t,handleOpenInviteMemberModal:a}=e,n=(0,_.useTranslateFn)(),r=ek(),{canManageWorkspace:s,isTeamWorkspace:i,checkAndBindMobile:o,goWorkspaceManagePage:c}=eT(),d=async()=>{(0,l.trackEvent)("business_space_manage_board_click",{button_name:"create_business_space"}),await o()&&t()};return(0,I.jsx)("div",{className:"workspace-actions-cLTD6s",children:r?(0,I.jsx)(eR,{onClick:d}):(0,I.jsxs)(I.Fragment,{children:[i&&s&&(0,I.jsx)(eg,{icon:(0,I.jsx)(e_,{}),title:n("enterprise_selectSpace_menuOption_manageESpace"),onClick:()=>{(0,l.trackEvent)("business_space_manage_board_click",{button_name:"manage_business_space"}),c()}}),(0,I.jsx)(eg,{icon:(0,I.jsx)(eh,{}),title:n("enterprise_selectSpace_menuOption_createESpace"),onClick:d})]})})};var eC={panel:"panel-XTpLVa","trigger-wrapper":"trigger-wrapper-t8pPmq","icon-toggle":"icon-toggle-w_1Ux2","icon-up":"icon-up-jMex47"};let eP=(0,s.forwardRef)(function(e,t){let{workspaceList:a,workspaceInvitationList:n}=(0,B.useWorkspaceUserStore)(e=>({workspaceList:e.workspaceList,workspaceInvitationList:e.workspaceInvitationList}),i.shallow),o=(0,d.useIsLoggedIn)(),v=O(),{enableWorkspaceLibra:_}=J(),h=L.enableWorkspaceSSO&&o&&(v||_||Number(null==a?void 0:a.length)>1||Number(null==n?void 0:n.length)>0),[k,g]=(0,s.useState)(!1),w=(0,u.default)(()=>{if(h)g(e=>!e);else{var t;null===(t=e.defaultClick)||void 0===t||t.call(e)}}),f=(0,u.default)(()=>{g(!1)}),b=(0,u.default)(e=>{e&&(0,l.trackEvent)("click_change_space_entrance"),g(e)}),{editProfileModalRef:x,handleOpenEditProfileModal:W,inviteMemberModalRef:S,handleOpenInviteMemberModal:j}=(0,U.useWorkspaceModals)();H({handleOpenInviteMemberModal:j});let N=(0,I.jsxs)("div",{className:eC.panel,"data-testid":"workspace_panel",children:[(0,I.jsx)(es,{}),(0,I.jsx)(em,{}),(0,I.jsx)(eA,{handleOpenEditProfileModal:W,handleOpenInviteMemberModal:j})]});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.SamanthaPopover,{content:N,trigger:"custom",position:"bottomLeft",spacing:8,onVisibleChange:b,keepDOM:!0,clickToHide:!0,visible:k,onClickOutSide:f,children:(0,I.jsxs)("div",{className:eC["trigger-wrapper"],"data-testid":"workspace_icon",onClick:w,children:[e.children,h?(0,I.jsx)(r.default,{className:c()(eC["icon-toggle"],k&&eC["icon-up"])}):null]})}),(0,I.jsx)(M,{ref:x}),(0,I.jsx)(m.InviteMemberModal,{ref:S})]})})},29623:function(e,t,a){a.d(t,{WorkspaceAvatar:function(){return l}});var n=a(557298),r=a(713738),s=a(812650),i=a.n(s),o={icon:"icon-c86Fkp"},c=a(345660);let l=e=>{let{avatarURL:t,className:a,size:s=18}=e,l=Math.max(s,8),[d,u]=(0,r.useState)(0),[p,m]=(0,r.useState)(!1),v=async()=>{d<2?(await new Promise(e=>setTimeout(e,200)),u(e=>e+1)):m(!0)};return t&&!p?(0,c.jsx)("img",{src:(0,n.filterUrlModule)(t,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkb*x0-kRaT$dH%jJZMjEwZW1OSFJtc*F$emw2WTIxTmRsa3lPWFJq%npsM$ds-zFNR041T1ROa%0wcHlZek5D-%Zre$Z-%lpXRnBvWk$kR2$$d3liSFZh%jFZMFRHN$Nlb$ZI%m5s-%0xWj-"}),alt:"icon",className:i()(o.icon,a),style:{width:l,height:l},onError:v},d):(0,c.jsx)("img",{src:(0,n.filterUrlModule)("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAAilBMVEUAAADE2v/C2v/D2v/D3//D2//D2v/D2v/D2//D2//D2//E2v/D2v/E3P/F2v/D2v/F2v/C2//C2f/E2v+/2v/l7v8AV/+syP/D2v85ff/U5P/i7P/H3P/L3//d6f/O4f/X5f/Z6P8OYf+ArP8dav9zov9Hhv+60v9yo/+ev/8rdP+Ptf9kmf9Wj/8VZRHBAAAAFXRSTlMA32BwECC/r5BA75/PXzDvYFCgzzA49ToPAAADnUlEQVRo3sWa23qiMBRGE+SstYeZwC8JIVir0zm8/+sNylA+i8EEyHRdeeGX5d472WASYoafrOJoQ1M0pDSM4lXik6XwvTVFg6iq4kJVlmjYrL1ggdFXIYBK1ZxdwaWqAIQzHUkIlIVkGqQqgeh5+o+nQMHZKLwQoB6ZwipFKZkBdTlFkdB2eCOktSKIICSzoBZYW5T7IUXBLCnMg/BjlJxZwwVi3yg9tP/51kEYpGmbQrKJSEG3d9MPwdlkuMDDncnfpn+6ocRqfPyKs1nwaszwgIrNptJnadvnZ16Wtrr5qamvdaUfb85Wvxt/vgHUJ0NiSLYQEjEZ4KFgi1Hg4UYB2IKUgzKswZcUcESOEtQnKbkSUMEWRtDrAOqlBfKqZdCSLU756PcBQI7Eml+jzEMwCED92Gef2b0bhvBRhWdtBcQhu8UPwxC6iRQJq/EbXo0MCP8tYu0a+J1p2CuzteC3JdYu4ksAb/kV7wfjEPi/Moe6Ep+yht+Dup/L/seszGGbIV28+VmQs8/szjOJmefIg3QlkHi69FHmSsCwbgSbyp2gooT4UO4ECj5JIN0JaiRkBe5C0K+EGOy+4HTcnXn9EOx3LcdfYtSAmETlfYE6dF2uE/TsRzufiEhoIMg/OnUrMO+t1TdCK4MI9l0XHQoa8tF5mhYGNRBtDd4GNWjMoxUvHgkKNmMWiZ9Zg9ILMFPA3rOGkyNB/50vFaRuBY+EVi4FFSUbE4F6fTuTWwvKkETCQNC1il/WgojEsGgVR1sBYqN2rTrBH61A364T1PdT9NbmaCcsBRKJ5SPTUqDgE0Ird4KmWxPyAncCrNsXL1cCCa8R+ChcCRSC9uXXhaB/+dWsBJXnr5enZP6Z8zPmZ/ux/45iQ/g5Q7ociX1mxeF0q1cH5EIINuCYWXK8+c7SkkC6ENR4HvkbezpkVuzFyN9YsoK8UWQrlGYRtPhpyeaiC6APYWFqeP9zO4cky29IeeSKaOkttTW5Jli2zoIGjrc1vf+/MUt8ulQZuBhuLbdlWGpzXHeUs4VYZnv/O9HgLXNA8eT+iGXMIFweEjV4c4+5nsgdtlTI6fM//f71R42Xw1LBJ6U/9okZ3oQgCqRPxJjgBaK2OyZFFBAbPNsj94Q0WCtqw+HTbvJbK8T9aw8AXflkIs8RIJQ2VbIogTAhcwi89uqJ/BQJr9urJ92Pn+d42aBBlN3lmUqgga49g9Ftrv+E3fWfjcX1n78uW2FDI964+AAAAABJRU5ErkJggg==",null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"flow_web",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!0,escapeRule:"escape-report",reportUrl:"https://mon.zijieapi.com/monitor_browser/collect/batch/security/?bid=flow_web",scmBranch:"release_train_samantha_2025-10-14_552097",scmName:"$20xN*Rt%j$P$E5h$jBsMldr-z$N$mx0%m5aWldFcH$aRmhO%FE9PQ",scmVersion:"1.0.5.6233",webpackPluginVersion:"3.4.5",filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1scHpZak5qZ*xwd*$IWmtl$E$6$2xkSmRHSlhPWFZpTTBwc1kw-zRkb%5I%m1waE1rWn$Xb*hOZ*xSR$R-%lNi$lpvWk$o$2$WcFRPWHBo%jBaN$dsZFJkb*x0-kRaT$dH%jJZMjEwZW1OSFJtc*F$emw2WTIxTmRsa3lPWFJq%npsM$ds-zFNR041T1ROa%0wcHlZek5D-%Zre$Z-%lpXRnBvWk$kR2$$d3liSFZh%jFZMFRHN$Nlb$ZI%m5s-%0xWj-"}),className:i()(o.icon,a),style:{width:l,height:l}})}},152246:function(e,t,a){a.d(t,{useHandleInvitation:function(){return c}});var n=a(141890),r=a(910214),s=a(231149),i=a(47563),o=a(178230);let c=e=>{let{t}=e,{runAsync:a,loading:c}=(0,s.default)(async(e,a)=>{try{return await r.workspaceApiService.AGWWorkspaceHandleInvitation({invitation_id:e,action:a?n.HandleInvitationAction.Accepted:n.HandleInvitationAction.Declined}),!0}catch(e){var s;return o.logger.persist.error({eventName:"workspace_handle_invitation_error",error:e}),i.SamanthaToast.error((null===(s=e.errorOption)||void 0===s?void 0:s.message)||(a?t("enterprise_toast_inviteAcceptFail"):t("enterprise_toast_inviteDeclineFail"))),!1}},{manual:!0,debounceWait:1e3,debounceLeading:!0,debounceTrailing:!1});return{handleInvitation:a,handleInvitationLoading:c}}},582801:function(e,t,a){a.d(t,{useSwitchWorkspace:function(){return g}});var n=a(865607),r=a(915299),s=a(690619),i=a(886941),o=a(72516),c=a(231149),l=a(38848),d=a(48766),u=a(47563),p=a(178230),m=a(324612);let v=()=>Promise.resolve({canSwitch:!0});var _=a(233825),h=a(951252),k=a(345660);let g=()=>{let e=(0,r.useTranslateFn)(),{currentWorkspace:t}=(0,h.useWorkspaceUserStore)(e=>({workspaceList:e.workspaceList,currentWorkspace:e.currentWorkspace}),n.shallow),{runAsync:a,loading:g}=(0,c.default)(async function(a){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if((null==t?void 0:t.workspace_id)===a.workspace_id)return;let{canSwitch:r}=await v();if(!r){p.logger.persist.warning({eventName:"switch_workspace_blocked_by_app"});return}if(a.workspace_scoped_sec_uid){let t=u.SamanthaToast.info({content:e("enterprise_changeSpace_toast_changing"),duration:5,icon:(0,k.jsx)(d.default,{size:"middle"})});p.logger.persist.info({eventName:"switch_workspace_start"});try{await (0,s.getFlowAccount)().passportApi.switchAccount({sec_user_id:a.workspace_scoped_sec_uid,onVerifyPhone:()=>u.SamanthaToast.close(t)}).then(e=>(l.FlowLocalStorage.setItem("flow_tea_user_id",String(a.workspace_scoped_uid)),(0,i.updateWorkspaceParams)({type:e.passport_enterprise_user_type}),e)),(0,o.resetProfile)(),await (0,m.timeoutPromise)(1e3),p.logger.persist.info({eventName:"switch_workspace",meta:{success:"1"}}),n&&window.location.reload()}catch(e){u.SamanthaToast.close(t),p.logger.persist.error({eventName:"switch_workspace",error:e,meta:{success:"0",targetWorkspaceId:a.workspace_id}})}}},{manual:!0,debounceWait:1e3,debounceLeading:!0,debounceTrailing:!1}),{runAsync:w,loading:f}=(0,c.default)(async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let n=await (0,_.getWorkspaceByWorkspaceId)(e);if(n)await a(n,t);else throw Error("Workspace not found")}catch(e){p.logger.persist.error({eventName:"switch_workspace_by_workspace_id_failed",error:e})}},{manual:!0,debounceWait:1e3,debounceLeading:!0,debounceTrailing:!1});return{switchWorkspace:a,switchLoading:g,switchWorkspaceByWorkspaceId:w,switchByWorkspaceIdLoading:f}}},115029:function(e,t,a){a.d(t,{useUpdateWorkspaceInfo:function(){return s}});var n=a(231149),r=a(843325);let s=()=>{let{run:e}=(0,n.default)(async e=>{await (0,r.updateWorkspaceInfo)({onlyList:e,throwError:!1})},{manual:!0});return{refreshWorkspaceList:e}}},276579:function(e,t,a){a.d(t,{useWorkspaceModals:function(){return r}});var n=a(713738);let r=()=>{let e=(0,n.useRef)(null),t=(0,n.useRef)(null);return{editProfileModalRef:e,handleOpenEditProfileModal:()=>{var t;null===(t=e.current)||void 0===t||t.openModal()},inviteMemberModalRef:t,handleOpenInviteMemberModal:e=>{var a;null===(a=t.current)||void 0===a||a.openModal(e)}}}},951252:function(e,t,a){a.d(t,{useWorkspaceUserStore:function(){return o}});var n=a(952259),r=a(321647),s=a(746479);let i={initWorkspaceStatus:"uninit",workspaceList:void 0,workspaceInvitationList:void 0,currentWorkspace:void 0,hiddenInvitations:void 0,visibleInvitations:void 0,hasInitInvitationNotice:!1},o=(0,r.create)()((0,n.subscribeWithSelector)(e=>({...i,setInitWorkspaceStatus:t=>{e((0,s.produce)(e=>{e.initWorkspaceStatus=t}))},setWorkspaceList:t=>{e((0,s.produce)(e=>{e.workspaceList=t}))},setWorkspaceInvitationList:t=>{e((0,s.produce)(e=>{e.workspaceInvitationList=t}))},setCurrentWorkspace:t=>{e((0,s.produce)(e=>{e.currentWorkspace=t}))},setInvitations:t=>{let{hiddenInvitations:a,visibleInvitations:n}=t;e((0,s.produce)(e=>{e.hiddenInvitations=a,e.visibleInvitations=n}))},setHasInitInvitationNotice:t=>{e((0,s.produce)(e=>{e.hasInitInvitationNotice=t}))}})))},233825:function(e,t,a){a.d(t,{checkIsTeamWorkspace:function(){return s},getWorkspaceByWorkspaceId:function(){return i}});var n=a(44015),r=a(910214);let s=e=>(null==e?void 0:e.workspace_type)===n.WorkspaceType.TeamWorkspace,i=async e=>{let{data:t}=await r.workspaceApiService.AGWGetWorkspaces();if(null==t?void 0:t.workspaces)return t.workspaces.find(t=>String(t.workspace_id)===e);throw Error("Empty workspace list")}},255753:function(e,t,a){a.d(t,{localStorageCross:function(){return n}});let n={getItem:e=>window.localStorage.getItem(e),setItem(e,t){window.localStorage.setItem(e,t)}}},324612:function(e,t,a){a.d(t,{timeoutPromise:function(){return n}});let n=e=>new Promise(t=>{setTimeout(t,e)})},843325:function(e,t,a){a.d(t,{updateWorkspaceInfo:function(){return c}});var n=a(44015),r=a(910214),s=a(886941),i=a(178230),o=a(951252);let c=async e=>{let{onlyList:t,throwError:a}=e;try{let{data:e}=await r.workspaceApiService.AGWGetWorkspaces();if(null==e?void 0:e.workspaces){var c;o.useWorkspaceUserStore.getState().setWorkspaceList(null==e?void 0:e.workspaces);let t=null===(c=e.workspaces.find(e=>e.workspace_type===n.WorkspaceType.PersonalWorkspace))||void 0===c?void 0:c.workspace_scoped_uid;t&&(0,s.updateWorkspaceParams)({cuid:String(t)}),i.logger.persist.info({eventName:"get_workspace_list",meta:{success:"1",workspace_count:null==e?void 0:e.workspaces.length}})}else throw Error("empty workspace list");!t&&(null==e?void 0:e.pending_workspaces)&&o.useWorkspaceUserStore.getState().setWorkspaceInvitationList(null==e?void 0:e.pending_workspaces)}catch(e){if(i.logger.persist.error({eventName:"get_workspace_list",error:e,meta:{success:"0"}}),a)throw e}}}}]);